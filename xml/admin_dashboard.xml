<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "IGNORE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="cha.adm.dash">
 <title>Using &productname; &dash;</title>
 <abstract>
  <para>The &productnamereg; &dash; is a Web interface that allows cloud administrators
  to manage various &ostack; services, like managing and creating images, creating 
  keypairs, or attaching volumes to instances. It is based on &ostack; &dash;
  (also known as <literal>Horizon</literal>). 
   <remark>taroth 2012-07-04: not sure about the CLI - if it has the same scope,
   a basic administration chapter in front of this one migth be useful
   to explain the underlying logic - maybe something for next revision</remark>
  </para>
  <para>After a short introduction to the &dash;, learn how to execute key 
  administration tasks such as managing projects and users, adding images, adding
  falvors or setting quotas.</para>
 </abstract>
 <sect1 id="sec.adm.dash.req">
  <title>Requirements</title>
  <para>The following requirements need to be fulfilled to access the &productname;
   &dash;:</para>
  <itemizedlist>
   <listitem>
    <para>The cloud operator has set up the &cloud; &dash; back-end. 
    It runs on the node that has the <literal>nova-dashboard server</literal> role. </para>
   </listitem>
   <listitem>
    <para>You have a recent Web browser that supports HTML5. It must have cookies and JavaScript
     enabled. For using the &dash;'s VNC client, which is based on <literal>noVNC</literal>,
     your browser needs to support HTML5 Canvas and HTML5 WebSockets. For more details and a list of
     browsers that support <literal>noVNC</literal>, refer to <ulink url="https://github.com/kanaka/noVNC/blob/master/README.md"/>, and <ulink url="https://github.com/kanaka/noVNC/wiki/Browser-support"/>, respectively.</para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 id="sec.adm.dash.intro">
  <title>&cloud; &dash;&mdash;Overview</title>
  <para>
   <remark>taroth 2012-07-19: todo - add intro</remark>
  </para>
  <sect2 id="sec.adm.dash.intro.login">
   <title>Logging Into the &cloud; &dash; as Administrator</title>
   <para>To access the &cloud; &dash;, ask the cloud operator for the following 
   information:</para>
   <itemizedlist>
    <listitem>
     <para>Public IP address of the node that has the <literal>nova-dashboard</literal>
       barclamp applied.
     </para>
    </listitem>
    <listitem>
     <para>User name and password of the cloud administrator user with which you can log in to
      &cloud; &dash;.</para>
    </listitem>
   </itemizedlist>
   <procedure>
    <step>
     <para>
      On any machine, start a Web browser and make sure that JavaScript and
      cookies are enabled.<remark>taroth 2012-07-04: DEVs, does the machine running 
      the browser need to be in the same network like the node which provides the 
      WEB UI? or can it be accessed from anywhere? cthiel 2012-07-05: that depends 
      on the network setup of the customer</remark>
     </para>
    </step>
    <step>
     <para>
       As URL, enter the IP address that you got from the cloud operator.
     </para>
     <screen>https://<replaceable>IPaddress</replaceable>/</screen>
     <note>
      <title>Certificate Warning</title>
      <para>
       Depending on your browser and browser options, you may get a
       certificate warning when trying to access the URL for the first time.
       This is because in case no certificate is provided when setting up
       the &dash;, &productname;  uses a self-signed certificate that is not
       considered trustworthy per default.
      </para>
      <para>
       To proceed anyway, you can add an exception in the browser to bypass
       the warning.</para>
     </note>
    </step>
    <step>
     <para> On the &cloud; &dash; login screen, enter the <guimenu>User Name</guimenu> and
       <guimenu>Password</guimenu> and click <guimenu>Sign In</guimenu>. </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="cloud_dash_login.png" width="60%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="cloud_dash_login.png" width="80%" format="PNG"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>The &dash; screen appears, showing a <guimenu>Project</guimenu> and an
       <guimenu>Admin</guimenu> tab. </para>
    </step>
   </procedure>
   <figure>
    <title>&productname; &dash;&mdash;Main Screen (Administrator's View)</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="cloud_dash_admin.png" width="100%" format="PNG" />
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="cloud_dash_admin.png" width="80%" format="PNG" />
     </imageobject>
    </mediaobject>
   </figure>

  </sect2>


  <sect2 id="sec.adm.dash.intro.main">
   <title>Main Screen (Administrator's	View)</title>
   <para>The top-level row of the main screen shows the username with which you 
   are logged in. It also allows you to access the <guimenu>Settings</guimenu> or to 
    <guimenu>Sign Out</guimenu> from the Web interface. </para>
   <note>
    <title>Available Functions</title>
    <para>The visible tabs and functions in the &dash; depend on the access 
    permissions of the user that is logged in.</para>
   </note>
   <para>If you are logged in as administrator, the main screen shows the following
    tabs: <guimenu>Project</guimenu> and an <guimenu>Admin</guimenu>. </para>
   <sect3 id="sec.adm.dash.intro.main.project">
    <title>Main Screen&mdash;<guimenu>Project</guimenu> Tab</title>
    <para>The <guimenu>Project</guimenu> tab shows details for the projects (or
      <literal>tenants</literal>) that the user who is logged in belongs to. 
      Select a <guimenu>Project</guimenu> from the drop-down list at the 
      left-hand corner to access the following categories:</para>
    <variablelist>
     <varlistentry>
      <term>
       <guimenu>Overview</guimenu>
      </term>
      <listitem>
       <para>Basic reports on the project.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Instances &amp; Volumes</guimenu>
      </term>
      <listitem>
       <para>Lists instances and volumes created by users of the project.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Images &amp; Snapshots</guimenu>
      </term>
      <listitem>
       <para>Lists images and snapshots created by users of the project.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Access &amp; Security</guimenu>
      </term>
      <listitem>
       <para>Allocate or release floating IP addresses, manage security groups 
       and keypairs.</para>
      </listitem>
     </varlistentry>
    </variablelist>

    <figure pgwide="0">
     <title>&productname; &dash;&mdash;<guimenu>Project</guimenu> Tab</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_project.png" width="100%" format="PNG" />
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_project.png" width="80%" format="PNG" />
      </imageobject>
     </mediaobject>
    </figure>
   </sect3>
   <sect3 id="sec.adm.dash.intro.main.admin">
    <title>Main Screen&mdash;<guimenu>Admin</guimenu> Tab</title>
    <para>On this tab, you can access the following categories: </para>
    <variablelist>
     <varlistentry>
      <term>
       <guimenu>Overview</guimenu>
      </term>
      <listitem>
       <para>Shows basic metrics.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Instances</guimenu>
      </term>
      <listitem>
       <para>Lists all currently running instances belonging to various users 
       and tenants. (Not all tenants may be visible to the administrator, though). 
       From there, you can terminate, pause, or reboot any instances or connect 
       to them via VNC. </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Services</guimenu>
      </term>
      <listitem>
       <para>Lists the defined services.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Flavors</guimenu>
      </term>
      <listitem>
       <para>Lists the available <quote>sizes</quote> of the VMs that users may launch.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Images</guimenu>
      </term>
      <listitem>
       <para>Shows the custom images that have been uploaded. Lets you edit image properties or
        delete images, if needed.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Project</guimenu>
      </term>
      <listitem>
       <para>Lists the available tenants. From here, you can create new projects and assign users to
        the projects.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Users</guimenu>
      </term>
      <listitem>
       <para>Gives an overview of all users.</para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Quotas</term>
      <listitem>
       <para>Lists the <remark>default?</remark> quota values that are allocated to
         <remark>all?</remark> users, such as the number of CPUs, RAM, or instances.</para>
      </listitem>
     </varlistentry>
    </variablelist>
    <figure pgwide="0">
     <title>&cloud; &dash;&mdash;<guimenu>Admin</guimenu> Tab</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_admin.png" width="100%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_admin.png" width="80%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
   </sect3>
  </sect2>
 </sect1>
 <sect1>
  <title>Managing Projects and Users</title>
  <para>
   <remark>taroth 2012-06-26: todo - add intro</remark>
   <remark>taroth 2012-07-23: found a lot of usability issues in the Web UI
   regarding user management, filed bnc#772633</remark>
  </para>
  <procedure id="pro.cloud.dash.add.project">
   <title>Adding or Deleting A Project</title>
   <para>
    <remark>taroth 2012-07-20: todo - add screenshots</remark>
   </para>
   <step>
    <para>On the <guimenu>Admin</guimenu> tab, select the 
   <guimenu>Projects</guimenu> category.</para>
   </step>
   <step>
    <para>To add a new project:</para>
    <substeps>
     <step>
      <para>Click <guimenu>Create New Project</guimenu>.</para>
     </step>
     <step>
      <para>In the window that opens, enter a <guimenu>Name</guimenu> and
     <guimenu>Description</guimenu> for the project and confirm your changes.</para>
      <para>The &dash; automatically assigns an ID and shows the newly created 
     project in the <guimenu>Projects</guimenu> category.
     </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>To delete one or multiple projects:</para>
    <substeps>
     <step>
      <para>Activate the check boxes in front of the projects that you want
      to delete.</para>
     </step>
     <step>
      <para>Click <guimenu>Delete Projects</guimenu>.
     <remark>taroth 2012-07-20: todo - check on our doc test cloud: 
     what happens (additional confirmation, anythings other issues to solve 
     before you can delete a project? </remark>
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>To temporarily disable <remark>deactivate?</remark>a project: 
   <remark>taroth 2012-07-20: todo - find out what it means to enable/disable
   a project!</remark>
    </para>
   </step>
  </procedure>
  <procedure>
   <title>Creating and Deleting Users</title>
   <step>
    <para>On the <guimenu>Admin</guimenu> tab, select the 
   <guimenu>Users</guimenu> category.</para>
   </step>
   <step>
    <para>To add a new user:</para>
    <substeps>
     <step>
      <para>Click <guimenu>Create User</guimenu>.</para>
     </step>
     <step>
      <para>In the window that opens, enter a <guimenu>User Name</guimenu> and
     an <guimenu>Email</guimenu> address for the user.</para>
     </step>
     <step>
      <para>Set a preliminary <guimenu>Password</guimenu> for the user and 
      confirm it.</para>
     </step>
     <step>Assign the user to a <guimenu>Primary Project</guimenu> by selecting
     the respective project from the drop-down list.</step>
    </para>
   </step>
   <step>
    <para>Confirm your changes.</para>
    <para>The &dash; automatically assigns an ID and shows the newly created 
     user in the <guimenu>Users</guimenu> category.
     </para>
   </step>
  </substeps>
 </step>
 <step>
  <para>To delete one or multiple users:</para>
  <substeps>
   <step>
    <para>Make sure that the user you want to delete is not assigned to
  any projects&mdash;otherwise the user cannot be deleted.</para>
   </step>
   <step>
    <para>Activate the check boxes in front of the users that you want
      to delete.</para>
   </step>
   <step>
    <para>Click <guimenu>Delete Users</guimenu> and confirm the pop-up 
    that appears.
    </para>
   </step>
  </substeps>
 </step>
 <step>
  <para>To temporarily disable <remark>deactivate?</remark> a user: Select the
  user and from the <guimenu>Actions</guimenu> drop-down list, 
  select <guimenu>Disable</guimenu>. <remark>taroth 2012-07-23: todo - find out 
  what it means to enable/disable a user!</remark>
  </para>
 </step>
</procedure>
<procedure>
 <title>Assigning Users to Projects</title>
 <para>When creating new users, you can assign them to a primary project. 
 To add existing users to projects or to modify and remove assigments:</para>
 <step>
  <para>On the <guimenu>Admin</guimenu> tab, select the 
   <guimenu>Projects</guimenu> category.</para>
 </step>
 <step>
  <para>Select the project for which to modify user assigments.</para>
 </step>
 <step>
  <para>From the <guimenu>Actions</guimenu> drop-down list for the project, 
 select <guimenu>Modify Users</guimenu>.</para>
  <para>The &dash; shows two lists of users: the currently assigned ones in 
  <guimenu>Users For Project</guimenu> and other existing users
in <guimenu>Add New Users</guimenu>.
  </para>
 </step>
 <step>
  <para>To remove users from the current project, select one ore multiple users
  and click <guimenu>Remove User</guimenu> or <guimenu>Remove Users</guimenu>.</para>
 </step>
 <step>
  <para>To assign a user to the current project:</para>
  <substeps>
   <step>
    <para>Select the user and click 
  <guimenu>Add To Project</guimenu>.</para>
   </step>
   <step>
    <para>In the window that apears, set the user's role with which to
   add him to the project and click <guimenu>Add</guimenu>.
   <remark>taroth 2012-07-23: todo -find out where to define the roles! 
   (also in &dash;? or in the barclamps?)</remark>
    </para>
   </step>
  </substeps>
 </step>
</procedure>
</sect1>
<sect1>
<title>Adding Images</title>

<para>
 <remark>taroth 2012-06-26: FIXME</remark>
</para>
</sect1>
<sect1>
<title>Adding Flavors</title>

<para>
 <remark>taroth 2012-06-26: FIXME</remark>
</para>
</sect1>
<sect1>
<title>Setting Quotas</title>

<para>
 <remark>taroth 2012-06-26: FIXME</remark>
</para>
</sect1>
</chapter>
