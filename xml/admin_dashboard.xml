<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "IGNORE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="cha.adm.dash">
 <title>Using &cloud; &dash;</title>
 <abstract>
  <para>
   The &productnamereg; &dash; is a Web interface that allows cloud
   administrators to manage various &ostack; services, like managing and
   creating images, creating keypairs, or attaching volumes to instances. It
   is based on &ostack; &dash; (also known as <literal>Horizon</literal>).
   <remark>taroth 2012-07-04: not sure about the CLI - if it has the same scope,
   a basic administration chapter in front of this one might be useful
   to explain the underlying logic - maybe something for next revision</remark>
  </para>

  <para>
   After a short introduction to the &dash;, learn how to execute key
   administration tasks such as managing projects and users, adding images,
   adding flavors or setting quotas.
  </para>
 </abstract>
 <sect1 id="sec.adm.dash.req">
  <title>Requirements</title>

  <para>
   The following requirements need to be fulfilled to access the &cloud;
   &dash;:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     The cloud operator has set up the &cloud; &dash; back-end. It runs on
     the node that has the <literal>nova-dashboard server</literal> role.
    </para>
   </listitem>
   <listitem>
    <para>
     You have a recent Web browser that supports HTML5. It must have cookies
     and JavaScript enabled. For using the &dash;'s VNC client, which is
     based on <literal>noVNC</literal>, your browser needs to support HTML5
     Canvas and HTML5 WebSockets. For more details and a list of browsers
     that support <literal>noVNC</literal>, refer to
     <ulink url="https://github.com/kanaka/noVNC/blob/master/README.md"/>,
     and
     <ulink url="https://github.com/kanaka/noVNC/wiki/Browser-support"/>,
     respectively.
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 id="sec.adm.dash.intro">
  <title>&cloud; &dash;&mdash;Overview</title>

  <para>
   Learn how to log in to &cloud; &dash; and get a short overview of its Web
   interface.
  </para>

  <sect2 id="sec.adm.dash.intro.login">
   <title>Logging Into the &cloud; &dash; as Administrator</title>
   <para>
    To access the &cloud; &dash;, ask the cloud operator for the following
    information:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Public IP address of the node that has the <literal>nova-dashboard
      server</literal> role.
     </para>
    </listitem>
    <listitem>
     <para>
      User name and password of the cloud administrator user with which you
      can log in to &cloud; &dash;.
     </para>
    </listitem>
   </itemizedlist>
   <procedure>
    <step>
     <para>
      Start a Web browser and make sure that JavaScript and cookies are
      enabled.
      <remark>taroth 2012-07-04: DEVs, does the machine running 
      the browser need to be in the same network like the node which provides the 
      WEB UI? or can it be accessed from anywhere? cthiel 2012-07-05: that depends 
      on the network setup of the customer</remark>
     </para>
    </step>
    <step>
     <para>
      As URL, enter the IP address that you got from the cloud operator.
     </para>
     <screen>https://<replaceable>IPaddress</replaceable>/</screen>
     <note>
      <title>Certificate Warning</title>
      <para>
       Depending on your browser and browser options, you may get a
       certificate warning when trying to access the URL for the first time.
       This is because in case no certificate is provided when setting up
       the &dash;, &productname; uses a self-signed certificate that is not
       considered trustworthy per default.
      </para>
      <para>
       To proceed anyway, you can add an exception in the browser to bypass
       the warning.
      </para>
     </note>
    </step>
    <step>
     <para>
      On the &cloud; &dash; login screen, enter the <guimenu>User
      Name</guimenu> and <guimenu>Password</guimenu> and click <guimenu>Sign
      In</guimenu>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="cloud_dash_login.png" width="60%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="cloud_dash_login.png" width="80%" format="PNG"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <para>
      The &dash;'s main screen appears, showing a <guimenu>Project</guimenu>
      and an <guimenu>Admin</guimenu> tab.
     </para>
    </step>
   </procedure>
<!-- <figure>
    <title>&productname; &dash;&mdash;Main Screen (Administrator's View)</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="cloud_dash_admin.png" width="100%" format="PNG" />
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="cloud_dash_admin.png" width="80%" format="PNG" />
     </imageobject>
    </mediaobject>
   </figure>-->
  </sect2>

  <sect2 id="sec.adm.dash.intro.main">
   <title>Main Screen (Administrator's View)</title>
   <para>
    The top-level row of the main screen shows the username with which you
    are logged in. It also allows you to access the
    <guimenu>Settings</guimenu> or to <guimenu>Sign Out</guimenu> from the
    Web interface.
   </para>
   <note>
    <title>Available Functions</title>
    <para>
     The visible tabs and functions in the &dash; depend on the access
     permissions of the user that is logged in.
    </para>
   </note>
   <para>
    If you are logged in as administrator, the main screen shows the
    following tabs: <guimenu>Project</guimenu> and an
    <guimenu>Admin</guimenu>.
   </para>
   <sect3 id="sec.adm.dash.intro.main.project">
    <title>Main Screen&mdash;<guimenu>Project</guimenu> Tab</title>
    <para>
     The <guimenu>Project</guimenu> tab shows details for the projects (or
     <literal>tenants</literal>) that the user who is logged in belongs to.
    </para>
    <figure>
     <title>&productname; &dash;&mdash;<guimenu>Project</guimenu> Tab</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_project.png" width="100%" format="PNG" />
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_project.png" width="80%" format="PNG" />
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     Select a <guimenu>Project</guimenu> from the drop-down list at the
     left-hand corner to access the following categories:
    </para>
    <variablelist>
     <varlistentry>
      <term>
       <guimenu>Overview</guimenu>
      </term>
      <listitem>
       <para>
        Shows basic reports on the project.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Instances &amp; Volumes</guimenu>
      </term>
      <listitem>
       <para>
        Lists instances and volumes created by users of the project.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Images &amp; Snapshots</guimenu>
      </term>
      <listitem>
       <para>
        Lists images and snapshots created by users of the project.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Access &amp; Security</guimenu>
      </term>
      <listitem>
       <para>
        Allows to allocate or release floating IP addresses, manage security
        groups and keypairs.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3 id="sec.adm.dash.intro.main.admin">
    <title>Main Screen&mdash;<guimenu>Admin</guimenu> Tab</title>
    <figure>
     <title>&cloud; &dash;&mdash;<guimenu>Admin</guimenu> Tab</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_admin.png" width="100%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_admin.png" width="80%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     On this tab, you can access the following categories:
    </para>
    <variablelist>
     <varlistentry>
      <term>
       <guimenu>Overview</guimenu>
      </term>
      <listitem>
       <para>
        Shows basic reports.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Instances</guimenu>
      </term>
      <listitem>
       <para>
        Lists all currently running instances belonging to various users and
        tenants. (Not all tenants may be visible to the administrator,
        though). From here, you can terminate, pause, or reboot any
        instances or connect to them via VNC.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Services</guimenu>
      </term>
      <listitem>
       <para>
        Lists the defined services.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Flavors</guimenu>
      </term>
      <listitem>
       <para>
        Lists the available <quote>sizes</quote> of the VMs that users may
        launch.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Images</guimenu>
      </term>
      <listitem>
       <para>
        Shows the custom images that have been uploaded. Lets you edit image
        properties or delete images, if needed.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Project</guimenu>
      </term>
      <listitem>
       <para>
        Lists the available tenants. From here, you can create new projects
        and assign users to the projects.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Users</guimenu>
      </term>
      <listitem>
       <para>
        Gives an overview of all users.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
       <guimenu>Quotas</guimenu>
      </term>
      <listitem>
       <para>
        Lists the default quota values (hard-coded in &ostack; Nova).
        Includes parameters such as the number of CPUs, RAM, or instances.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
  </sect2>
 </sect1>
 <sect1 id="sec.adm.dash.manage.projects.users">
  <title>Managing Projects and Users</title>

  <para>
   &productname; allows you to manage projects independently from each
   other. Projects represent different organizational units to which users
   can be assigned. During the basic system setup, the cloud operator needs
   to minimally define one project, one user, and one role to link the
   project and user. Roles define which actions users are allowed to
   perform.
  </para>

  <para>
   As a &cloud; administrator, you can create additional projects and users
   as needed. The following procedures guide you through the main management
   tasks like adding, modifying or deleting projects and users. Learn how to
   assign users to one or multiple projects or how to change or remove the
   assignment.
  </para>

  <remark>taroth 2012-07-23: found a lot of usability issues in the Web UI
   regarding user management, filed bnc#772633</remark>

  <procedure id="pro.adm.dash.project.create">
   <title>Creating or Deleting A Project</title>
   <para>Apart from creating and deleting projects, projects can also be
   temporarily disabled. Disabling a project has the following
   consequences:</para>
   <itemizedlist>
    <listitem>
     <para>The project can no longer be accessed from the 
   <guimenu>Project</guimenu> drop-down list on the <guimenu>Project</guimenu> 
   tab.</para>
    </listitem>
    <listitem>
     <para>Users that are only members of the disabled project
    can no longer log in.</para>
    </listitem>
    <listitem>
     <para>It is impossible to launch new instances for 
    a disabled project. Instances already running are not automatically 
    terminated though&mdash;you have to stop them manually.</para>
    </listitem>
    <listitem>
     <para>All data of a disabled project is kept so that the project can be 
     re-enabled at any time.</para>
    </listitem>
   </itemizedlist>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Projects</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To add a new project:
    </para>
    <substeps>
     <step>
      <para>
       Click <guimenu>Create New Project</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the window that opens, enter a <guimenu>Name</guimenu> and
       <guimenu>Description</guimenu> for the project and confirm your
       changes.
      </para>
<!-- <informalfigure>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="cloud_dash_projects_create.png" width="60%" format="PNG"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="cloud_dash_projects_create.png" width="50%" format="PNG"/>
        </imageobject>
       </mediaobject>
       </informalfigure>-->
      <para>
       The &dash; automatically assigns an ID and shows the newly created
       project in the <guimenu>Projects</guimenu> category.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To delete one or multiple projects:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the projects that you want to
       delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Projects</guimenu> and confirm your choice in
       the pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To temporarily deactivate a project: Click <guimenu>Edit Project</guimenu> and
     deactivate the <guimenu>Enabled</guimenu> check box.
    </para>
   </step>
  </procedure>

  <figure>
   <title>&dash; (Admin View)&mdash;List of Projects</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_projects_list.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_projects_list.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure id="pro.adm.dash.user.create">
   <title>Creating Or Deleting Users</title>
   <para>
    When creating a new user, you have to assign the user to a primary
    project. Before you can delete a user, you need to remove him from his
    primary project. The user can also be assigned to additional projects as
    described in <xref linkend="pro.adm.dash.user.assign"/>.
   </para>
   <para>Similar to projects, it is also possible to temporarily deactivate a 
   user account. That means that the user can no longer log in, but his 
   data is kept so that the account can be re-enabled at any time.</para>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Users</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To add a new user:
    </para>
    <substeps>
     <step>
      <para>
       Click <guimenu>Create User</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the window that opens, enter a <guimenu>User Name</guimenu> and an
       <guimenu>Email</guimenu> address for the user.
      </para>
     </step>
     <step>
      <para>
       Set a preliminary <guimenu>Password</guimenu> for the user and
       confirm it.
      </para>
     </step>
     <step>
      <para>
       Assign the user to a <guimenu>Primary Project</guimenu> by selecting
       the respective project from the drop-down list.
      </para>
     </step>
     <step>
      <para>
       Confirm your changes.
      </para>
      <para>
       The &dash; automatically assigns an ID and shows the newly created
       user in the <guimenu>Users</guimenu> category.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To delete one or multiple users:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the users that you want to
       delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Users</guimenu> and confirm your choice in the
       pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
      </para>
      <note>
       <title>Remove User from Primary Project</title>
       <para>
        In case a user cannot be deleted, he is still assigned to his
        primary project.
       </para>
       <orderedlist>
        <listitem>
         <para>
          <guimenu>Edit</guimenu> the user data to view which
          <guimenu>Primary Project</guimenu> he is assigned to.
         </para>
        </listitem>
        <listitem>
         <para>
          Remove the user from his primary project as described in
          <xref linkend="pro.adm.dash.user.assign"/>,
          <xref linkend="step.adm.dash.user.remove.start" xrefstyle="select:label nopage"/>
          to
          <xref linkend="step.adm.dash.user.remove.end" xrefstyle="select:label nopage"/>.
         </para>
        </listitem>
       </orderedlist>
      </note>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To temporarily deactivate a user account: Select the user and from the 
     <guimenu>Actions</guimenu> drop-down list, select <guimenu>Disable</guimenu>.
    </para>
   </step>
  </procedure>

  <figure>
   <title>&dash; (Admin View)&mdash;List of Users</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_users.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_users.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure id="pro.adm.dash.user.assign">
   <title>Modifying User Assignments for a Project</title>
   <para>
    When creating new users, you must assign them to a primary project as
    described in <xref linkend="pro.adm.dash.user.create"/>. To assign users
    to additional projects or to modify and remove assignments, proceed as
    follows:
   </para>
   <step id="step.adm.dash.user.remove.start">
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Projects</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Select the project for which to modify user assignments.
    </para>
   </step>
   <step>
    <para>
     From the <guimenu>Actions</guimenu> drop-down list for the project,
     select <guimenu>Modify Users</guimenu>.
    </para>
    <para>
     The &dash; shows two lists of users: <guimenu>Users For
     Project</guimenu> shows the users assigned to the current project,
     <guimenu>Add New Users</guimenu> shows other existing users, which can
     be assigned to the current project.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_users_list.png" width="100%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_users_list.png" width="80%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step id="step.adm.dash.user.remove.end">
    <para>
     To remove users from the current project, select one or multiple users
     and click <guimenu>Remove User</guimenu> or <guimenu>Remove
     Users</guimenu>.
    </para>
   </step>
   <step>
    <para>
     To assign a user to the current project:
    </para>
    <substeps>
     <step>
      <para>
       Select the user and click <guimenu>Add To Project</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the window that appears, set the user's role with which to add him
       to the project and click <guimenu>Add</guimenu>. Roles define the
       actions that the user is allowed to perform. Roles are configured 
       by the cloud operator in &ostack; Identity (Keystone). Actions are defined 
       per &ostack; service in the respective 
       <filename>/etc/[SERVICE_CODENAME]/policy.json</filename> file, for example
       in <filename>/etc/nova/policy.json</filename> for the Compute (Nova) service.
       For details, refer to <ulink url="http://docs.openstack.org/trunk/openstack-
       compute/install/content/keystone-concepts.html"/>. </para>
      <remark>taroth 2012-08-02: todo - check with cthiel: who defines roles and actions? 
       operator? admin? (this also defines where it should be documented)</remark>
      <!--taroth 2012-08-02: info from the URl above-->
     <!--The /etc/[SERVICE_CODENAME]/policy.json controls what users are allowed to do for a
       given service. For example, /etc/nova/policy.json specifies the access policy for the Compute
       service, /etc/glance/policy.json specifies the access policy for the Image service, and
       /etc/keystone/policy.json specifies the access policy for the Identity service. The default
       policy.json files in the Compute, Identity, and Image service recognize only the admin role:
       all operations that do not require the admin role will be accessible by any user that has any
       role in a tenant. If you wish to restrict users from performing operations in, say, the
       Compute service, you need to create a role in the Identity service and then modify
       /etc/nova/policy.json so that this role is required for Compute operations.-->
     </step>
    </substeps>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.adm.dash.manage.img">
  <title>Managing Images</title>

  <para>
   Images cannot be added from the &cloud; &dash;, you need to use the
   command line tool <command>glance add</command> instead. For details,
   refer to <xref linkend="cha.adm.cli"/>.
   <remark>taroth 2012-07-25: todo - add detailed
  link to the section as soon as it is written</remark>
  </para>

  <para>
   After images have been added from the command line, they appear in the
   &cloud; &dash; on the <guimenu>Admin</guimenu> tab. View them in the
   <guimenu>Images</guimenu> category.
  </para>

  <para>
   From there, you can <guimenu>Edit</guimenu> the following image
   properties:
   <remark>taroth 2012-07-30: DEVs, do you have more information
  on the following properties?</remark>
  </para>

  <variablelist>
   <varlistentry>
    <term>Name</term>
    <listitem>
     <para>
      The image's name.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Kernel ID</term>
    <listitem>
     <para>
      The image's kernel ID. This parameter is only needed if an external
      Kernel is associated with the image. The ID points to the Kernel
      glance image.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Ramdisk ID</term>
    <listitem>
     <para>
      The image's ramdisk ID. This parameter is only needed if an external
      ramdisk is associated with the image. The ID points to the ramdisk
      glance image.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Architecture</term>
    <listitem>
     <para>
      The image's architecture.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Container Format</term>
    <listitem>
     <para>
      The image's container format.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Disk Format</term>
    <listitem>
     <para>
      The image's dist format. Example formats include
      <literal>raw</literal>, <literal>qcow2</literal>, and
      <literal>ami</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Public</term>
    <listitem>
     <para>
      The check box defines if the image is publicly available or not.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   If you need to delete an image, proceed as follows.
  </para>

  <procedure id="pro.adm.dash.img.delete">
   <title>Deleting Images</title>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Images</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To delete one or multiple images, activate the check boxes in front of
     the images that you want to delete.
    </para>
   </step>
   <step>
    <para>
     Click <guimenu>Delete Images</guimenu> and confirm your choice in the
     pop-up that appears.
    </para>
    <para>
     A message on the Web page shows if the action has been successful.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.adm.dash.manage.flavors">
  <title>Managing Flavors</title>

  <para>
   In &ostack;, flavors define the compute, memory and storage capacity of
   <literal>nova</literal> computing instances. To put it simple, a flavor
   is an available hardware configuration for a server. It defines the
   <quote>size</quote> of a virtual server that can be launched.
   There are some default flavors (<literal>m1.*</literal>), which are created
   during initialization of the Nova database, triggered by Crowbar.
  </para>

  <para>
   A flavor consists of the following parameters:
  </para>

  <variablelist id="vl.adm.flavor.params">
   <title>Flavor Parameters</title>
   <varlistentry>
    <term>Flavor ID</term>
    <listitem>
     <para>
      Automatically proposed by &productname;.
      <remark>taroth 2012-07-25: 
     todo - check if proposal can be changed and what happens if I use an already 
     existing ID</remark>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Name (<option>--name</option>)</term>
    <listitem>
     <para>
      Name for the new flavor.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>VCPUs (<option>--cpu</option>)</term>
    <listitem>
     <para>
      Number of virtual CPUs to use.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Memory MB (<option>--memory</option>)</term>
    <listitem>
     <para>
      Amount of RAM to use (in megabytes).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Root Disk GB (<option>--root_gb</option>)</term>
    <listitem>
     <para>
        Amount of disk space (in gigabytes) to use for the root
      (<literal>/</literal>) partition.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Ephemeral Disk GB (<option>--ephemeral_gb</option>)</term>
    <listitem>
     <para>
      Amount of disk space (in gigabytes) to use for the ephemeral
      partition.
     </para>
     <para>
      Ephemeral disks offer machine local disk storage linked to the
      lifecycle of a VM instance. When a VM is terminated, all data on the
      ephemeral disk is lost. Ephemeral disks are not included in any
      snapshots.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Via the &cloud; &dash;, you can create new flavors or delete existing
   ones.
   <!--taroth 2012-07-25: DEVs, is it possible at all to modify flavors?
  on the CLI, for example? taroth 2012-08-02: according to DEVs, seems only be
  possible by modifying the database ('UPDATE flavors SET foo=bla WHERE id=xx;'), 
  no 'nova flavor-update' or 'nova-manage flavor update' -> not for the docs :)
   -->
  </para>

  <procedure id="pro.adm.dash.flavors.create">
   <title>Creating or Deleting Flavors</title>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Flavors</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To create a new flavor:
    </para>
    <substeps>
     <step>
      <para>
       Click <guimenu>Create Flavor</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the window that opens, specify the required parameters for the
       flavor as described in <xref linkend="vl.adm.flavor.params"/>.
      </para>
     </step>
     <step>
      <para>
       Confirm your changes.
      </para>
      <para>
       The newly created flavor will appear in the list of flavors and can
       be used when launching new instances.
       <remark>taroth 2012-07-25: todo -
     check if it possible to switch to a newly created flavor in running instances
     </remark>
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To delete one or multiple flavors:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the flavors that you want to
       delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Flavors</guimenu> and confirm your choice in
       the pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
       <remark>taroth 2012-07-25: todo - check if a flavor can also be deleted is
      there is an instance running that uses that flavor</remark>
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <figure>
   <title>&productname; &dash;&mdash;List of Flavors (Administrator's View)</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_flavors_list.png" width="100%" format="PNG" />
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_flavors_list.png" width="80%" format="PNG" />
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1>
  <title>Setting Quotas</title>

  <para>
   In &ostack;, quotas are currently defined per project.
   Quotas contain the following parameters:
  </para>

  <variablelist id="vl.adm.quota.params">
   <title>Quota Parameters</title>
   <varlistentry>
    <term>ID (Name)</term>
    <listitem>
     <para>
      ID for the quota settings. Automatically proposed by &productname;.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Metadata Items</term>
    <listitem>
     <para>
      Number of metadata items per instance (for example, public SSH keys).
      </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Injected Files</term>
    <listitem>
     <para>
      Number of injected files.
      <remark>taroth 2012-07-26: DEVs, no idea
     what this should mean - does anybody have more information on this?</remark>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Injected File Content Bytes</term>
    <listitem>
     <para>
      Number of bytes per injected file.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>VCPUs</term>
    <listitem>
     <para>
      Number of virtual CPUs that can be allocated in total.
      <!--taroth 2012-07-26: inconsistent terminology in Dashboard 
       - called "Cores" in the "Quota"  overview on the Admin tab, 
       see bnc#773852-->
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Instances</term>
    <listitem>
     <para>
      Total number of instances.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Volumes</term>
    <listitem>
     <para>
      Total number of volumes.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Gigabytes</term>
    <listitem>
     <para>
       Total size of all volumes, measured in gigabytes.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>RAM (in MB)</term>
    <listitem>
     <para>
      Total RAM size of all instances, measured in megabytes.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Floating IPs</term>
    <listitem>
     <para>
      Total number of floating IP addresses.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Security Group Rules</term>
    <listitem>
     <para>
      <remark>taroth 2012-07-26: hm, this param is only shown on the Quota 
     overview on the Admin tab, but does not appear in the dialog where quotas 
     are *set*</remark>
      Number of security rules per security group.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Security Groups</term>
    <listitem>
     <para>
      <remark>taroth 2012-07-26: hm, this param is only shown on the Quota 
     overview on the Admin tab, but does not appear in the dialog where quotas 
     are *set*</remark>
      Number of security groups.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

<!--taroth 2012-07-26: the "quota" category in the Admin tab
  does not make much sense to me as... it does not explain what is shown there,
  after some research found out that it always seems to show the same values, 
  then found the following: https://bugs.launchpad.net/horizon/+bug/973098-->

  <note>
   <title>Contents of the <guimenu>Quota</guimenu> Category</title>
   <para>
    The <guimenu>Quota</guimenu> category does not allow you to set any
    values, it just shows the global default quota values that are
    hard-coded in &ostack; Nova.
   </para>
  </note>

  <procedure id="pro.adm.dash.quota.set">
   <title>Setting Quotas for a Project</title>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Projects</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Select the project for which to set or change quota values.
    </para>
   </step>
   <step>
    <para>
     From the <guimenu>Actions</guimenu> drop-down list, select
     <guimenu>Modify Quota</guimenu>.
    </para>
    <para>
     The windows that opens shows the default quota values per project,
     which are hard-coded in &ostack; Nova.
    </para>
   </step>
   <step>
    <para>
     Change the values for the quota parameters as desired. For information
     about the parameters, refer to <xref linkend="vl.adm.quota.params"/>.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_projects_quota.png" width="60%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_projects_quota.png" width="80%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     Confirm your changes.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
