<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "IGNORE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="cha.adm.dash">
 <title>Using &cloud; &dash;</title>
 <abstract>
  <para>
   &dash-descr-short;
  </para>

  <para>
   After a short introduction to the &dash;, learn how to execute key
   administration tasks such as managing projects and users, adding images,
   adding flavors, and setting quotas.
  </para>
 </abstract>
 <sect1 id="sec.adm.dash.req">
  <title>Requirements</title>
  &dash-req;
  </sect1>
 <sect1 id="sec.adm.dash.intro">
  <title>&cloud; &dash;&mdash;Overview</title>

  <para>
   Learn how to log in to &cloud; &dash; and get a short overview of its Web
   interface.
  </para>

  <sect2 id="sec.adm.dash.intro.login">
   <title>Logging in to the &cloud; &dash;</title>
   &dash-login;
   <figure>
    <title>&cloud; &dash;&mdash;Login Screen</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="cloud_dash_login_admin.png" width="60%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="cloud_dash_login_admin.png" width="50%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    After logging in, the &dash;&apos;s
    <xref linkend="sec.adm.dash.intro.main" xrefstyle="select:title nopage"/>
    appears.
   </para>
  </sect2>

  <sect2 id="sec.adm.dash.intro.main">
   <title>Main Screen (Administrator's View)</title>
   &dash-main-screen;  
   <para>
    If you are logged in as an administrator, the main screen shows the
    following tabs on the left navigation bar: <guimenu>Project</guimenu>
    and <guimenu>Admin</guimenu>.
   </para>
   <sect3 id="sec.adm.dash.intro.main.project">
    <title>Main Screen&mdash;<guimenu>Project</guimenu> Tab</title>
    <para>
     The <guimenu>Project</guimenu> tab shows details for the projects that
     the user who is logged in belongs to.
    </para>
    &dash-project-tab;
   </sect3>
  <sect3 id="sec.adm.dash.intro.main.admin">
    <title>Main Screen&mdash;<guimenu>Admin</guimenu> Tab</title>
    <figure>
     <title>&cloud; &dash;&mdash;<guimenu>Admin</guimenu> Tab</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_admin.png" width="100%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_admin.png" width="80%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     On this tab, you can access the following categories. They are sorted intro
     the groups <guimenu>System Panel</guimenu> and <guimenu>Identity
      Panel</guimenu>.
    </para>
    <variablelist><title>System Panel</title>
     <varlistentry>
      <term><guimenu>Overview</guimenu>
      </term>
      <listitem>
       <para>
        Shows basic reports.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Hypervisors</guimenu>
      </term>
      <listitem>
       <para>Shows the hypervisor summary with graphics of <guimenu>VCPU
         Usage</guimenu>, <guimenu>Memory Usage</guimenu>, and <guimenu>Disk
         Usage</guimenu>. </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Instances</guimenu>
      </term>
      <listitem>
       <para>
        Lists all currently running instances belonging to various users and
        projects.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Volumes</guimenu>
      </term>
      <listitem>
       <para>
        Lists all volumes belonging to various users and projects. (Not all
        projects may be visible to the administrator, though.) From here,
        administrators can also create volume types, according to the
        capabilities of the storage back-end drivers to be used.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Flavors</guimenu>
      </term>
      <listitem>
       <para>
        Lists the available <quote>sizes</quote> of the VMs that users may
        launch. From here, administrators can modify existing flavors or
        create new flavors.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Images</guimenu>
      </term>
      <listitem>
       <para>
        Shows the public images that have been uploaded, and custom images
        of any projects that have been made visible to the administrator.
        Lets the administrator add images, edit image properties or delete
        images, if needed.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Networks</guimenu>
      </term>
      <listitem>
       <para>
        Lets administrators create networks and define options such as
        <guimenu>Admin State</guimenu>, <guimenu>Shared</guimenu>, or
        <guimenu>External Network</guimenu>. Shows all networks and subnets
        that are visible to the administrator.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Routers</guimenu>
      </term>
      <listitem>
       <para>
        Shows the routers that have been created. From here, routers can
        only be listed and deleted. To create routers, use the
        <guimenu>Routers</guimenu> category in the
        <guimenu>Project</guimenu> tab, as this can be done with normal user
        permissions.
       </para>
       <!--<remark>taroth 2013-08-02: DEVs, it is still unclear to me why admins can only delete
        routers and not create them as opposed to users?</remark> answer be rhafer 2013-09-11: 
        It got removed because of this: 
        https://bugs.launchpad.net/horizon/+bug/1153754-->
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Defaults</guimenu>
      </term>
      <listitem>
       <para>Shows default quota values. Quotas are hard-coded in &ostack;
        &o_comp; and define the maximum allowable size and number of resources.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>System Info</guimenu>
      </term>
      <listitem>
       <para>
        Lists the defined <guimenu>Services</guimenu>, and the
        <guimenu>Default Quotas</guimenu> (hard-coded in &ostack; &comp;).
        Includes parameters such as the number of CPUs, RAM, or instances.
       </para>
      </listitem>
     </varlistentry>
     </variablelist>
   
    <variablelist>
     <title>Identity Panel</title>
     <varlistentry>
      <term><guimenu>Domains</guimenu>
      </term>
      <listitem>
       <para>Shows domains.<remark>taroth 2013-12-10: &wip;</remark></para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Projects</guimenu>
     </term>
      <listitem>
       <para> Lists the available projects. From here, administrators can create
        new projects, assign users to the projects, view the usage, or modify
        the quota settings for a project. </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Users</guimenu>
     </term>
      <listitem>
       <para> Gives an overview of all users and lets administrators add,
        modify, delete or disable user accounts. </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Groups</term>
      <listitem>
       <para> Gives an overview of all groups and lets administrators add,
        modify, delete or disable groups. <remark>taroth 2013-12-10:
         &wip;</remark></para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Roles</term>
      <listitem>
       <para> Gives an overview of all roles and lets administrators add,
        modify, delete or disable roles. <remark>taroth 2013-12-10:
         &wip;</remark></para>
      </listitem>
     </varlistentry>
    </variablelist>
   
  </sect3>
  </sect2>
 </sect1>
 <sect1 id="sec.adm.dash.projects.users">
  <title>Managing Projects, Users, Groups, and Roles</title>
  
   &projects;
  

  <para>
   As a &cloud; administrator, you can create additional projects and user
   accounts as needed. The following procedures guide you through the main
   management tasks like adding, modifying, deleting or temporarily disabling projects and user
   accounts. Learn how to assign users to one or multiple projects, or how
   to change or remove the assignment.
  </para>
  &users;
  &roles;

 &project-disable;
  <!--<remark>taroth 2012-07-23: found a lot of usability issues in the Web UI
   regarding user management, filed bnc#772633 - taroth 2013-12-11: meanwhile
   reported as https://bugs.launchpad.net/horizon/+bug/1194109</remark>
-->

  <procedure id="pro.adm.dash.project.create">
   <title>Creating or Deleting A Project</title>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Projects</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To add a new project:
    </para>
    <substeps>
     <step>
      <para>
       Click <guimenu>Create Project</guimenu>.
      </para>
     </step>
     <step>
      <para><remark>taroth 2013-12-11: todo - there are now also Domain ID and
        Domain Name fields in the dialog which are filled automatically - find
        out about them</remark> In the window that opens, enter a
        <guimenu>Name</guimenu> and <guimenu>Description</guimenu> for the
       project. </para>
     </step>
     <step>
      <para>
       For details about defining project members or setting quotas for the
       project, refer to <xref linkend="pro.adm.dash.user.assign"/> and
       <xref
        linkend="pro.adm.dash.quota.set"/> respectively.
      </para>
     </step>
     <step>
      <para>
       Confirm your changes.
      </para>
      <para>
       The &dash; automatically assigns an ID and shows the newly created
       project in the <guimenu>Projects</guimenu> category.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To delete one or multiple projects:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the projects that you want to
       delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Projects</guimenu> and confirm your choice in
       the pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To temporarily deactivate a project: Click <menuchoice>
     <guimenu>More</guimenu> <guimenu>Edit Project</guimenu> </menuchoice>
     and deactivate the <guimenu>Enabled</guimenu> check box.
    </para>
   </step>
  </procedure>

  <figure>
   <title>&cloud; &dash;&mdash;List of Projects (Administrator's View)</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_projects_list.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_projects_list.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure id="pro.adm.dash.user.create">
   <title>Creating Users Accounts</title>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Users</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Click <guimenu>Create User</guimenu>.
    </para>
   </step>
   <step>
    <para><remark>taroth 2013-12-11: todo - Domain ID and
     Domain Name fields</remark>
     In the window that opens, enter a <guimenu>User Name</guimenu> and an
     <guimenu>Email</guimenu> address for the user.
    </para>
   </step>
   <step>
    <para>
     Set a preliminary <guimenu>Password</guimenu> for the user and confirm
     it.
    </para>
   </step>
   <step>
    <para>
     Assign the user to a <guimenu>Primary Project</guimenu> by selecting
     the respective project from the drop-down list.
    </para>
   </step>
   <step performance="optional">
    <para>
     If you need to create a new project:
    </para>
    <substeps>
     <step>
      <para>
       Click the plus icon next to <guimenu>Primary Project</guimenu>.
      </para>
     </step>
     <step>
      <para><remark>taroth 2013-12-11: todo - Domain ID and
       Domain Name fields</remark>
       In the window that opens, enter a <guimenu>Name</guimenu> and
       <guimenu>Description</guimenu> for the project.
      </para>
     </step>
     <step>
      <para>
       For details about defining project members or setting quotas for the
       project, refer to <xref linkend="pro.adm.dash.user.assign"/> and
       <xref
       linkend="pro.adm.dash.quota.set"/> respectively.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Select a <guimenu>Role</guimenu> which to assign to the user. By
     default, the user is automatically assigned a <literal>Member</literal>
     role. This is appropriate in most cases.
    </para>
   &role-admin-warn;
   </step>
   <step>
    <para>
     Confirm your changes.
    </para>
    <para>
     The &dash; automatically assigns an ID and shows the newly created user
     account in the <guimenu>Users</guimenu> category.
    </para>
   </step>
  </procedure>

  <procedure id="pro.adm.dash.user.delete">
   <title>Deleting or Temporarily Disabling Users Accounts</title>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Users</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     If you only want to temporarily deactivate a user account: Select the
     user, and from the <guimenu>More</guimenu> drop-down list, select
     <guimenu>Disable</guimenu>.
    </para>
   </step>
   <step>
    <para>
     To delete one or more user accounts:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the user accounts that you want
       to delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Users</guimenu> and confirm your choice in the
       pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <figure>
   <title>&cloud; &dash;&mdash;List of Users (Administrator's View)</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_users_list.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_users_list.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <procedure id="pro.adm.dash.user.assign">
   <title>Modifying User Assignments for a Project</title>
   <para>
    When creating new users, you must assign them to a primary project as
    described in <xref linkend="pro.adm.dash.user.create"/>. To assign users
    to additional projects or to modify and remove assignments or roles,
    proceed as follows:
   </para>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Projects</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Select the project for which to modify user assignments.
    </para>
   </step>
   <step>
    <para>
     Click <guimenu>Modify Users</guimenu>.
    </para>
    <para>
     The dialog that opens shows two lists of users on its <guimenu>Project
     Members</guimenu>' tab: <guimenu>All Users</guimenu> and
     <guimenu>Project Members</guimenu>.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_users_assign.png" width="80%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_users_assign.png" width="70%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     To assign a user to the current project:
    </para>
    <substeps>
     <step>
      <para>
       Select a user from the <guimenu>All Users</guimenu> list and click
       the plus icon next to the user.
      </para>
      <para>
       This moves the user to the <guimenu>Project Members</guimenu> list.
       By default, the user is automatically assigned a
       <literal>Member</literal> role. This is appropriate in most cases.
      </para>
     </step>
     <step>
      <para>
       If you want to change the role with which the user has been added,
       select a different role from the drop-down list next to the minus
       icon.
      </para> &role-admin-warn; </step>
    </substeps>
   </step>
   <step>
    <para>
     To remove a user from the current project, select the respective user
     in the <guimenu>Project Members</guimenu> list and click the minus icon
     next to the user.
    </para>
    <para>
     This moves the user to the <guimenu>All Users</guimenu> list.
    </para>
   </step>
   <step>
    <para>
     Confirm your changes.
    </para>
   </step>
  </procedure>
 
  
  <procedure id="pro.adm.dash.user.roles">
   <title>Creating, Modifying or Deleting Roles</title> 
   &roles; 
   <para>The &productname; &dash; enables you to create roles, change a role's
    name or delete roles. 
    <remark>taroth 2014-01-08: DEVs, found the following sentence in
    http://docs.openstack.org/havana/install-guide/install/zypper/content/keystone-users.html,
    not sure if applies here -  I doubt if  Horizon will check all json
    files... and what happens if the role created does not match with any of the
    roles defined in a json file?</remark>
    Any roles you create should map to roles specified in
    the <filename>policy.json</filename> files of the various &ostack;
    services.</para>
   
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Roles</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To create a new role or modify an existing one:
    </para>
   <substeps>
    <step>
     <para>
      Click <guimenu>Create Role</guimenu> or select a role and click
      <guimenu>Edit</guimenu>.
     </para>
    </step>
    <step>
     <para>
      In the window that opens, enter a name for the new role or change the
      existing name.
     </para>
    </step>
   <step>
      <para> Confirm your choice to close the dialog.</para>
    <para>
     The &dash; automatically assigns an ID to a new role and shows the newly
     created or modified role in the <guimenu>Roles</guimenu> category.
    </para>
   </step>
   </substeps>
    </step>
   <step>
    <para>
     To delete one or multiple roles:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the roles that you want to
       delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Roles</guimenu> and confirm your choice in
       the pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
  
 </sect1>
 <sect1 id="sec.adm.dash.img">
  <title>Managing Images</title>
   &images;
   
   &img-manage;
   
   &img-ownership;
   
   &img-props;
   
  <!--taroth 2013-07-22: CAVE - the following text (with slight variations due to different UI
   elements) can be found in xml/user_dashboard, section "sec.user.dash.img"-->

  <procedure id="pro.adm.dash.img.create">
   <title>Adding Images</title>
   <para> Since the &ostack; Grizzly release, it is possible to upload
    images also via the &dash;. Images can either be uploaded from external
    URLs or from a local file system. Upload of compressed image binaries
     (<literal>.zip</literal> and <literal>.tar.gz</literal>) is supported. </para>
   <note>
    <title>Limitations for Image Upload via &dash;</title>
    <itemizedlist>
     <listitem>
      <para> For upload from an external URL, the image must be available via a
       valid HTTP URL that leads directly to the image binary. URLs that
       redirect or serve error pages will result in unusable images. </para>
     </listitem>
     <listitem>
      <para> Avoid upload of large images via &dash;. For image sizes of
       several GB, it is strongly recommended to use the command-line tools. For
       details, refer to <xref linkend="sec.adm.cli.img.upload"/>. </para>
     </listitem>
     <listitem>
      <para> Only a limited set of image properties are accessible from the
       &dash;. It is therefore recommended to set and modify image
       properties from the command line. For details, refer to <xref
        linkend="sec.adm.cli.img.props"/>. </para>
     </listitem>
    </itemizedlist>
   </note>
   <step>
    <para> Log in to &cloud; &dash;. </para>
   </step>
   <step>
    <para> On the <guimenu>Admin</guimenu> tab, select the
      <guimenu>Images</guimenu> category. </para>
   </step>
   <step>
    <para> Click <guimenu>Create Image</guimenu>. </para>
   </step>
   <step>
    <para> In the window that opens, enter a <guimenu>Name</guimenu> for the
     image. </para>
   </step>
   <step>
    <para>If you have an external URL to upload the image from, enter the URL
     into the <guimenu>Image Location</guimenu> field. (The <guimenu>Image
      Location</guimenu> field is only available if the <guimenu>Image
      Source</guimenu> drop-down list is set to <literal>Image Location</literal>, which is the
     default on opening the <guimenu>Create an Image</guimenu> dialog).</para>
   </step>
   <step>
    <para>For a local image to upload, set <guimenu>Image Source</guimenu> to
     <literal>Image File</literal> and enter the path into <guimenu>Image
      File</guimenu>. Alternatively, click <guimenu>Browse</guimenu> to select
     the file from your file system.</para>
   </step>
   <step>
    <para> Select the image <guimenu>Format</guimenu>. </para>
   </step>
   <step>
    <para> If you want to specify a minimum disk size or minimum RAM size that
     is required to boot the image, enter the values into the respective input
     fields. Otherwise the minimums are set to <literal>0</literal>. </para>
   </step>
   <step>
    <para> Confirm your changes. </para>
    <para> The image is uploaded to the &ostack; &img; service. </para>
   </step>
  </procedure>

  <para>
   After images have been added, they appear in the &cloud; &dash; on the
   <guimenu>Admin</guimenu> tab. View them in the <guimenu>Images</guimenu>
   category.
  </para>

  <figure>
   <title>&cloud; &dash;&mdash;List of Images (Administrator's View)</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_img_list_adm.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_img_list_adm.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   From there, you can also <guimenu>Edit</guimenu> some image properties.
   As only a limited set of image properties are accessible from the &dash;,
   it is preferable to set and modify image properties from the command
   line. For example, to make sure that an image is only launched on
   appropriate hypervisors, you can specify image properties that refer to a
   certain architecture, hypervisor type or application binary interface
   (ABI) that the image requires. For more details, refer to
   <xref linkend="pro.adm.cli.img.props.modify"/>.
  </para>

  <para>
   If you need to delete an image, proceed as follows.
  </para>

  <procedure id="pro.adm.dash.img.delete">
   <title>Deleting Images</title>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Images</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To delete one or multiple images, activate the check boxes in front of
     the images that you want to delete.
    </para>
   </step>
   <step>
    <para>
     Click <guimenu>Delete Images</guimenu> and confirm your choice in the
     pop-up that appears.
    </para>
    <para>
     A message on the Web page shows if the action has been successful.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.adm.dash.flavors">
  <title>Managing Flavors</title>
  &flavors;
  &flavor-params;
  <para>
   The default flavors are:
  </para>
  &flavors-default; 

  <para>
   Via the &cloud; &dash;, you can create new flavors, edit or delete
   existing ones.
  </para>

  <procedure id="pro.adm.dash.flavors.create">
   <title>Creating or Deleting Flavors</title>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Flavors</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To create a new flavor:
    </para>
    <substeps>
     <step>
      <para>
       Click <guimenu>Create Flavor</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the window that opens, specify the required parameters  for the
       flavor on the <guimenu>Flavor Info</guimenu> tab.
      </para>
     </step>
    
     <step>
      <para>
       Confirm your changes.
      </para>
      <para>
       The newly created flavor will appear in the list of flavors and can
       be used when launching new instances.
<!--taroth 2012-07-25: todo - check if it possible to switch to a 
       newly created flavor in running instances - taroth 2012-11-21: 
       according to cthiel resize is only possible with special option 
       (allow_resize_to_same_host=True) which we do not have enabled-->
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     To delete one or multiple flavors:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the flavors that you want to
       delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Flavors</guimenu> and confirm your choice in
       the pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
<!--taroth 2012-07-25: check if a flavor can also be deleted if
      there is an instance running that uses that flavor - taroth 2012-11-21:
      acc. to cthiel this will result in error message-->
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
  
  
  <procedure id="pro.adm.dash.flavors.modify">
   <title>Modifying Flavors</title>
   <para> To modify flavor parameters (like the number of virtual CPUs or
    similar), to restrict the use of a flavor to users of certain projects, and
    to add additional metadata, proceed as follows: </para>
   <step>
    <para> Log in to &cloud; &dash;. </para>
   </step>
   <step>
    <para> On the <guimenu>Admin</guimenu> tab, select the
      <guimenu>Flavors</guimenu> category. </para>
   </step>
   <step>
    <para>To change typical flavor parameters like the number of virtual CPUs or
     similar:</para>
    <substeps>
     <step>
      <para>Select a flavor and click <guimenu>Edit Flavor</guimenu>. </para>
     </step>
     <step>
      <para>In the dialog that opens, modify the parameters on the
        <guimenu>Flavor Info</guimenu> tab.</para>
     </step>
    </substeps>
   </step>
   <step>
    <para>To restrict use of the current flavor to users of a certain
     project:</para>
    <substeps>
     <step>
      <para>Switch to the <guimenu>Flavor Access</guimenu> tab. It shows two
       lists of projects: <guimenu>All Users</guimenu> and <guimenu>Selected
        Projects</guimenu>.</para>
     </step>
     <step>
      <para>To allow a group of users to use the flavor, click the plus icon
       next to the group. This moves the group to the <guimenu>Selected
        Projects</guimenu> list. Only projects in this list can use the
       flavor.</para>
     </step>
     <step>
      <para>To remove allowance for a group of users, select the respective
       project in the <guimenu>Selected Projects</guimenu> list and click the
       minus icon next to the project. This moves the project to the
        <guimenu>All Projects</guimenu> list.</para>
     </step>
    </substeps>
   </step>
   <step>
    <para>Confirm your changes to close the <guimenu>Edit Flavor</guimenu>
     dialog and to return to the <guimenu>Flavors</guimenu> category.</para>
   </step>
   <step>
    <para> To add additional metadata, which custom schedulers can use for
     appropriately scheduling instances: </para>
    <substeps>
     <step>
      <para> Select the flavor to modify and click <menuchoice>
        <guimenu>More</guimenu>
        <guimenu>View Extra Specs</guimenu>
       </menuchoice>. </para>
     </step>
     <step>
      <para> In the <guimenu>Flavor Extra Specs</guimenu> view that opens, click
        <guimenu>Create</guimenu>. </para>
     </step>
     <step>
      <para> Enter a <guimenu>Key</guimenu> and a <guimenu>Value</guimenu>.
      </para>
     </step>
     <step>
      <para> Confirm your changes to create a new key-value pair for a flavor.
      </para>
     </step>
     <step>
      <para> Create, modify, or delete extra specs as desired and
        <guimenu>Close</guimenu> the view to return to the
        <guimenu>Flavors</guimenu> category. </para>
     </step>
    </substeps>
   </step>
  </procedure>

  <figure>
   <title>&cloud; &dash;&mdash;List of Flavors (Administrator's View)</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_flavors_list.png" width="100%" format="PNG" />
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_flavors_list.png" width="80%" format="PNG" />
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 id="sec.adm.dash.quotas">
  <title>Setting Quotas</title>

  &quotas;
  
  &quota-params;
  
  <procedure id="pro.adm.dash.quota.set">
   <title>Setting Quotas for a Project</title>
   <para>
    Quotas for a project can also be set when creating the project. To
    modify them afterwards, proceed as follows:
   </para>
   <step>
    <para>
     Log in to &cloud; &dash;. 
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Projects</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Select the project for which to set or change quota values.
    </para>
   </step>
   <step>
    <para>
     From the <guimenu>More</guimenu> drop-down list, select <guimenu>Modify
     Quota</guimenu>.
    </para>
    <para>
     The window that opens shows the current quota values for the selected
     project. If no modifications have been made yet, the values reflect the
     default values per project that are hard-coded in &ostack; &comp;.
     <remark>taroth 2014-01-02: DEVs, is it still true that the default values
      are hard-coded in compute? not sure...</remark>
    </para>
   </step>
   <step>
    <para>
     Change the values for the quota parameters as desired.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_projects_quota.png" width="60%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_projects_quota.png" width="80%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     Confirm your changes.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="sec.adm.dash.networks">
  <title>Managing Networks</title>

  <para>
   Use the <guimenu>Networks</guimenu> and <guimenu>Routers</guimenu>
   categories on the <guimenu>Admin</guimenu> tab to configure virtual
   networks. &network-role-dependency;
  </para>

<!--taroth 2013-09-12: CAVE - the following text (with slight variations due to different UI
   elements) can be found in xml/user_dashboard, procedure "pro.user.dash.netw.create"-->

  <procedure id="pro.adm.dash.netw.create">
   <title>Creating, Modifying or Deleting Networks</title>
   
   &network-def;
   
   &network-options;
   
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Networks</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     To create a new network or modify an existing one:
    </para>
    <substeps>
     <step>
      <para>
       Click <guimenu>Create Network</guimenu> or select a network and click
       <guimenu>Edit Network</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the window that opens, enter a name for your network or change the
       existing name.
      </para>
     </step>
     <step>
      <para>
       Select a <guimenu>Project</guimenu> to which the network should
       belong. This is necessary because &ostack; &netw;'s internal data
       model does not allow networks without a project.
      </para>
     </step>
     <step>
      <para>
       Leave the <guimenu>Admin State</guimenu> checkbox
       activated&mdash;unless you want the network to be marked as
       <literal>down</literal> and to not forward any packets.
      </para>
     </step>
     <step>
      <para>
       To create a network that is visible to all projects, activate the
       checkbox <guimenu>Shared</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To create an external network, activate the checkbox
       <guimenu>External Network</guimenu>.
      </para>
     </step>
     
<!--taroth 2013-09-12: CAVE - the following is not possible from the dialog in the
      admin tab!-->
<!--<step>
      <para>
       To additionally create a subnet to be associated with the new
       network, refer to
       <xref
        linkend="pro.user.dash.subnet.create"/>.
      </para>
     </step>-->
     <step>
      <para>
       Confirm your changes to close the dialog.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
<!--taroth 2013-09-11: only admins can delete shared and external networks-->
     To delete an existing network:
    </para>
    <substeps>
     <step>
      <para>
       Activate the check boxes in front of the networks that you want to
       delete.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Delete Network</guimenu> and confirm your choice in
       the pop-up that appears.
      </para>
      <para>
       A message on the Web page shows if the action has been successful.
      </para>
     &note-network-delete; 
     </step>
    </substeps>
   </step>
  </procedure>

  <figure>
   <title>&cloud; &dash;&mdash;List of Networks (Administrator's View)</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="cloud_dash_netw_list.png" width="100%" format="PNG" />
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cloud_dash_netw_list.png" width="80%" format="PNG" />
    </imageobject>
   </mediaobject>
  </figure>

  <procedure id="pro.adm.dash.subnet.create">
   <title>Creating or Modifying Subnets</title>
   &subnet-intro;
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Networks</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Select a network and click its <guimenu>Network Name</guimenu> to view
     the details for the network.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_netw_details.png" width="100%" format="PNG" />
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_netw_details.png" width="80%" format="PNG" />
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     Click <guimenu>Create Subnet</guimenu> or select a subnet and click
     <guimenu>Edit Subnet</guimenu>.
    </para>
   </step>
   <step>
    <para>
     In the window that opens, enter a name for the subnet or change the
     existing name.
    </para>
   </step>
   <step>
    <para>
     Enter or change the <guimenu>Network Address</guimenu>. It must be
     specified in CIDR format, for example:
    </para>
<screen>192.168.0.0/24</screen>
   </step>
   <step>
    <para>
     Choose the <guimenu>IP Version</guimenu> to use
     (<literal>IPv4</literal> or <literal>IPv6</literal>).
    </para>
   </step>
   <step>
    <para>
     If you want to use another <guimenu>Gateway IP</guimenu> like the
     default one, enter a <guimenu>Gateway IP</guimenu>. Otherwise, leave
     the input field blank.
    </para>
   </step>
   <step>
    <para>
     If you do not want to use a gateway, activate <guimenu>Disable
     Gateway</guimenu>.
    </para>
   </step>
   <step>
    <para>
     To specify additional attributes for the subnet, click the
     <guimenu>Subnet Detail</guimenu> tab and proceed as follows:
    </para>
    <substeps>
     <step>
      <para>
       Specify if to <guimenu>Enable DHCP</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To define multiple <guimenu>Allocation Pools</guimenu>, enter the
       start and the end IP address for each pool separated by a comma and
       in one entry per line for each pool. For example:
      </para>
<screen>192.168.1.100,192.168.1.120
192.158.1.100,192.158.1.120</screen>
     </step>
     <step>
      <para>
       To specify <guimenu>DNS Name Servers</guimenu>, enter an IP address
       list of servers for the current subnet (one entry per line).
      </para>
     </step>
     <step>
      <para>
       For additional routes announced to the hosts, enter them into the
       <guimenu>Host Routes</guimenu> field as follows: One entry per line,
       each specifying:
      </para>
<screen><replaceable>DESTINATION_CIDR</replaceable>,<replaceable>NEXTHOP</replaceable></screen>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Confirm your changes to close the dialog.
    </para>
   </step>
  </procedure>

  <procedure id="pro.adm.dash.port.create">
   <title>Creating or Modifying Ports</title>
   &port-dash-automatics;
   
   &port-intro;
  
   <para>
    To manually create a port for the network and specify a device ID to be
    attached to the port, proceed as follows:
   </para>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Networks</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Select a network and click its <guimenu>Network Name</guimenu> to view
     the details for the network.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_netw_details.png" width="100%" format="PNG" />
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_netw_details.png" width="80%" format="PNG" />
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     Click <guimenu>Create Port</guimenu>.
    </para>
    <para>
     The window that opens shows the <guimenu>Network Name</guimenu> and the
     <guimenu>Network ID</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Enter a <guimenu>Name</guimenu> for the port.
    </para>
   </step>
   <step>
    <para>
     Leave the <guimenu>Admin State</guimenu> checkbox
     activated&mdash;unless you want the port to be marked as
     <literal>down</literal> and to not forward any traffic.
    </para>
   </step>
   <step>
    <para>
     Specify the <guimenu>Device ID</guimenu> of the device that uses this
     port, for example, a virtual server.
    </para>
   </step>
   <step>
    <para>
     In <guimenu>Device Owner</guimenu>, enter the ID of the entity that
     uses this port. For example, a DHCP agent.
    </para>
   </step>
   <step>
    <para>
     Confirm your changes to close the dialog.
    </para>
   </step>
  </procedure>

  <para>
   For information on how to create a router and connect an external to an
   internal network, refer to <xref linkend="pro.user.dash.router.create"/>.
  </para>
  &network-ostack-guide;
 </sect1>
 <sect1 id="sec.adm.dash.migrate">
  <title>Migrating Instances</title> 
  &migration; 
  <!--<para>For live migration to work, the &cloud; operator needs to have
   configured a few options during setup of &productname;. For details,
   refer to <xref linkend=" sec.depl.ostack.nova"/>.</para>
  -->
<para><remark>taroth 2014-01-07: todo - could not check this yet as the only instance
I have access to ATM is not configured for this, it seems</remark></para>
  <procedure>
   <title>Migrating Instances (Offline Migration)</title>
   <para>
    The &dash; currently only enables you to execute offline migrations. For
    live migrations, use the command line tools as described in
    <xref linkend="sec.adm.cli.migrate"/>.
   </para>
   <step>
    <para>
     Log in to &cloud; &dash;.
    </para>
   </step>
   <step>
    <para>
     On the <guimenu>Admin</guimenu> tab, select the
     <guimenu>Instances</guimenu> category.
    </para>
   </step>
   <step>
    <para>
     Select the instance to migrate and click <menuchoice>
     <guimenu>More</guimenu> <guimenu>Migrate Instance</guimenu>
     </menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Confirm your choice in the pop-up that appears.
    </para>
    <para>
     The <guimenu>Status</guimenu> column of the instance changes its value
     several times until the <guimenu>Confirm Resize/Migrate</guimenu>
     button appears in the <guimenu>Action</guimenu> column.
    </para>
    <informalfigure>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cloud_dash_migrate_instance.png" width="100%" format="PNG" />
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cloud_dash_migrate_instance.png" width="80%" format="PNG" />
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     To execute the migration, click <guimenu>Confirm
     Resize/Migrate</guimenu>. Otherwise click <menuchoice>
     <guimenu>More</guimenu> <guimenu>Revert Resize/Migrate</guimenu>
     </menuchoice> to abort the migration process.
    </para>
    <para>
     After the migration has finished the instance's <guimenu>IP
     Address</guimenu> is updated in the <guimenu>Instances</guimenu>
     category.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
