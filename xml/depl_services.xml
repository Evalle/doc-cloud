<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:novdoc-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE appendix PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "IGNORE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<appendix id="app.deploy.services">
 <title>Roles, Services and Start/Stop Scripts in &productname;</title>
 <para><remark>taroth 2014-04-15: FIXME</remark>
  <!--    role: database-server
   
   service: postgresql
   
   /etc/init.d/postgresql
   
   needs to be stopped for non-HA to HA? Yes
   
   Also need to copy data from /var/lib/pgsql/data!
   
   Everything in this directory? From the original node to the cluster? To all nodes in the cluster?
   
   everything, from old directory to the one that is used for HA (with drbd or shared storage); 
   this can be done on one node only (the node that has the service running according to pacemaker); 
   this will require manual work, by stopping the service (crm resource stop $something), copying the files, and starting the service again
   
   michal had plans to automate this, though
   
   role: keystone-server
   
   service: keystone
   
   /etc/init.d/openstack-keystone
   
   needs to be stopped for non-HA to HA? Yes
   
   role: rabbitmq-server
   
   service: rabbitmq
   
   /etc/init.d/rabbitmq-server
   
   needs to be stopped for non-HA to HA? Yes
   
   Also need to copy data from /var/lib/rabbitmq!Everything in this directory? 
   From the original node to the cluster? To all nodes in the cluster? - see answer for database :-)
   
   role: swift-storage
   
   role: swift-proxy
   
   service: swift proxy
   
   /etc/init.d/openstack-swift-proxy
   
   needs to be stopped for non-HA to HA? Yes
   
   service: memcached
   
   /etc/init.d/memcached
   
   needs to be stopped for non-HA to HA? No
   
   Note: shared with nova and nova_dashboard roles!
   
   role: swift-ring-compute
   
   nothing
   
   role: swift-dispersion
   
   nothing
   
   role: cinder-controller
   
   service: openstack-cinder-api
   
   service: openstack-cinder-scheduler
   
   role: cinder-volume
   
   service: openstack-cinder-volume
   
   role: neutron-server
   
   service: openstack-neutron
   
   role: neutron-l3
   
   role: nova-multi-controller
   
   role: nova-multi-compute-*
   
   role: nova_dashboard-server
   
   service: apache
   
   role: ceilometer-server
   
   role: ceilometer-cagent
   
   role: ceilometer-agent
   
   role: ceilometer-swift-proxy-middleware
   
   role: heat-server
   
  -->
 </para>
</appendix>
