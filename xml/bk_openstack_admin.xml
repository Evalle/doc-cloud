<?xml version="1.0"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<?xml-stylesheet 
      href="urn:x-daps:xslt:profiling:docbook45-profile.xsl" 
      type="text/xml"
      title="Profiling step"?>
<book lang="en" id="os-admin-user-guide">
  <title>OpenStack Admin User Guide</title>
  <titleabbrev>Admin User Guide</titleabbrev>
  <bookinfo>
    <personname>
      <firstname/>
      <surname/>
    </personname>
    <corpauthor>OpenStack Foundation</corpauthor>
    <copyright>
      <year>2014</year>
      <year>2015</year>
      <holder>OpenStack Foundation</holder>
    </copyright>
    <releaseinfo>current</releaseinfo>
    <productname>SUSE Cloud</productname><productnumber>5</productnumber>
    <pubdate/>
    <legalnotice role="cc-by">
      <para>
        <informaltable frame="void">
          <tgroup cols="2">
            <colspec colwidth="10%"/>
            <colspec colwidth="90%"/>
            <tbody>
              <row>
                <entry>
                  <para>
                    <ulink url="http://creativecommons.org/licenses/by/3.0/legalcode">
                      <!--taroth 2015-02-02: need to comment inlinemediaobject for now 
                        as it only works with XEP formatter, with FOP (used in the build
                        service) this results in a build failure for the book :(-->
                     <!-- <inlinemediaobject>
                        <imageobject>
                          <imagedata fileref="by.png"/>
                        </imageobject>
                      </inlinemediaobject>-->
                    </ulink>
                  </para>
                </entry>
                <entry>
                  <para>Except where otherwise noted, this document is
                licensed under                   
                  <emphasis role="bold"> Creative Commons Attribution  3.0 License </emphasis></para>
                  <para>
                    <ulink url="http://creativecommons.org/licenses/by/3.0/legalcode"/>
                  </para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </para>
    </legalnotice>
    <abstract>
      <para>OpenStack is an open source cloud computing platform for public and private
                clouds. A series of interrelated projects deliver a cloud infrastructure solution.
                This guide shows OpenStack admin users how to create and manage resources in an
                OpenStack cloud with the OpenStack dashboard or OpenStack client commands.</para>
      <para>This guide documents OpenStack Juno, OpenStack Icehouse, and OpenStack Havana
                releases.</para>
    </abstract>
    <revhistory>
      <revision>
        <date>2014-10-15</date>
        <revdescription>
          <itemizedlist>
            <listitem>
              <para>For the Juno release, this guide has been edited for
                                clarity.</para>
            </listitem>
          </itemizedlist>
        </revdescription>
      </revision>
      <revision>
        <date>2014-04-17</date>
        <revdescription>
          <itemizedlist>
            <listitem>
              <para>For the Icehouse release, this guide has been updated with changes
                                to the dashboard plus the moving of the command reference appendix
                                as indicated below.</para>
            </listitem>
          </itemizedlist>
        </revdescription>
      </revision>
      <revision>
        <date>2014-01-31</date>
        <revdescription>
          <itemizedlist>
            <listitem>
              <para>Remove the command reference appendix. This information is now in
                                    <ulink url="http://docs.openstack.org/cli-reference/content/"><citetitle>OpenStack Command Line Interface
                                        Reference</citetitle></ulink>. </para>
            </listitem>
          </itemizedlist>
        </revdescription>
      </revision>
      <revision>
        <date>2013-10-17</date>
        <revdescription>
          <itemizedlist>
            <listitem>
              <para>Havana release.</para>
            </listitem>
          </itemizedlist>
        </revdescription>
      </revision>
      <revision>
        <date>2013-08-31</date>
        <revdescription>
          <itemizedlist>
            <listitem>
              <para>First edition of this document.</para>
            </listitem>
          </itemizedlist>
        </revdescription>
      </revision>
    </revhistory>
  </bookinfo>
  <preface id="openstack_user_guide" xml:base="../common/ch_using_openstack_overview.xml">
    <title>How can I <phrase condition="enduser">use</phrase><phrase condition="adminuser">administer</phrase> an OpenStack cloud?</title>
    <?dbhtml stop-chunking?>
    <para condition="enduser">As an OpenStack cloud end user, you can provision your own
            resources within the limits set by administrators.</para>
    <para condition="adminuser">As an OpenStack cloud administrative user, you can manage
            tenants, known as <glossterm baseform="project">projects</glossterm>, users, services,
            images, flavors, and quotas.</para>
    <para>The examples in this guide show you how to perform tasks by using the following
            methods:</para>
    <itemizedlist>
      <listitem>
        <para>OpenStack dashboard. Use this web-based graphical interface, code named <ulink url="https://github.com/openstack/horizon/">horizon</ulink>, to view,
                    create, and manage resources<phrase condition="adminuser"> and
                    services</phrase>.</para>
      </listitem>
      <listitem>
        <para>OpenStack command-line clients. Each core OpenStack project has a command-line
                    client that you can use to run simple commands to view, create, and manage
                        resources<phrase condition="adminuser"> and services</phrase> in a cloud and
                    automate tasks by using scripts.</para>
      </listitem>
    </itemizedlist>
    <para>You can modify these examples for your specific use cases.</para>
    <para>In addition to these ways of interacting with a cloud, you can access the OpenStack
            APIs directly or indirectly through <ulink url="http://curl.haxx.se/">cURL</ulink>
            commands or open SDKs. You can automate access or build tools to manage resources and
            services by using the native OpenStack APIs or the EC2 compatibility API.</para>
    <para>To use the OpenStack APIs, it helps to be familiar with HTTP/1.1, RESTful web
            services, the OpenStack services, and JSON or XML data serialization formats.</para>
    <sect1 id="audience">
      <title>Who should read this book?</title>
      <para condition="enduser">This book is written for anyone who uses virtual machines and
                cloud resources to develop software or perform research. You should have years of
                experience with Linux-based tool sets and be comfortable using both GUI and CLI
                based tools. While this book includes some information about using Python to create
                and manage cloud resources, Python knowledge is not a pre-requisite for reading this
                book.</para>
      <para condition="adminuser">This book is written for administrators who maintain and
                secure an OpenStack cloud installation to serve end users' needs. You should have
                years of experience with Linux-based tools for system administration. You should
                also be familiar with OpenStack basics, such as managing projects and users,
                troubleshooting, performing backup and recovery, and monitoring. For more
                information, see the <ulink url="http://docs.openstack.org/ops"><citetitle>OpenStack Operations Guide</citetitle></ulink>.</para>
    </sect1>
    <sect1 id="section_conventions">
      <?dbhtml stop-chunking?>
      <title>Conventions</title>
      <para>The OpenStack documentation uses several typesetting conventions.</para>
      <sect2 id="conventions-admonitions">
        <title>Notices</title>
        <para>Notices take these forms:</para>
        <note>
          <para>A handy tip or reminder.</para>
        </note>
        <important>
          <para>Something you must be aware of before proceeding.</para>
        </important>
        <warning>
          <para>Critical information about the risk of data loss or security
                        issues.</para>
        </warning>
      </sect2>
      <sect2 id="conventions-prompts">
        <title>Command prompts</title>
        <variablelist>
          <varlistentry>
            <term>
              <emphasis role="bold"><literal>$</literal> prompt</emphasis>
            </term>
            <listitem>
              <para>Any user, including the <literal>root</literal> user, can run
                                commands that are prefixed with the <prompt>$</prompt>
                                prompt.</para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>
              <emphasis role="bold"><literal>#</literal> prompt</emphasis>
            </term>
            <listitem>
              <para>The <literal>root</literal> user must run commands that are
                                prefixed with the <prompt>#</prompt> prompt. You can also prefix
                                these commands with the <command>sudo</command> command, if
                                available, to run them.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect2>
    </sect1>
    <sect1 id="doc_change_history">
      <title>Document change history</title>
      <?dbhtml stop-chunking?>
      <para>This version of the guide replaces and obsoletes all earlier versions.</para>
      <para>The following table describes the most recent changes:</para>
      <informaltable rules="all" remap="revhistory">
        <tgroup cols="2">
          <colspec colwidth="20%"/>
          <colspec colwidth="80%"/>
          <thead>
            <row>
              <entry align="center">
                <para>Revision Date</para>
              </entry>
              <entry align="center">
                <para>Summary of Changes</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <para>October 15, 2014</para>
              </entry>
              <entry>
                <itemizedlist>
                  <listitem>
                    <para>For the Juno release, this guide has been edited for
                                clarity.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
            <row>
              <entry>
                <para>April 17, 2014</para>
              </entry>
              <entry>
                <itemizedlist>
                  <listitem>
                    <para>For the Icehouse release, this guide has been updated with changes
                                to the dashboard plus the moving of the command reference appendix
                                as indicated below.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
            <row>
              <entry>
                <para>January 31, 2014</para>
              </entry>
              <entry>
                <itemizedlist>
                  <listitem>
                    <para>Remove the command reference appendix. This information is now in
                                    <ulink url="http://docs.openstack.org/cli-reference/content/"><citetitle>OpenStack Command Line Interface
                                        Reference</citetitle></ulink>. </para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
            <row>
              <entry>
                <para>October 17, 2013</para>
              </entry>
              <entry>
                <itemizedlist>
                  <listitem>
                    <para>Havana release.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
            <row>
              <entry>
                <para>August 31, 2013</para>
              </entry>
              <entry>
                <itemizedlist>
                  <listitem>
                    <para>First edition of this document.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <!-- Table generated in output from revision element in the book element -->
    </sect1>
  </preface>
  <chapter id="ch_dashboard">
    <title>Dashboard</title>
    <para>As a cloud administrative user, the OpenStack dashboard lets you create and manage
            projects, users, images, and flavors. You can also set quotas and create and manage
            services. For information about using the dashboard to perform end user tasks, see the
                <ulink url="http://docs.openstack.org/user-guide/content/"><citetitle>OpenStack End User Guide</citetitle></ulink>.</para>
    <sect1 id="log_in_dashboard" xml:base="../common/section_dashboard_access.xml">
      <?dbhtml stop-chunking?>
      <title>Log in to the dashboard</title>
      <para>The dashboard is available on the node with the <literal>nova-dashboard</literal>
                server role.</para>
      <procedure>
        <step>
          <para>Ask the cloud operator for the host name or public IP address from which
                        you can access the dashboard, and for your user name and password.</para>
        </step>
        <step>
          <para>Open a web browser that has JavaScript and cookies enabled.</para>
          <note>
            <para>To use the Virtual Network Computing (VNC) client for the dashboard,
                            your browser must support HTML5 Canvas and HTML5 WebSockets. The VNC
                            client is based on noVNC. For details, see <ulink url="https://github.com/kanaka/noVNC/blob/master/README.md">noVNC: HTML5 VNC Client</ulink>. For a list of supported browsers,
                            see <ulink url="https://github.com/kanaka/noVNC/wiki/Browser-support">Browser support</ulink>.</para>
          </note>
        </step>
        <step>
          <para>In the address bar, enter the host name or IP address for the
                        dashboard.</para>
          <screen>https://<replaceable>ipAddressOrHostName</replaceable>/</screen>
          <note>
            <para>If a certificate warning appears when you try to access the URL for
                            the first time, a self-signed certificate is in use, which is not
                            considered trustworthy by default. Verify the certificate or add an
                            exception in the browser to bypass the warning.</para>
          </note>
        </step>
        <step>
          <para>On the <guilabel>Log In</guilabel> page, enter your user name and
                        password, and click <guibutton>Sign In</guibutton>.</para>
          <para>The top of the window displays your user name. You can also access
                            <guilabel>Settings</guilabel> or sign out of the dashboard.</para>
          <para>The visible tabs and functions in the dashboard depend on the access
                        permissions, or <emphasis role="italic">roles</emphasis>, of the user you
                        are logged in as.<itemizedlist><listitem><para>If you are logged in as an end user, the <link linkend="dashboard_project_tab">Project</link> tab is
                                    displayed.</para></listitem><listitem><para>If you are logged in as an administrator, the <link linkend="dashboard_project_tab">Project</link> tab and <link linkend="dashboard_admin_tab">Admin</link> tab are
                                    displayed.</para></listitem></itemizedlist></para>
        </step>
      </procedure>
      <sect2 id="dashboard_project_tab">
        <title>OpenStack dashboard—Project tab</title>
        <para>Projects are organizational units in the cloud, and are also known as tenants
                    or accounts. Each user is a member of one or more projects. Within a project, a
                    user creates and manages instances.</para>
        <para>From the <guilabel>Project</guilabel> tab, you can view and manage the
                    resources in a selected project, including instances and images. You select the
                    project from the <guilabel>CURRENT PROJECT</guilabel> list at the top of the
                    tab.</para>
        <figure id="dashboard_project_user">
          <title>Project tab</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="dashboard-project-tab.png" width="100%"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>From the <guilabel>Project</guilabel> tab, you can access the following
                    tabs:</para>
        <informaltable rules="all" width="75%">
          <tgroup cols="2">
            <colspec colwidth="30%"/>
            <colspec colwidth="70%"/>
            <thead>
              <row>
                <entry><guilabel>Compute</guilabel> tab</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <para>
                    <guilabel>Overview</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View reports for the project.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Instances</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, launch, create a snapshot from, stop, pause, or reboot
                                    instances, or connect to them through VNC.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Volumes</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Use the following tabs to complete these tasks:</para>
                  <variablelist>
                    <varlistentry>
                      <term>
                        <guilabel>Volumes</guilabel>
                      </term>
                      <listitem>
                        <para>View, create, edit, and delete volumes.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>Volume Snapshots</guilabel>
                      </term>
                      <listitem>
                        <para>View, create, edit, and delete volume
                                                snapshots.</para>
                      </listitem>
                    </varlistentry>
                  </variablelist>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Images</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View images and instance snapshots created by project users,
                                    plus any images that are publicly available. Create, edit, and
                                    delete images, and launch instances from images and
                                    snapshots.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Access &amp; Security</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Use the following tabs to complete these tasks:</para>
                  <variablelist>
                    <varlistentry>
                      <term>
                        <guilabel>Security Groups</guilabel>
                      </term>
                      <listitem>
                        <para>View, create, edit, and delete security groups and
                                                security group rules.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>Key Pairs</guilabel>
                      </term>
                      <listitem>
                        <para>View, create, edit, import, and delete key
                                                pairs.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>Floating IPs</guilabel>
                      </term>
                      <listitem>
                        <para>Allocate an IP address to or release it from a
                                                project.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>API Access</guilabel>
                      </term>
                      <listitem>
                        <para>View API endpoints.</para>
                      </listitem>
                    </varlistentry>
                  </variablelist>
                </entry>
              </row>
              <row>
                <entry><guilabel>Network</guilabel> tab</entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Network Topology</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View the network topology.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Networks</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Create and manage public and private networks.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Routers</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Create and manage subnets.</para>
                </entry>
              </row>
              <row>
                <entry><guilabel>Object Store</guilabel>
                                tab</entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Containers</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Create and manage containers and objects.</para>
                </entry>
              </row>
              <row>
                <entry><guilabel>Orchestration</guilabel>
                                tab</entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Stacks</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Use the REST API to orchestrate multiple composite cloud
                                    applications.</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </sect2>
      <sect2 id="dashboard_admin_tab">
        <title>OpenStack dashboard—Admin tab</title>
        <para>Administrative users can use the <guilabel>Admin</guilabel> tab to view usage
                    and to manage instances, volumes, flavors, images, projects, users, services,
                    and quotas.</para>
        <figure id="dashboard_admin_project_tab">
          <title>Admin tab</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="dashboard-admin-tab.png" width="100%"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>Access the following categories to complete these tasks:</para>
        <informaltable rules="all" width="75%">
          <tgroup cols="2">
            <colspec colwidth="30%"/>
            <colspec colwidth="70%"/>
            <thead>
              <row>
                <entry><guilabel>System Panel</guilabel>
                                tab</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <para>
                    <guilabel>Overview</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View basic reports.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Resource Usage</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Use the following tabs to view the following usages:</para>
                  <!--Lots of updates happening to the dashboard. Leaving these for
                now. Know from talking to Devs that there are some big changes to
                Resource Usage tab. Want to retain these for now. And remove once
                  confirmed that these options will not be retained anymore -->
                  <variablelist>
                    <!--  <varlistentry>
                  <term><guilabel>Global Disk Usage</guilabel></term>
                  <listitem>
                    <para>View the disk usage for all tenants as an average over
                    the last 30 days.</para>
                    </listitem>
                  </varlistentry>
                  <varlistentry>
                  <term><guilabel>Global Network Traffic Usage</guilabel></term>
                  <listitem>
                    <para>View the network usage for all tenants as an average over
                      the last 30 days.</para>
                    </listitem>
                  </varlistentry>
                  <varlistentry>
                  <term><guilabel>Global Object Storage Usage</guilabel></term>
                  <listitem>
                    <para>View the object storage usage for all tenants as an average
                      over the last 30 days.</para>
                    </listitem>
                  </varlistentry>
                  <varlistentry>
                    <term><guilabel>Global Network Usage</guilabel></term>
                    <listitem>
                      <para>View the network usage for all tenants as an average
                        over the last 30 days.</para>
                    </listitem>
                  </varlistentry>-->
                    <varlistentry>
                      <term>
                        <guilabel>Daily Report</guilabel>
                      </term>
                      <listitem>
                        <para>View the daily report.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>Stats</guilabel>
                      </term>
                      <listitem>
                        <para>View the statistics of all resources.</para>
                      </listitem>
                    </varlistentry>
                  </variablelist>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Hypervisors</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View the hypervisor summary.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Host Aggregates</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, and edit host aggregates. View the list of
                                    availability zones.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Instances</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, pause, resume, suspend, migrate, soft or hard reboot,
                                    and delete running instances that belong to users of some, but
                                    not all, projects. Also, view the log for an instance or access
                                    an instance through VNC.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Volumes</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, edit, and delete volumes and volume
                                    types.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Flavors</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, edit, view extra specifications for, and delete
                                    flavors. A flavor is size of an instance.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Images</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, edit properties for, and delete custom
                                    images.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Networks</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, edit properties for, and delete networks.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Routers</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, edit properties for, and delete routers.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>System Info</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>Use the following tabs to view the service information:</para>
                  <variablelist>
                    <varlistentry>
                      <term>
                        <guilabel>Services</guilabel>
                      </term>
                      <listitem>
                        <para>View a list of the services.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>Compute Services</guilabel>
                      </term>
                      <listitem>
                        <para>View a list of all Compute services.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>Network Agents</guilabel>
                      </term>
                      <listitem>
                        <para>View the network agents.</para>
                      </listitem>
                    </varlistentry>
                    <varlistentry>
                      <term>
                        <guilabel>Default Quotas</guilabel>
                      </term>
                      <listitem>
                        <para>View default quota values. Quotas are hard-coded
                                                in OpenStack Compute and define the maximum
                                                allowable size and number of resources.</para>
                      </listitem>
                    </varlistentry>
                  </variablelist>
                </entry>
              </row>
              <row>
                <entry><guilabel>Identity Panel</guilabel>
                                tab</entry>
                <!--Lots of updates happening to the dashboard. Leaving these for now.-->
              </row>
              <!--   <tr>
                <td><para><guilabel>Domains</guilabel></para></td>
                <td><para>View domains.</para></td>
              </tr>-->
              <row>
                <entry>
                  <para>
                    <guilabel>Projects</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, assign users to, remove users from, and delete
                                    projects.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <guilabel>Users</guilabel>
                  </para>
                </entry>
                <entry>
                  <para>View, create, enable, disable, and delete users.</para>
                </entry>
              </row>
              <!-- <tr>
                <td><para><guilabel>Groups</guilabel></para></td>
                <td>
                  <para>View, create, enable, disable, and delete groups.</para></td>
              </tr>
              <tr>
                <td><para><guilabel>Roles</guilabel></para></td>
                <td><para>View, create, enable, disable, and delete roles.</para></td>
              </tr>-->
            </tbody>
          </tgroup>
        </informaltable>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="dashboard_manage_projects_users">
      <?dbhtml stop-chunking?>
      <title>Manage projects and users</title>
      <para>As an OpenStack cloud administrator, you manage both projects and users, which can
                be managed independently from each other. Projects, also known as <emphasis role="italic">tenants</emphasis> or <emphasis role="italic">accounts</emphasis>,
                are organizational units in the cloud to which you can assign users. Users also have
                roles that determine their level of access to the project, and may have different
                roles in different projects.</para>
      <para>When the cloud is initially created, the operator defines at least one project,
                user, and role.</para>
      <para>As an administrator, you can create additional projects and users as needed. This
                section documents the following project and user administration tasks:</para>
      <itemizedlist>
        <listitem>
          <para>Adding, updating, and deleting projects and users.</para>
        </listitem>
        <listitem>
          <para>Assigning users to one or more projects, and changing or removing the
                        assignment.</para>
        </listitem>
        <listitem>
          <para>Enabling or temporarily disabling a project or user.</para>
        </listitem>
      </itemizedlist>
      <para>You can also change quotas at the project level. For information, see <xref linkend="dashboard_set_quotas"/>.</para>
      <sect2 id="dashboard_create_project">
        <title>Create a project</title>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the <guilabel>CURRENT PROJECT</guilabel> drop-down list at
                            the top of the screen.</para>
          </step>
          <step>
            <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>Identity
                                Panel</guilabel> and click on <guilabel>Projects</guilabel>.</para>
          </step>
          <step>
            <para>Click <guibutton>Create Project</guibutton>.</para>
          </step>
          <step>
            <para>On the <guilabel>Project Info</guilabel> tab in the <guilabel>Create
                                Project</guilabel> window, enter a name and description for the
                            project. By default, the project is enabled. See <xref linkend="disable_project"/>.</para>
          </step>
          <step>
            <para>On the <guilabel>Project Members</guilabel> tab, add members to the
                            project.</para>
          </step>
          <step>
            <para>On the <guilabel>Quota</guilabel> tab, edit quota values. For
                            information about quotas, see <xref linkend="dashboard_set_quotas"/>.</para>
          </step>
          <step>
            <para>Click <guibutton>Create Project</guibutton>.</para>
            <para>The <guilabel>Projects</guilabel> list shows the project, including
                            its assigned ID.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_update_project">
        <title>Update a project</title>
        <para>You can update a project to change its name or description, and enable or
                    temporarily disable it.</para>
        <procedure>
          <step>
            <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>Identity
                                Panel</guilabel> and click on <guilabel>Projects</guilabel>.</para>
          </step>
          <step>
            <para>Select the project that you want to update.</para>
          </step>
          <step>
            <para>In the <guilabel>More</guilabel> drop-down list, click <guilabel>Edit
                                Project</guilabel>.</para>
          </step>
          <step>
            <para>In the <guilabel>Edit Project</guilabel> window, you can update a
                            project to change its name or description, and enable or temporarily
                            disable it.</para>
            <para>By default, the project is enabled. To temporarily disable it, clear
                            the <guilabel>Enabled</guilabel> check box. To enable a disabled
                            project, select the <guilabel>Enabled</guilabel> check box.</para>
          </step>
          <step>
            <para>Click <guibutton>Save</guibutton>.</para>
          </step>
        </procedure>
        <sect3 id="disable_project">
          <title>Consequences of disabling projects</title>
          <para>When you disable a project, it has the following consequences:</para>
          <itemizedlist>
            <listitem>
              <para>In the dashboard, users can no longer access the project from the
                                    <guilabel>CURRENT PROJECT</guilabel> drop-down list on the
                                    <guilabel>Project</guilabel> tab.</para>
            </listitem>
            <listitem>
              <para>Users who are members of only the disabled project can no longer
                                log in.</para>
            </listitem>
            <listitem>
              <para>You cannot launch instances for a disabled project. Instances that
                                are already running are not automatically terminated though—you must
                                stop them manually.</para>
            </listitem>
            <listitem>
              <para>The data for a disabled project is maintained so that you can
                                enable the project again at any time.</para>
            </listitem>
          </itemizedlist>
        </sect3>
      </sect2>
      <sect2 id="dashboard_user_assignments">
        <title>Modify user assignments for a project</title>
        <para>When you create users, you must assign them to a primary project as described
                    in <xref linkend="dashboard_create_user"/>. You can assign users to additional
                    projects or update and remove assignments.</para>
        <procedure>
          <step>
            <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>Identity
                                Panel</guilabel> and click on <guilabel>Projects</guilabel>.</para>
          </step>
          <step>
            <para>Click the <guilabel>Modify Users</guilabel> button for the project
                            that you want to modify.</para>
            <para>The <guilabel>Edit Project</guilabel> window shows the following lists
                            of users:</para>
            <itemizedlist>
              <listitem>
                <para><guilabel>All Users</guilabel>. Users that are available to be
                                    assigned to the current project.</para>
              </listitem>
              <listitem>
                <para><guilabel>Project Members</guilabel>. Users that are assigned
                                    to the current project.</para>
              </listitem>
            </itemizedlist>
            <figure id="cloud_dash_users_list">
              <title>Edit the users list</title>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="cloud_dash_users_list.png" width="100%"/>
                </imageobject>
              </mediaobject>
            </figure>
          </step>
          <step>
            <para>To assign a user to the current project, click
                                <guibutton>+</guibutton> for the user.</para>
            <para>The user moves from the <guilabel>All Users</guilabel> list to the
                                <guilabel>Project Members</guilabel> list.</para>
          </step>
          <step>
            <para>To remove a user from the current project, click the
                                <guibutton>-</guibutton> button for the user.</para>
            <para>The user moves from the <guilabel>Project Members</guilabel> list to
                            the <guilabel>All Users</guilabel> list.</para>
          </step>
          <step>
            <para>Click <guibutton>Save</guibutton>.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_delete_project">
        <title>Delete projects</title>
        <procedure>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the
                                <guilabel>Projects</guilabel> category.</para>
          </step>
          <step>
            <para>Select the projects that you want to delete.</para>
          </step>
          <step>
            <para>Click <guibutton>Delete Projects</guibutton> to confirm the
                            deletion.</para>
            <warning>
              <para>You cannot undo the delete action.</para>
            </warning>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_create_user">
        <title>Create a user account</title>
        <para>When you create a user account, you must assign the account to a primary
                    project. You also have the option of assigning the account to additional
                    projects. Before you can delete a user account, you must remove the user account
                    from its primary project.</para>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the <guilabel>CURRENT PROJECT</guilabel> drop-down list at
                            the top of the screen.</para>
          </step>
          <step>
            <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>Identity
                                Panel</guilabel> and click on <guilabel>Users</guilabel>.</para>
          </step>
          <step>
            <para>Click <guibutton>Create User</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Create User</guilabel> window, enter a user name,
                            email, and preliminary password for the user. Confirm the
                            password.</para>
            <para>Select a project from the <guilabel>Primary Project</guilabel>
                            drop-down list.</para>
            <para>Choose a role for the user from the <guilabel>Role</guilabel>
                            drop-down list. Default is <literal>Member</literal>.</para>
          </step>
          <step>
            <para>Click <guibutton>Create User</guibutton> to confirm your
                            changes.</para>
            <para>Respond to the prompt to remember the password for the user.</para>
            <para>The dashboard assigns an ID to the user, and the user appears in the
                                <guilabel>Users</guilabel> category.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_disable_user">
        <title>Disable or enable a user</title>
        <para>When you disable a user account, the user can no longer log in. However, the
                    data for the user is maintained so that you can enable the user again at any
                    time.</para>
        <procedure>
          <step>
            <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>Identity
                                Panel</guilabel> and click on <guilabel>Users</guilabel>.</para>
          </step>
          <step>
            <para>Locate the user that you want to disable or enable in the Users
                            list.</para>
          </step>
          <step>
            <para>In the <guilabel>More</guilabel> drop-down list, select
                                <guilabel>Disable User</guilabel> or <guilabel>Enable
                                User</guilabel>.</para>
            <para>In the <guilabel>Enabled</guilabel> column, the enabled value updates
                            to either <literal>True</literal> or <literal>False</literal>.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_delete_user">
        <title>Delete users</title>
        <procedure>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, select the
                                <guilabel>Users</guilabel> category.</para>
          </step>
          <step>
            <para>Select the users that you want to delete.</para>
          </step>
          <step>
            <para>Click <guilabel>Delete Users</guilabel>.</para>
          </step>
          <step>
            <para>In the <guilabel>Confirm Delete Users</guilabel> window, click
                                <guibutton>Delete Users</guibutton> to confirm the deletion.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_manage_projects_security">
        <?dbhtml stop-chunking?>
        <title>Manage project security</title>
        <para>Security groups are sets of IP filter rules that define networking access and
                    are applied to all instances within a project. Group rules are project-specific;
                    project members can edit the default rules for their group and add new rule
                    sets.</para>
        <para>All projects have a default security group that is applied to any instance
                    that has no other defined security group. When unmodified, the default security
                    group denies all incoming traffic and allows only outgoing traffic to your
                    instance. A common use case is to edit the default security group to permit SSH
                    access and ICMP access, so that users can log into and ping instances.</para>
        <note>
          <para>For information about updating global controls on the command line, see
                            <xref linkend="nova_cli_manage_projects_security"/>.</para>
        </note>
        <sect3 id="create_security_group">
          <title>Create a security group</title>
          <procedure>
            <step>
              <para>Log in to the dashboard as a project member.</para>
            </step>
            <step>
              <para>Select a project from the drop-down menu at the top of the
                                screen.</para>
            </step>
            <step>
              <para>On the <guilabel>Project</guilabel> tab, click the
                                    <guimenuitem>Access &amp; Security</guimenuitem>
                                category.</para>
            </step>
            <step>
              <para>On the <guilabel>Security Groups</guilabel> tab, click
                                    <guibutton>Create Security Group</guibutton>.</para>
            </step>
            <step>
              <para>Provide a name and appropriate description for the group, and
                                click <guibutton>Create Security Group</guibutton>. By default, the
                                new rule provides outgoing access rules for the group.</para>
            </step>
          </procedure>
        </sect3>
        <sect3 id="add_security_group_rules">
          <title>Add a security group rule</title>
          <procedure>
            <step>
              <para>Log in to the dashboard as a project member.</para>
            </step>
            <step>
              <para>Select a project from the drop-down menu at the top of the
                                screen.</para>
            </step>
            <step>
              <para>On the <guilabel>Project</guilabel> tab, click the
                                    <guimenuitem>Access &amp; Security</guimenuitem>
                                category.</para>
            </step>
            <step>
              <para>On the <guilabel>Security Groups</guilabel> tab, click
                                    <guibutton>Manage rules</guibutton> for the appropriate security
                                group.</para>
            </step>
            <step>
              <para>To add a rule, click <guibutton>Add Rule</guibutton>. Set the
                                attributes for the rule, and click
                                <guibutton>Add</guibutton>.</para>
              <para>The following attributes can be configured:</para>
              <variablelist wordsize="10">
                <varlistentry>
                  <term>Rule</term>
                  <listitem>
                    <para>The rule protocol type. Valid types are:<itemizedlist><listitem><para><guilabel>Custom TCP
                                                  Rule</guilabel>.Typically used to exchange data
                                                  between systems, and for end-user
                                                  communication.</para></listitem><listitem><para><guilabel>Custom UDP Rule</guilabel>.
                                                  Typically used to exchange data between systems,
                                                  particularly at the application level.</para></listitem><listitem><para><guilabel>Custom ICMP Rule</guilabel>.
                                                  Typically used by network devices (for example,
                                                  routers) to send error or monitoring
                                                  messages.</para></listitem><listitem><para><guilabel>Other Protocol</guilabel>: Enables
                                                  you to manually specify another rule protocol, if
                                                  it is not included in the list.</para></listitem><listitem><para>Other standard IP protocols, including: All
                                                  ICMP, All TCP, All UDP, DNS, HTTP, HTTPS, IMAP,
                                                  IMAPS, LDAP, MS SQL, MYSQL, POP3, POP3S, RDP,
                                                  SMTP, SMTPS, and SSH.</para></listitem></itemizedlist></para>
                  </listitem>
                </varlistentry>
                <varlistentry>
                  <term>Direction</term>
                  <listitem>
                    <para>The direction of network traffic to which the rule
                                            applies: <guilabel>Ingress</guilabel> (inbound) or
                                                <guilabel>Egress</guilabel> (outbound). This option
                                            is available only when <guilabel>Custom TCP
                                                Rule</guilabel>, <guilabel>Custom UDP
                                                Rule</guilabel>, <guilabel>Custom ICMP
                                                Rule</guilabel>, <guilabel>All ICMP</guilabel>,
                                                <guilabel>All TCP</guilabel>, <guilabel>All
                                                UDP</guilabel>, or <guilabel>Other
                                                Protocol</guilabel> is selected.</para>
                  </listitem>
                </varlistentry>
                <varlistentry>
                  <term>Open Port</term>
                  <listitem>
                    <para>The <guilabel>Port</guilabel> or <guilabel>Port
                                                Range</guilabel> to open for the rule. This option
                                            is available only when <guilabel>Custom TCP
                                                Rule</guilabel> or <guilabel>Custom UDP
                                                Rule</guilabel> is selected.</para>
                    <itemizedlist>
                      <listitem>
                        <para>For a range of ports, enter port values in the
                                                  <guilabel>From Port</guilabel> and <guilabel>To
                                                  Port</guilabel> fields.</para>
                      </listitem>
                      <listitem>
                        <para>For a single port, enter the port value in the
                                                  <guilabel>Port</guilabel> field.</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </varlistentry>
                <varlistentry>
                  <term>Type</term>
                  <listitem>
                    <para>Specifies the ICMP message that is being passed. This
                                            option is available only when <guilabel>Custom ICMP
                                                Rule</guilabel> is selected.</para>
                  </listitem>
                </varlistentry>
                <varlistentry>
                  <term>Code</term>
                  <listitem>
                    <para>For ICMP rules, specifies the ICMP subtype code, which
                                            provides further information about the
                                                <guilabel>Type</guilabel> message. This option is
                                            available only when <guilabel>Custom ICMP
                                                Rule</guilabel> is selected.</para>
                  </listitem>
                </varlistentry>
                <varlistentry>
                  <term>IP Protocol</term>
                  <listitem>
                    <para>For <guilabel>Other Protocol</guilabel> rules,
                                            specifies the IP protocol to be used for the rule.
                                            Specify the protocol as an integer. See <ulink url="http://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">http://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml</ulink>.
                                            This option is available only when <guilabel>Other
                                                Protocol</guilabel> is selected.</para>
                  </listitem>
                </varlistentry>
                <varlistentry>
                  <term>Remote</term>
                  <listitem>
                    <para>The source of the traffic for this rule:</para>
                    <itemizedlist>
                      <listitem>
                        <para><guilabel>CIDR</guilabel> (Classless
                                                  Inter-Domain Routing). When selected, access is
                                                  limited only to IP addresses within the specified
                                                  block. When selected, enter the CIDR in the
                                                  <guilabel>CIDR</guilabel> field.</para>
                      </listitem>
                      <listitem>
                        <para><guilabel>Security Group</guilabel>. When
                                                  selected, any instance in the selected security
                                                  group can access any other group instance. When
                                                  selected, choose the <guilabel>Security
                                                  Group</guilabel> and the <guilabel>Ether
                                                  Type</guilabel>, which can be either
                                                  <guilabel>IPv4</guilabel> or
                                                  <guilabel>IPv6</guilabel>.</para>
                      </listitem>
                    </itemizedlist>
                  </listitem>
                </varlistentry>
              </variablelist>
            </step>
          </procedure>
        </sect3>
        <sect3 id="delete_security_group_rule">
          <title>Delete a security group rule</title>
          <procedure>
            <step>
              <para>Log in to the dashboard as a project member.</para>
            </step>
            <step>
              <para>Select a project from the drop-down menu at the top of the
                                screen.</para>
            </step>
            <step>
              <para>On the <guilabel>Project</guilabel> tab, click the
                                    <guimenuitem>Access &amp; Security</guimenuitem>
                                category.</para>
            </step>
            <step>
              <para>On the <guilabel>Security Groups</guilabel> tab, click
                                    <guibutton>Manage rules</guibutton> for the appropriate security
                                group.</para>
            </step>
            <step>
              <para>To delete a rule, select the rule and click <guibutton>Delete
                                    Rule</guibutton> and confirm that you want to delete the
                                rule.</para>
            </step>
          </procedure>
        </sect3>
        <sect3 id="delete_security_group">
          <title>Delete a security group</title>
          <procedure>
            <step>
              <para>Log in to the dashboard as a project member.</para>
            </step>
            <step>
              <para>Select a project from the drop-down menu at the top of the
                                screen.</para>
            </step>
            <step>
              <para>On the <guilabel>Project</guilabel> tab, click the
                                    <guimenuitem>Access &amp; Security</guimenuitem>
                                category.</para>
            </step>
            <step>
              <para>On the <guilabel>Security Groups</guilabel> tab, select the
                                appropriate group, and click <guibutton>Delete Security
                                    Group</guibutton> and confirm that you want to delete the
                                group.</para>
            </step>
          </procedure>
        </sect3>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="section_dashboard_admin_manage_roles">
      <?dbhtml stop-chunking?>
      <title>Create and manage roles</title>
      <para>A role is a personality that a user assumes to perform a specific set of
                operations. A role includes a set of rights and privileges. A user assuming that
                role inherits those rights and privileges.</para>
      <note>
        <para>OpenStack Identity service defines a user's role on a project but it is
                    completely up to the individual service to define what that role means. This is
                    referred to as the service's policy. To get details about what the privileges
                    for each role are, refer to the <filename>policy.json</filename> file available
                    for each service in the
                        <filename>/etc/<replaceable>SERVICE</replaceable>/policy.json</filename>
                    file. For example, the policy defined for OpenStack Identity service is defined
                    in the <filename>/etc/keystone/policy.json</filename> file. </para>
      </note>
      <sect2 id="create_role">
        <title>Create a role</title>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the <guilabel>CURRENT PROJECT</guilabel> drop-down list.
                        </para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the <guilabel>Roles
                            </guilabel> category. </para>
          </step>
          <step>
            <para>Click the <guibutton>Create Role</guibutton> button.</para>
            <para>In the <guilabel>Create Role</guilabel> window, enter a name for the
                            role.</para>
          </step>
          <step>
            <para>Click the <guibutton>Create Role</guibutton> button to confirm your
                            changes.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="edit_role">
        <title>Edit a role</title>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the <guilabel>CURRENT PROJECT</guilabel> drop-down list.
                        </para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the <guilabel>Roles
                            </guilabel> category. </para>
          </step>
          <step>
            <para>Click the <guibutton>Edit</guibutton> button.</para>
            <para>In the <guilabel>Update Role</guilabel> window, enter a new name for
                            the role.</para>
          </step>
          <step>
            <para>Click the <guibutton>Update Role</guibutton> button to confirm your
                            changes. </para>
          </step>
        </procedure>
        <note>
          <para>Using the dashboard, you can edit only the name assigned to a role.</para>
        </note>
      </sect2>
      <sect2 id="delete_role">
        <title>Delete a role</title>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the <guilabel>CURRENT PROJECT</guilabel> drop-down list.
                        </para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the <guilabel>Roles
                            </guilabel> category.</para>
          </step>
          <step>
            <para>Select the role you want to delete and click the <guibutton>Delete
                                Roles</guibutton> button.</para>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="dashboard_manage_instances">
      <?dbhtml stop-chunking?>
      <title>Manage instances</title>
      <para>As an administrative user, you can manage instances for users in various projects.
                You can view, terminate, edit, perform a soft or hard reboot, create a snapshot
                from, and migrate instances. You can also view the logs for instances or launch a
                VNC console for an instance.</para>
      <para>For information about using the dashboard to launch instances as an end user, see
                the <ulink url="http://docs.openstack.org/user-guide/content/"><citetitle>OpenStack End User Guide</citetitle></ulink>.</para>
      <sect2 id="dashboard_instance_snapshots">
        <title>Create instance snapshots</title>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the drop-down list at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the
                                <guilabel>Instances</guilabel> category.</para>
          </step>
          <step>
            <para>Select an instance to create a snapshot from it. From the
                                <guilabel>Actions</guilabel> drop-down list, select <guilabel>Create
                                Snapshot</guilabel>.</para>
          </step>
          <step>
            <para>In the <guilabel>Create Snapshot</guilabel> window, enter a name for
                            the snapshot. Click <guibutton>Create Snapshot</guibutton>. The
                            dashboard shows the instance snapshot in the <guilabel>Images &amp;
                                Snapshots</guilabel> category.</para>
          </step>
          <step>
            <para>To launch an instance from the snapshot, select the snapshot and click
                                <guibutton>Launch</guibutton>. For information about launching
                            instances, see the <ulink url="http://docs.openstack.org/user-guide/content/"><citetitle>OpenStack End User Guide</citetitle></ulink>.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_control_instance_states">
        <title>Control the state of an instance</title>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the drop-down list at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the
                                <guilabel>Instances</guilabel> category.</para>
          </step>
          <step>
            <para>Select the instance for which you want to change the state.</para>
          </step>
          <step>
            <para>In the <guilabel>More</guilabel> drop-down list in the
                                <guilabel>Actions</guilabel> column, select the state.</para>
            <para>Depending on the current state of the instance, you can choose to
                            pause, un-pause, suspend, resume, soft or hard reboot, or terminate an
                            instance (items in red are disabled).</para>
            <figure>
              <title>Dashboard—Instance Actions</title>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="change_instance_state.png" width="100%"/>
                </imageobject>
              </mediaobject>
            </figure>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_track_usage">
        <title>Track usage</title>
        <para>Use the <guilabel>Overview</guilabel> category to track usage of instances for
                    each project.</para>
        <para>You can track costs per month by showing metrics like number of VCPUs, disks,
                    RAM, and uptime of all your instances.</para>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the <guilabel>CURRENT PROJECT</guilabel> drop-down
                            list.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the
                                <guilabel>Instances</guilabel> category.</para>
          </step>
          <step>
            <para>Select a month and click <guibutton>Submit</guibutton> to query the
                            instance usage for that month.</para>
          </step>
          <step>
            <para>Click <guibutton>Download CSV Summary</guibutton> to download a CSV
                            summary.</para>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="dashboard_manage_volumes">
      <?dbhtml stop-chunking?>
      <title>Manage volumes and volume types</title>
      <para>Volumes are the Block Storage devices that you attach to instances to enable
                persistent storage. Users can attach a volume to a running instance or detach a
                volume and attach it to another instance at any time. For information about using
                the dashboard to create and manage volumes as an end user, see the <ulink url="http://docs.openstack.org/user-guide/content/"><citetitle>OpenStack End User Guide</citetitle></ulink>.</para>
      <para>As an administrative user, you can manage volumes and volume types for users in
                various projects. You can create and delete volume types, and you can view and
                delete volumes.</para>
      <sect2 id="dashboard_create_volume_types">
        <title>Create a volume type</title>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the drop-down list at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guibutton>System
                                Panel</guibutton> and click the <guilabel>Volumes</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Click <guibutton>Create Volume Type</guibutton>.</para>
            <para>In the <guilabel>Create Volume Type</guilabel> window, enter a name
                            for the volume type.</para>
          </step>
          <step>
            <para>Click <guibutton>Create Volume Type</guibutton> to confirm your
                            changes.</para>
            <para>A message indicates whether the action succeeded.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_delete_volume_types">
        <title>Delete volume types</title>
        <para>When you delete a volume type, volumes of that type are not deleted.</para>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the drop-down list at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guibutton>System
                                Panel</guibutton> and click the <guilabel>Volumes</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Select the volume type or types that you want to delete.</para>
          </step>
          <step>
            <para>Click <guibutton>Delete Volume Types</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Confirm Delete Volume Types</guilabel> window, click
                                <guibutton>Delete Volume Types</guibutton> to confirm the
                            action.</para>
            <para>A message indicates whether the action succeeded.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_delete_volume">
        <title>Delete volumes</title>
        <para>When you delete an instance, the data of its attached volumes is not
                    destroyed.</para>
        <procedure>
          <step>
            <para>Log in to the dashboard and choose the <guilabel>admin</guilabel>
                            project from the drop-down list at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guibutton>System
                                Panel</guibutton> and click the <guilabel>Volumes</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Select the volume or volumes that you want to delete.</para>
          </step>
          <step>
            <para>Click <guibutton>Delete Volumes</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Confirm Delete Volumes</guilabel> window, click
                                <guibutton>Delete Volumes</guibutton> to confirm the action.</para>
            <para>A message indicates whether the action succeeded.</para>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="dashboard_manage_images">
      <?dbhtml stop-chunking?>
      <title>Create and manage images</title>
      <para>As an administrative user, you can create and manage images for the projects to
                which you belong. You can also create and manage images for users in all projects to
                which you have access.</para>
      <para>To create and manage images in specified projects as an end user, see the <ulink url="http://docs.openstack.org/user-guide/content/"><citetitle>OpenStack End User Guide</citetitle></ulink>.</para>
      <para>To create and manage images as an administrator for other users, use the following
                procedures.</para>
      <sect2 id="dashboard_create_images">
        <title>Create images</title>
        <para>For details about image creation, see the <ulink url="http://docs.openstack.org/image-guide/content/"><citetitle>Virtual Machine Image Guide</citetitle></ulink>.</para>
        <procedure>
          <step>
            <para>Log in to the dashboard.</para>
            <para>Choose the <guilabel>admin</guilabel> project from the drop-down list
                            at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                                Panel</guilabel> and click the <guilabel>Images</guilabel> category.
                            The images that you can administer for cloud users appear on this
                            page.</para>
          </step>
          <step>
            <para>Click <guibutton>Create Image</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Create An Image</guilabel> window, enter or select
                            the following values:</para>
            <informaltable rules="all" width="50%">
              <tgroup cols="2">
                <colspec colwidth="25%"/>
                <colspec colwidth="75%"/>
                <tbody>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Name</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter a name for the image.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Description</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter a brief description about the image.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Image Source</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Choose the image source from the dropdown list. Your
                                            choices are <guilabel>Image Location</guilabel> and
                                                <guilabel>Image File</guilabel>.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para><guilabel>Image File</guilabel> or <guilabel>Image
                                                Location</guilabel></para>
                    </entry>
                    <entry>
                      <para>Based on your selection, there is an <guilabel>Image
                                                File </guilabel> or <guilabel>Image
                                                Location</guilabel> field. You can include the
                                            location URL or browse for the image file on your file
                                            system and add it.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Format</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Select the image format.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para><guilabel>Minimum Disk (GB)</guilabel> and
                                                <guilabel>Minimum RAM (MB)</guilabel></para>
                    </entry>
                    <entry>
                      <para>Leave these fields empty.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Public</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Select this option to make the image public to all
                                            users.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Protected</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Select this option to ensure that only users with
                                            permissions can delete it.</para>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </informaltable>
          </step>
          <step>
            <para>Click <guibutton>Create Image</guibutton>.</para>
            <para>The image is queued to be uploaded. It might take several minutes
                            before the status changes from <literal>Queued</literal> to
                                <literal>Active</literal>.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_update_images">
        <title>Update images</title>
        <procedure>
          <step>
            <para>Log in to the dashboard.</para>
            <para>Choose the <guilabel>admin</guilabel> project from the drop-down list
                            at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                                Panel</guilabel> and click the <guilabel>Images</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Select the image that you want to edit. Click
                                <guilabel>Edit</guilabel>.</para>
          </step>
          <step>
            <para>In the <guilabel>Update Image</guilabel> window, you can change the
                            image name.</para>
            <para>Select the <guilabel>Public</guilabel> check box to make the image
                            public. Clear this check box to make the image private. You cannot
                            change the kernel ID, RAM disk ID, or architecture attributes for an
                            image.</para>
          </step>
          <step>
            <para>Click <guibutton>Update Image</guibutton>.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_delete_images">
        <title>Delete images</title>
        <procedure>
          <step>
            <para>Log in to the dashboard.</para>
            <para>Choose the <guilabel>admin</guilabel> project from the drop-down list
                            at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                                Panel</guilabel> and click the <guilabel>Images</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Select the images that you want to delete.</para>
          </step>
          <step>
            <para>Click <guibutton>Delete Images</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Confirm Delete Image</guilabel> window, click
                                <guibutton>Delete Images</guibutton> to confirm the deletion.</para>
            <para>You cannot undo this action.</para>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="dashboard_manage_flavors">
      <?dbhtml stop-chunking?>
      <title>Manage flavors</title>
      <para>In OpenStack, a flavor defines the compute, memory, and storage capacity of a
                virtual server, also known as an instance. As an administrative user, you can
                create, edit, and delete flavors..</para>
      <para>The following table lists the default flavors.</para>
      <informaltable rules="all" width="50%">
        <tgroup cols="4">
          <colspec colwidth="30%"/>
          <colspec colwidth="20%"/>
          <colspec colwidth="25%"/>
          <colspec colwidth="25%"/>
          <thead>
            <row>
              <entry>Flavor</entry>
              <entry>VCPUs</entry>
              <entry>Disk (in GB)</entry>
              <entry>RAM (in MB)</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <para>m1.tiny</para>
              </entry>
              <entry>
                <para>1</para>
              </entry>
              <entry>
                <para>1</para>
              </entry>
              <entry>
                <para>512</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.small</para>
              </entry>
              <entry>
                <para>1</para>
              </entry>
              <entry>
                <para>20</para>
              </entry>
              <entry>
                <para>2048</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.medium</para>
              </entry>
              <entry>
                <para>2</para>
              </entry>
              <entry>
                <para>40</para>
              </entry>
              <entry>
                <para>4096</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.large</para>
              </entry>
              <entry>
                <para>4</para>
              </entry>
              <entry>
                <para>80</para>
              </entry>
              <entry>
                <para>8192</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.xlarge</para>
              </entry>
              <entry>
                <para>8</para>
              </entry>
              <entry>
                <para>160</para>
              </entry>
              <entry>
                <para>16384</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <sect2 id="dashboard_create_flavors">
        <title>Create flavors</title>
        <procedure>
          <step>
            <para>Log in to the dashboard.</para>
            <para>Choose the <guilabel>admin</guilabel> project from the drop-down list
                            at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                                Panel</guilabel> and click the <guilabel>Flavors</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Click <guibutton>Create Flavor</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Create Flavor</guilabel> window, enter or select the
                            parameters for the flavor.</para>
            <informaltable rules="all" width="75%">
              <tgroup cols="2">
                <colspec colwidth="25%"/>
                <colspec colwidth="75%"/>
                <thead>
                  <row>
                    <entry><guilabel>Flavor Info</guilabel> tab</entry>
                  </row>
                </thead>
                <tbody>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Name</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter the flavor name.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>ID</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>OpenStack generates the flavor ID.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>VCPUs</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter the number of virtual CPUs to use.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>RAM MB</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter the amount of RAM to use, in megabytes.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Root Disk GB</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter the mount of disk space in gigabytes to use for
                                            the root (/) partition.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Ephemeral Disk GB</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter the amount of disk space in gigabytes to use for
                                            the ephemeral partition. If unspecified, the value is 0
                                            by default.</para>
                      <para>Ephemeral disks offer machine local disk storage
                                            linked to the life cycle of a VM instance. When a VM is
                                            terminated, all data on the ephemeral disk is lost.
                                            Ephemeral disks are not included in any
                                            snapshots.</para>
                    </entry>
                  </row>
                  <row>
                    <entry>
                      <para>
                        <guilabel>Swap Disk MB</guilabel>
                      </para>
                    </entry>
                    <entry>
                      <para>Enter the amount of swap space (in megabytes) to use.
                                            If unspecified, the default is 0. </para>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </informaltable>
          </step>
          <step>
            <para>In the <guilabel>Flavor Access</guilabel> tab, you can control access
                            to the flavor by moving projects from the <guilabel>All
                                Projects</guilabel> column to the <guilabel>Selected
                                Projects</guilabel> column.</para>
            <para>Only projects in the <guilabel>Selected Projects</guilabel> column can
                            use the flavor. If there are no projects in the right column, all
                            projects can use the flavor.</para>
          </step>
          <step>
            <para>Click <guibutton>Create Flavor</guibutton>.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_update_flavors">
        <title>Update flavors</title>
        <procedure>
          <step>
            <para>Log in to the dashboard.</para>
            <para>Choose the <guilabel>admin</guilabel> project from the drop-down list
                            at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                                Panel</guilabel> and click the <guilabel>Flavors</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Select the flavor that you want to edit. Click <guibutton>Edit
                                Flavor</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Edit Flavor</guilabel> window, you can change the
                            flavor name, VCPUs, RAM, root disk, ephemeral disk, and swap disk
                            values.</para>
          </step>
          <step>
            <para>Click <guibutton>Save</guibutton>.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="dashboard_delete_flavors">
        <title>Delete flavors</title>
        <procedure>
          <step>
            <para>Log in to the dashboard.</para>
            <para>Choose the <guilabel>admin</guilabel> project from the drop-down list
                            at the top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                                Panel</guilabel> and click the <guilabel>Flavors</guilabel>
                            category.</para>
          </step>
          <step>
            <para>Select the flavors that you want to delete.</para>
          </step>
          <step>
            <para>Click <guibutton>Delete Flavors</guibutton>.</para>
          </step>
          <step>
            <para>In the <guilabel>Confirm Delete Flavors</guilabel> window, click
                                <guibutton>Delete Flavors</guibutton> to confirm the deletion. You
                            cannot undo this action.</para>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="dashboard_set_quotas">
      <?dbhtml stop-chunking?>
      <title>View and manage quotas</title>
      <para>To prevent system capacities from being exhausted without notification, you can
                set up quotas. Quotas are operational limits. For example, the number of gigabytes
                allowed for each tenant can be controlled so that cloud resources are optimized.
                Quotas can be enforced at both the tenant (or project) and the tenant-user
                level.</para>
      <para>Typically, you change quotas when a project needs more than ten volumes or 1 TB on
                a compute node.</para>
      <para>Using the Dashboard, you can view default Compute and Block Storage quotas for new
                tenants, as well as update quotas for existing tenants.</para>
      <note>
        <para>Using the command-line interface, you can manage quotas for the OpenStack
                    Compute service, the OpenStack Block Storage service, and the OpenStack
                    Networking service (see <xref linkend="cli_set_quotas"/>). Additionally, you can
                    update Compute service quotas for tenant users.</para>
      </note>
      <para>The following table describes the Compute and Block Storage service quotas:</para>
      <table rules="all" width="50%" id="compute_quotas">
        <title>Quota Descriptions</title>
        <tgroup cols="3">
          <colspec colwidth="30%"/>
          <colspec colwidth="50%"/>
          <colspec colwidth="20%"/>
          <thead>
            <row>
              <entry>Quota Name</entry>
              <entry>Defines the number of</entry>
              <entry>Service</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <para>Gigabytes</para>
              </entry>
              <entry>
                <para>Volume gigabytes allowed for each project.</para>
              </entry>
              <entry>Block Storage</entry>
            </row>
            <row>
              <entry>
                <para>Instances</para>
              </entry>
              <entry>
                <para>Instances allowed for each project.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Injected Files</para>
              </entry>
              <entry>
                <para>Injected files allowed for each project.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Injected File Content Bytes</para>
              </entry>
              <entry>
                <para>Content bytes allowed for each injected file.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Keypairs</para>
              </entry>
              <entry>
                <para>Number of keypairs.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Metadata Items</para>
              </entry>
              <entry>
                <para>Metadata items allowed for each instance.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>RAM (MB)</para>
              </entry>
              <entry>
                <para>RAM megabytes allowed for each instance.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Security Groups</para>
              </entry>
              <entry>
                <para>Security groups allowed for each project.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Security Group Rules</para>
              </entry>
              <entry>
                <para>Rules allowed for each security group.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Snapshots</para>
              </entry>
              <entry>
                <para>Volume snapshots allowed for each project.</para>
              </entry>
              <entry>Block Storage</entry>
            </row>
            <row>
              <entry>
                <para>VCPUs</para>
              </entry>
              <entry>
                <para>Instance cores allowed for each project.</para>
              </entry>
              <entry>Compute</entry>
            </row>
            <row>
              <entry>
                <para>Volumes</para>
              </entry>
              <entry>
                <para>Volumes allowed for each project.</para>
              </entry>
              <entry>Block Storage</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <sect2 id="dashboard_view_quotas_procedure">
        <title>View default project quotas</title>
        <procedure>
          <step>
            <para>Log in to the OpenStack dashboard.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the
                                <guilabel>Defaults</guilabel> category.</para>
          </step>
          <step>
            <para>The default quota values are displayed.</para>
          </step>
        </procedure>
        <note>
          <para>You can sort the table by clicking on either the <guilabel>Quota
                            Name</guilabel> or <guilabel>Limit</guilabel> column headers.</para>
        </note>
      </sect2>
      <sect2 id="dashboard_update_project_quotas">
        <title>Update project quotas</title>
        <procedure>
          <step>
            <para>Log in to the OpenStack dashboard.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the
                                <guilabel>Defaults</guilabel> category.</para>
          </step>
          <step>
            <para>Click the <guibutton>Update Defaults</guibutton> button.</para>
          </step>
          <step>
            <para>In the <guilabel>Update Default Quotas</guilabel> window, you can edit
                            the default quota values.</para>
          </step>
          <step>
            <para>Click the <guibutton>Update Defaults</guibutton> button.</para>
          </step>
        </procedure>
        <note>
          <para>The dashboard does not show all possible project quotas. To view and
                        update the quotas for a service, use its command-line client. See <xref linkend="cli_set_quotas"/>.</para>
        </note>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="section_dashboard_admin_manage_resources">
      <title>View cloud resources</title>
      <sect2 id="dashboard_view_services">
        <title>View services information</title>
        <para>As an administrative user, you can view information for OpenStack
                    services.</para>
        <procedure>
          <step>
            <para>Log in to the OpenStack dashboard and choose the
                                <guilabel>admin</guilabel> project from the drop-down list at the
                            top of the page.</para>
          </step>
          <step>
            <para>On the <guilabel>Admin</guilabel> tab, click the <guilabel>System
                                Info</guilabel> category.</para>
            <para>View the following information on these tabs:<itemizedlist><listitem><para><guilabel>Services</guilabel>: Displays the internal name
                                        and the public OpenStack name for each service, the host on
                                        which the service runs, and whether or not the service is
                                        enabled.</para></listitem><listitem><para><guilabel>Compute Services</guilabel>: Displays
                                        information specific to the Compute Service. Both host and
                                        zone are listed for each service, as well as its activation
                                        status.</para></listitem><listitem><para><guilabel>Network Agents</guilabel>: Displays the network
                                        agents active within the cluster, such as L3 and DHCP
                                        agents, and the status of each agent.</para></listitem><listitem><para><guilabel>Default Quotas</guilabel>: Displays the quotas
                                        that have been configured for the cluster.</para></listitem><listitem><para><guilabel>Availability Zones</guilabel>: Displays the
                                        availability zones that have been configured for the
                                        cluster. It is only available when multiple availability
                                        zones have been defined.</para></listitem><listitem><para><guilabel>Host Aggregates</guilabel>: Displays the host
                                        aggregates that have been defined for the cluster. It is
                                        only available when multiple host aggregates have been
                                        defined.</para></listitem></itemizedlist></para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="section_ceilometer_dashboard">
        <title>View cloud usage statistics</title>
        <para>The Telemetry module provides user-level usage data for OpenStack-based
                    clouds, which can be used for customer billing, system monitoring, or alerts.
                    Data can be collected by notifications sent by existing OpenStack components
                    (for example, usage events emitted from Compute) or by polling the
                    infrastructure (for example, libvirt). </para>
        <note>
          <para>You can only view metering statistics on the dashboard (available only to
                        administrators). The Telemetry service must be set up and administered
                        through the <command>ceilometer</command> command-line interface (CLI). </para>
          <para>For basic administration information, refer to the "Measure Cloud
                        Resources" chapter in the <citetitle>OpenStack End User
                        Guide</citetitle>.</para>
        </note>
        <sect3 id="dashboard_view_resource_stats">
          <title>View resource statistics</title>
          <procedure>
            <step>
              <para>Log in to the OpenStack dashboard as a user with Admin
                                privileges.</para>
            </step>
            <step>
              <para>On the <guilabel>Admin</guilabel> tab, click the
                                    <guilabel>Resource Usage</guilabel> category.</para>
            </step>
            <step>
              <para>Click the: <itemizedlist><listitem><para><guilabel>Global Disk Usage</guilabel> tab to view
                                            disk usage per tenant (project).</para></listitem><listitem><para><guilabel>Global Network Traffic Usage</guilabel> tab
                                            to view ingress or egress usage per tenant
                                            (project).</para></listitem><listitem><para><guilabel>Global Object Storage Usage</guilabel> tab
                                            to view incoming and outgoing storage bytes per tenant
                                            (project).</para></listitem><listitem><para><guilabel>Global Network Usage</guilabel> tab to view
                                            duration and creation requests for networks, subnets,
                                            routers, ports, and floating IPs, per tenant
                                            (project).</para></listitem><listitem><para><guilabel>Stats</guilabel> tab to view a multi-series
                                            line chart with user-defined metrics. You group by
                                            project, define the value type (min, max, avg, or sum),
                                            and specify the time period (or even use a calendar to
                                            define a date range).</para></listitem></itemizedlist></para>
            </step>
          </procedure>
        </sect3>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="dashboard_manage_host_aggregates">
      <?dbhtml stop-chunking?>
      <title>Create and manage host aggregates</title>
      <para>Host aggregates enable administrative users to assign key-value pairs to groups of
                machines.</para>
      <para>Each node can have multiple aggregates and each aggregate can have multiple
                key-value pairs. You can assign the same key-value pair to multiple
                aggregates.</para>
      <para>The scheduler uses this information to make scheduling decisions. For information,
                see <ulink url="http://docs.openstack.org/trunk/config-reference/content/section_compute-scheduler.html"><citetitle>Scheduling</citetitle></ulink>.</para>
      <procedure>
        <title>To create a host aggregate</title>
        <step>
          <para>Log in to the dashboard.</para>
          <para>Choose the <guilabel>admin</guilabel> project from the drop-down list at
                        the top of the page.</para>
        </step>
        <step>
          <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                            Panel</guilabel> and click the <guilabel>Host Aggregates</guilabel>
                        category.</para>
        </step>
        <step>
          <para>Click <guibutton>Create Host Aggregate</guibutton>.</para>
        </step>
        <step>
          <para>In the <guilabel>Create Host Aggregate</guilabel> dialog box, enter or
                        select the following values on the <guilabel>Host Aggregate Info</guilabel>
                        tab:</para>
          <itemizedlist>
            <listitem>
              <para><guilabel>Name</guilabel>: The host aggregate name.</para>
            </listitem>
            <listitem>
              <para><guilabel>Availability Zone</guilabel>: The cloud provider defines
                                the default availability zone, such as <literal>us-west</literal>,
                                    <literal>apac-south</literal>, or <literal>nova</literal>. You
                                can target the host aggregate, as follows:</para>
              <itemizedlist>
                <listitem>
                  <para>When the host aggregate is exposed as an availability
                                        zone, select the availability zone when you launch an
                                        instance.</para>
                </listitem>
                <listitem>
                  <para>When the host aggregate is not exposed as an availability
                                        zone, select a flavor and its extra specs to target the host
                                        aggregate.</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>Assign hosts to the aggregate on the <guilabel>Host within
                            Aggregate</guilabel> tab.</para>
          <para>To assign a host to the aggregate, click <guilabel>+</guilabel> for the
                        host. The host moves from the <guilabel>All available hosts</guilabel> list
                        to the <guilabel>Selected hosts</guilabel> list.</para>
        </step>
      </procedure>
      <para>You can add one host to one or more aggregates. To add a host to an existing
                aggregate, edit the aggregate.</para>
      <procedure>
        <title>To manage host and aggregates</title>
        <step>
          <para>Choose the <guilabel>admin</guilabel> project from the drop-down list at
                        the top of the page.</para>
        </step>
        <step>
          <para>On the <guilabel>Admin</guilabel> tab, open the <guilabel>System
                            Panel</guilabel> and click the <guilabel> Host Aggregates</guilabel>
                        category.</para>
          <itemizedlist>
            <listitem>
              <para>To edit host aggregates, select the host aggregate that you want
                                to edit. Click <guibutton>Edit Host Aggregate</guibutton>.</para>
              <para>In the <guilabel>Edit Host Aggregate</guilabel> dialog box, you
                                can change the name and availability zone for the aggregate.</para>
            </listitem>
            <listitem>
              <para>To manage hosts, locate the host aggregate that you want to edit
                                in the table. Click <guibutton>More</guibutton> and select
                                    <guilabel>Manage Hosts</guilabel>.</para>
              <para>In the <guilabel>Add/Remove Hosts to Aggregate</guilabel> dialog
                                box, click <guilabel>+</guilabel> to assign a host to the aggregate.
                                Click <guilabel>-</guilabel> to remove a host that is assigned to an
                                aggregate.</para>
            </listitem>
            <listitem>
              <para>To delete host aggregates, locate the host aggregate that you want
                                to edit in the table. Click <guibutton>More</guibutton> and select
                                    <guilabel>Delete Host Aggregate</guilabel>.</para>
            </listitem>
          </itemizedlist>
        </step>
      </procedure>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="section_dashboard_admin_manage_stacks">
      <title>Launch and manage stacks</title>
      <para>The Orchestration service provides a template-based orchestration engine for the
                OpenStack cloud, which can be used to create and manage cloud infrastructure
                resources such as storage, networking, instances, and applications as a repeatable
                running environment. </para>
      <para>Templates are used to create stacks, which are collections of resources. For
                example, a stack might include instances, floating IPs, volumes, security groups, or
                users. The Orchestration service offers access to all OpenStack core services via a
                single modular template, with additional orchestration capabilities such as
                auto-scaling and basic high availability.</para>
      <para>For information about:</para>
      <para>
        <itemizedlist>
          <listitem>
            <para>Administrative tasks on the command line, see <xref linkend="section_cli_admin_manage_stacks"/>. <note><para>There are no administration-specific tasks that can be done
                                    through the dashboard.</para></note></para>
          </listitem>
          <listitem>
            <para>The basic creation and deletion of Orchestration stacks, refer to the
                                <ulink url="http://docs.openstack.org/user-guide/content/dashboard_stacks.html">End User Guide</ulink>.</para>
          </listitem>
        </itemizedlist>
      </para>
    </sect1>
  </chapter>
  <chapter id="admin_ch_cli">
    <title>OpenStack command-line clients</title>
    <sect1 id="section_cli_overview" xml:base="../common/section_cli_overview.xml">
      <title>Overview</title>
      <para> Each OpenStack project provides a command-line client, which enables you to
                access the project API through easy-to-use commands. For example, the Compute
                service provides a nova command-line client.</para>
      <para> You can run the commands from the command line, or include the commands within
                scripts to automate tasks. If you provide OpenStack credentials, such as your user
                name and password, you can run these commands on any computer. </para>
      <para> Internally, each command uses cURL command-line tools, which embed API requests.
                OpenStack APIs are RESTful APIs, and use the HTTP protocol. They include methods,
                URIs, media types, and response codes.</para>
      <para> OpenStack APIs are open-source Python clients, and can run on Linux or Mac OS X
                systems. On some client commands, you can specify a <command>debug</command>
                parameter to show the underlying API request for the command. This is a good way to
                become familiar with the OpenStack API calls.</para>
      <para>The following table lists the command-line client for each OpenStack service with
                its package name and description.</para>
      <table rules="all">
        <title>OpenStack services and clients</title>
        <tgroup cols="4">
          <colspec colwidth="15%"/>
          <colspec colwidth="10%"/>
          <colspec colwidth="20%"/>
          <colspec colwidth="55%"/>
          <thead>
            <row>
              <entry>Service</entry>
              <entry>Client</entry>
              <entry>Package</entry>
              <entry>Description</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>Block Storage</entry>
              <entry>
                <command>cinder</command>
              </entry>
              <entry>
                <package>python-cinderclient</package>
              </entry>
              <entry>Create and manage volumes.</entry>
            </row>
            <row>
              <entry>Compute</entry>
              <entry>
                <command>nova</command>
              </entry>
              <entry>
                <package>python-novaclient</package>
              </entry>
              <entry>Create and manage images, instances, and flavors.</entry>
            </row>
            <row>
              <entry>Database Service</entry>
              <entry>
                <command>trove</command>
              </entry>
              <entry>
                <package>python-troveclient</package>
              </entry>
              <entry>Create and manage databases.</entry>
            </row>
            <row>
              <entry>Identity</entry>
              <entry>
                <command>keystone</command>
              </entry>
              <entry>
                <package>python-keystoneclient</package>
              </entry>
              <entry>Create and manage users, tenants, roles, endpoints, and
                            credentials.</entry>
            </row>
            <row>
              <entry>Image Service</entry>
              <entry>
                <command>glance</command>
              </entry>
              <entry>
                <package>python-glanceclient</package>
              </entry>
              <entry>Create and manage images.</entry>
            </row>
            <row>
              <entry>Networking</entry>
              <entry>
                <command>neutron</command>
              </entry>
              <entry>
                <package>python-neutronclient</package>
              </entry>
              <entry>Configure networks for guest servers. This client was previously called
                            <command>quantum</command>.</entry>
            </row>
            <row>
              <entry>Object Storage</entry>
              <entry>
                <command>swift</command>
              </entry>
              <entry>
                <package>python-swiftclient</package>
              </entry>
              <entry>Gather statistics, list items, update metadata, and upload, download,
                            and delete files stored by the Object Storage service. Gain access to an
                            Object Storage installation for ad hoc processing.</entry>
            </row>
            <row>
              <entry>Orchestration</entry>
              <entry>
                <command>heat</command>
              </entry>
              <entry>
                <package>python-heatclient</package>
              </entry>
              <entry>Launch stacks from templates, view details of running stacks including
                            events and resources, and update and delete stacks.</entry>
            </row>
            <row>
              <entry>Telemetry</entry>
              <entry>
                <command>ceilometer</command>
              </entry>
              <entry>
                <package>python-ceilometerclient</package>
              </entry>
              <entry>Create and collect measurements across OpenStack.</entry>
            </row>
            <row>
              <entry>Data Processing</entry>
              <entry>
                <command>sahara</command>
              </entry>
              <entry>
                <package>python-saharaclient</package>
              </entry>
              <entry>Creates and manages Hadoop clusters on OpenStack.</entry>
            </row>
            <row>
              <entry>Common client</entry>
              <entry>
                <command>openstack</command>
              </entry>
              <entry>
                <package>python-openstackclient</package>
              </entry>
              <entry>Common client for the OpenStack project.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <para condition="adminuser">For client installation instructions, see <ulink url="http://docs.openstack.org/user-guide/content/install_clients.html">Install the OpenStack command-line clients</ulink>. For information about the
                OpenStack RC file, see <ulink url="http://docs.openstack.org/user-guide/content/cli_openrc.html">Download and source the OpenStack RC file</ulink>.</para>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="checking_version_cli" xml:base="../common/section_cli_version.xml">
      <title>Discover the version number for a client</title>
      <para>Run the following command to discover the version number for a client:</para>
      <screen><prompt>$</prompt> <replaceable>PROJECT</replaceable> --version</screen>
      <para>For example, to see the version number for the <command>nova</command> client, run
                the following command:</para>
      <screen><prompt>$</prompt> nova --version</screen>
      <para>The version number (2.15.0 in the example) is returned.</para>
      <screen>2.15.0</screen>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="cli_help" xml:base="../common/section_cli_help.xml">
      <title>Get help for client commands</title>
      <para>To get usage information, including a list of commands with descriptions, for a
                client, run the following command:</para>
      <screen><prompt>$</prompt> <replaceable>CLIENT_NAME</replaceable> help</screen>
      <para>For example, to get help information for the swift client, run the following
                command:</para>
      <screen><prompt>$</prompt> swift help</screen>
      <screen><?db-font-size 65%?>Usage: swift [--version] [--help] [--snet] [--verbose]
             [--debug] [--quiet] [--auth &lt;auth_url&gt;]
             [--auth-version &lt;auth_version&gt;] [--user &lt;username&gt;]
             [--key &lt;api_key&gt;] [--retries &lt;num_retries&gt;]
             [--os-username &lt;auth-user-name&gt;] [--os-password &lt;auth-password&gt;]
             [--os-tenant-id &lt;auth-tenant-id&gt;]
             [--os-tenant-name &lt;auth-tenant-name&gt;]
             [--os-auth-url &lt;auth-url&gt;] [--os-auth-token &lt;auth-token&gt;]
             [--os-storage-url &lt;storage-url&gt;] [--os-region-name &lt;region-name&gt;]
             [--os-service-type &lt;service-type&gt;]
             [--os-endpoint-type &lt;endpoint-type&gt;]
             [--os-cacert &lt;ca-certificate&gt;] [--insecure]
             [--no-ssl-compression]
             &lt;subcommand&gt; ...

Command-line interface to the OpenStack Swift API.

Positional arguments:
  &lt;subcommand&gt;
    delete               Delete a container or objects within a container
    download             Download objects from containers
    list                 Lists the containers for the account or the objects
                         for a container
    post                 Updates meta information for the account, container,
                         or object
    stat                 Displays information for the account, container,
                         or object
    upload               Uploads files or directories to the given container

Examples:
  swift -A https://auth.api.rackspacecloud.com/v1.0 -U user -K api_key stat -v

  swift --os-auth-url https://api.example.com/v2.0 --os-tenant-name tenant \
      --os-username user --os-password password list

  swift --os-auth-token 6ee5eb33efad4e45ab46806eac010566 \
      --os-storage-url https://10.1.5.2:8080/v1/AUTH_ced809b6a4baea7aeab61a \
      list

  swift list --lh</screen>
      <note>
        <para>Depending on your credentials, you might not have permission to use every
                    command.</para>
      </note>
      <para>After the <option>help</option> command, you can enter a command name to get help
                for that command, as follows:</para>
      <screen><prompt>$</prompt> <replaceable>CLIENT_NAME</replaceable> help <replaceable>COMMAND_NAME</replaceable></screen>
      <para>For example, to get help for the glance <command>image-show</command> command,
                enter the following command:</para>
      <screen><prompt>$</prompt> glance help image-show</screen>
      <para>The command returns a description of the command and its positional and optional
                arguments:</para>
      <screen><?db-font-size 75%?>usage: glance image-show [--human-readable] &lt;IMAGE&gt;

Describe a specific image.

Positional arguments:
  &lt;IMAGE&gt;           Name or ID of image to describe.

Optional arguments:
  --human-readable  Print image size in a human-friendly format.</screen>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="admin_cli_manage_projects_users">
      <?dbhtml stop-chunking?>
      <title>Manage projects, users, and roles</title>
      <para>As a cloud administrator, you manage projects, users, and roles. Projects are
                organizational units in the cloud to which you can assign users. Projects are also
                known as <emphasis role="italic">tenants</emphasis> or <emphasis role="italic">accounts</emphasis>. Users can be members of one or more projects. Roles define
                which actions users can perform. You assign roles to user-project pairs.</para>
      <para>You can define actions for OpenStack service roles in the
                        <filename>/etc/<replaceable>PROJECT</replaceable>/policy.json</filename>
                files. For example, define actions for Compute service roles in the
                    <filename>/etc/nova/policy.json</filename> file.</para>
      <para>You can manage projects, users, and roles independently from each other.</para>
      <para>During cloud set up, the operator defines at least one project, user, and
                role.</para>
      <para>Learn how to add, update, and delete projects and users, assign users to one or
                more projects, and change or remove the assignment. To enable or temporarily disable
                a project or user, you update that project or user. You can also change quotas at
                the project level.</para>
      <para>Before you can delete a user account, you must remove the user account from its
                primary project.</para>
      <para>Before you can run keystone client commands, you must download and source an
                OpenStack RC file. See <ulink url="http://docs.openstack.org/user-guide/content/cli_openrc.html">Download and source the OpenStack RC file</ulink>.</para>
      <sect2 id="services">
        <title>Services</title>
        <para>To look at your service catalog, use these keystone client commands.</para>
        <sect3 id="keystone-service-create">
          <title>
            <literal>service-create</literal>
          </title>
          <para>Keyword arguments:</para>
          <itemizedlist>
            <listitem>
              <para>Name</para>
            </listitem>
            <listitem>
              <para>Type</para>
            </listitem>
            <listitem>
              <para>Description</para>
            </listitem>
          </itemizedlist>
          <para>Example:</para>
          <screen><prompt>$</prompt> keystone service-create \
--name nova \
--type compute \
--description "Nova Compute Service"</screen>
        </sect3>
        <sect3 id="keystone-service-list">
          <title>
            <literal>service-list</literal>
          </title>
          <para>Example:</para>
          <screen><prompt>$</prompt> keystone service-list</screen>
        </sect3>
        <sect3 id="keystone-service-get">
          <title>
            <literal>service-get</literal>
          </title>
          <para>Arguments</para>
          <itemizedlist>
            <listitem>
              <para>service_id</para>
            </listitem>
          </itemizedlist>
          <para>Example:</para>
          <screen><prompt>$</prompt> keystone service-get 08741d8ed88242ca88d1f61484a0fe3b</screen>
        </sect3>
        <sect3 id="keystone-service-delete">
          <title>
            <literal>service-delete</literal>
          </title>
          <para>Arguments</para>
          <itemizedlist>
            <listitem>
              <para>service_id</para>
            </listitem>
          </itemizedlist>
          <para>Example:</para>
          <screen><prompt>$</prompt> keystone service-delete 08741d8ed88242ca88d1f61484a0fe3b</screen>
        </sect3>
        <sect3 id="admin_cli_projects">
          <title>Create a tenant (project)</title>
          <para>A tenant is a group of zero or more users. In nova, a tenant owns virtual
                        machines. In swift, a tenant owns containers. In the Dashboard, tenants are
                        represented as projects. Users can be associated with more than one tenant.
                        Each tenant and user pairing can have a role associated with it.</para>
          <procedure>
            <step>
              <para>To list all projects with their ID, name, and whether they are
                                enabled or disabled:</para>
              <screen><prompt>$</prompt> keystone tenant-list</screen>
              <screen>+----------------------------------+--------------------+---------+
|                id                |        name        | enabled |
+----------------------------------+--------------------+---------+
| f7ac731cc11f40efbc03a9f9e1d1d21f |       admin        |   True  |
| c150ab41f0d9443f8874e32e725a4cc8 |      alt_demo      |   True  |
| a9debfe41a6d4d09a677da737b907d5e |        demo        |   True  |
| 9208739195a34c628c58c95d157917d7 | invisible_to_admin |   True  |
| 3943a53dc92a49b2827fae94363851e1 |      service       |   True  |
| 80cab5e1f02045abad92a2864cfd76cb |    test_project    |   True  |
+----------------------------------+--------------------+---------+</screen>
            </step>
            <step>
              <para>Create a project named <literal>new-project</literal>:</para>
              <screen><prompt>$</prompt> keystone tenant-create --name new-project --description 'my new project'</screen>
              <para>By default, the project is enabled.</para>
              <screen>+-------------+----------------------------------+
|   Property  |              Value               |
+-------------+----------------------------------+
| description |          my new project          |
|   enabled   |               True               |
|      id     | 1a4a0618b306462c9830f876b0bd6af2 |
|     name    |           new-project            |
+-------------+----------------------------------+</screen>
              <para>Note the ID for the project so you can update it in the next
                                procedure.</para>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_update_project">
          <title>Update a project</title>
          <para>Specify the project ID to update a project. You can update the name,
                        description, and enabled status of a project.</para>
          <procedure>
            <step>
              <para>To temporarily disable a project:</para>
              <screen><prompt>$</prompt> keystone tenant-update <replaceable>PROJECT_ID</replaceable> --enabled false</screen>
            </step>
            <step>
              <para>To enable a disabled project:</para>
              <screen><prompt>$</prompt> keystone tenant-update <replaceable>PROJECT_ID</replaceable> --enabled true</screen>
            </step>
            <step>
              <para>To update the name of a project:</para>
              <screen><prompt>$</prompt> keystone tenant-update <replaceable>PROJECT_ID</replaceable> --name project-new</screen>
            </step>
            <step>
              <para>To verify your changes, show information for the updated
                                project:</para>
              <screen><prompt>$</prompt> keystone tenant-get <replaceable>PROJECT_ID</replaceable></screen>
              <screen>+-------------+----------------------------------+
|   Property  |              Value               |
+-------------+----------------------------------+
| description |          my new project          |
|   enabled   |               True               |
|      id     | 1a4a0618b306462c9830f876b0bd6af2 |
|     name    |           project-new            |
+-------------+----------------------------------+</screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_project_delete">
          <title>Delete a project</title>
          <procedure>
            <step>
              <para>To delete a project:</para>
              <screen><prompt>$</prompt> keystone tenant-delete <replaceable>PROJECT_ID</replaceable></screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="admin_cli_user_accounts">
          <title>Create a user</title>
          <procedure>
            <step>
              <para>To list all users:</para>
              <screen><prompt>$</prompt> keystone user-list</screen>
              <para>The output shows the ID, name, enabled status, and e-mail address
                                for each user:</para>
              <screen>+----------------------------------+----------+---------+----------------------+
|                id                |   name   | enabled |        email         |
+----------------------------------+----------+---------+----------------------+
| 352b37f5c89144d4ad0534139266d51f |  admin   |   True  |  admin@example.com   |
| 86c0de739bcb4802b8dc786921355813 |   demo   |   True  |   demo@example.com   |
| 32ec34aae8ea432e8af560a1cec0e881 |  glance  |   True  |  glance@example.com  |
| 7047fcb7908e420cb36e13bbd72c972c |   nova   |   True  |   nova@example.com   |
+----------------------------------+----------+---------+----------------------+</screen>
            </step>
            <step>
              <para>To create a user, you must specify a name. Optionally, you can
                                specify a tenant ID, password, and email address. It is recommended
                                that you include the tenant ID and password because the user cannot
                                log in to the dashboard without this information.</para>
              <para>To create the <literal>new-user</literal> user:</para>
              <screen><prompt>$</prompt> keystone user-create --name new-user --tenant_id 1a4a0618b306462c9830f876b0bd6af2 --pass <replaceable>PASSWORD</replaceable></screen>
              <screen>+----------+----------------------------------+
| Property |              Value               |
+----------+----------------------------------+
|  email   |                                  |
| enabled  |               True               |
|    id    | 6e5140962b424cb9814fb172889d3be2 |
|   name   |             new-user             |
| tenantId | 1a4a0618b306462c9830f876b0bd6af2 |
+----------+----------------------------------+</screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_update_user">
          <title>Update a user</title>
          <para>You can update the name, email address, and enabled status for a
                        user.</para>
          <procedure>
            <step>
              <para>To temporarily disable a user account:</para>
              <screen><prompt>$</prompt> keystone user-update <replaceable>USER_ID</replaceable> --enabled false</screen>
              <para>If you disable a user account, the user cannot log in to the
                                dashboard. However, data for the user account is maintained, so you
                                can enable the user at any time.</para>
            </step>
            <step>
              <para>To enable a disabled user account:</para>
              <screen><prompt>$</prompt> keystone user-update <replaceable>USER_ID</replaceable> --enabled true</screen>
            </step>
            <step>
              <para>To change the name and description for a user account:</para>
              <screen><prompt>$</prompt> keystone user-update <replaceable>USER_ID</replaceable> --name user-new --email new-user@example.com</screen>
              <screen>User has been updated.</screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_delete_user">
          <title>Delete a user</title>
          <procedure>
            <step>
              <para>To delete a specified user account:</para>
              <screen><prompt>$</prompt> keystone user-delete <replaceable>USER_ID</replaceable></screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="admin_cli_modify_projects">
          <title>Create and assign a role</title>
          <para>Users can be members of multiple projects. To assign users to multiple
                        projects, define a role and assign that role to a user-project pair.</para>
          <procedure>
            <step>
              <para>To list the available roles:</para>
              <screen><prompt>$</prompt> keystone role-list</screen>
              <screen>+----------------------------------+---------------+
|                id                |      name     |
+----------------------------------+---------------+
| 71ccc37d41c8491c975ae72676db687f |     Member    |
| 149f50a1fe684bfa88dae76a48d26ef7 | ResellerAdmin |
| 9fe2ff9ee4384b1894a90878d3e92bab |    _member_   |
| 6ecf391421604da985db2f141e46a7c8 |     admin     |
| deb4fffd123c4d02a907c2c74559dccf |  anotherrole  |
+----------------------------------+---------------+</screen>
            </step>
            <step>
              <para>To create the <literal>new-role</literal> role:</para>
              <screen><prompt>$</prompt> keystone role-create --name new-role</screen>
              <screen>+----------+----------------------------------+
| Property |              Value               |
+----------+----------------------------------+
|    id    | bef1f95537914b1295da6aa038ef4de6 |
|   name   |             new-role             |
+----------+----------------------------------+</screen>
            </step>
            <step>
              <para>To assign a user to a project, you must assign the role to a
                                user-project pair. To do this, you need the user, role, and project
                                IDs.</para>
              <substeps>
                <step>
                  <para>To list users:</para>
                  <screen><prompt>$</prompt> keystone user-list</screen>
                  <screen>+----------------------------------+----------+---------+----------------------+
|                id                |   name   | enabled |        email         |
+----------------------------------+----------+---------+----------------------+
| 352b37f5c89144d4ad0534139266d51f |  admin   |   True  |  admin@example.com   |
| 981422ec906d4842b2fc2a8658a5b534 | alt_demo |   True  | alt_demo@example.com |
| 036e22a764ae497992f5fb8e9fd79896 |  cinder  |   True  |  cinder@example.com  |
| 86c0de739bcb4802b8dc786921355813 |   demo   |   True  |   demo@example.com   |
| 32ec34aae8ea432e8af560a1cec0e881 |  glance  |   True  |  glance@example.com  |
| 7047fcb7908e420cb36e13bbd72c972c |   nova   |   True  |   nova@example.com   |
+----------------------------------+----------+---------+----------------------+</screen>
                  <para>Note the ID of the user to which you want to assign the
                                        role.</para>
                </step>
                <step>
                  <para>To list role IDs:</para>
                  <screen><prompt>$</prompt> keystone role-list</screen>
                  <screen>+----------------------------------+---------------+
|                id                |      name     |
+----------------------------------+---------------+
| 71ccc37d41c8491c975ae72676db687f |     Member    |
| 149f50a1fe684bfa88dae76a48d26ef7 | ResellerAdmin |
| 9fe2ff9ee4384b1894a90878d3e92bab |    _member_   |
| 6ecf391421604da985db2f141e46a7c8 |     admin     |
| deb4fffd123c4d02a907c2c74559dccf |  anotherrole  |
| bef1f95537914b1295da6aa038ef4de6 |    new-role   |
+----------------------------------+---------------+</screen>
                  <para>Note the ID of the role that you want to assign.</para>
                </step>
                <step>
                  <para>To list projects:</para>
                  <screen><prompt>$</prompt> keystone tenant-list</screen>
                  <screen>+----------------------------------+--------------------+---------+
|                id                |        name        | enabled |
+----------------------------------+--------------------+---------+
| f7ac731cc11f40efbc03a9f9e1d1d21f |       admin        |   True  |
| c150ab41f0d9443f8874e32e725a4cc8 |      alt_demo      |   True  |
| a9debfe41a6d4d09a677da737b907d5e |        demo        |   True  |
| 9208739195a34c628c58c95d157917d7 | invisible_to_admin |   True  |
| caa9b4ce7d5c4225aa25d6ff8b35c31f |      new-user      |   True  |
| 1a4a0618b306462c9830f876b0bd6af2 |    project-new     |   True  |
| 3943a53dc92a49b2827fae94363851e1 |      service       |   True  |
| 80cab5e1f02045abad92a2864cfd76cb |    test_project    |   True  |
+----------------------------------+--------------------+---------+</screen>
                  <para>Note the ID of the project to which you want to assign the
                                        role.</para>
                </step>
              </substeps>
            </step>
            <step>
              <para>Assign a role to a user-project pair. In this example, you assign
                                the <literal>new-role</literal> role to the <literal>demo</literal>
                                and <literal>test-project</literal> pair:</para>
              <screen><prompt>$</prompt> keystone user-role-add --user <replaceable>USER_ID</replaceable> --role <replaceable>ROLE_ID</replaceable> --tenant <replaceable>TENANT_ID</replaceable></screen>
            </step>
            <step>
              <para>To verify the role assignment:</para>
              <screen><prompt>$</prompt> keystone user-role-list --user <replaceable>USER_ID</replaceable> --tenant <replaceable>TENANT_ID</replaceable></screen>
              <screen>+----------------------------------+----------+----------------------------------+----------------------------------+
|                id                |   name   |             user_id              |            tenant_id             |
+----------------------------------+----------+----------------------------------+----------------------------------+
| bef1f95537914b1295da6aa038ef4de6 | new-role | 86c0de739bcb4802b8dc786921355813 | 80cab5e1f02045abad92a2864cfd76cb |
+----------------------------------+----------+----------------------------------+----------------------------------+</screen>
            </step>
            <step>
              <para>To get details for a specified role:</para>
              <screen><prompt>$</prompt> keystone role-get <replaceable>ROLE_ID</replaceable></screen>
              <screen>+----------+----------------------------------+
| Property |              Value               |
+----------+----------------------------------+
|    id    | bef1f95537914b1295da6aa038ef4de6 |
|   name   |             new-role             |
+----------+----------------------------------+</screen>
            </step>
            <step>
              <para>To remove a role from a user-project pair:</para>
              <screen><prompt>$</prompt> keystone user-role-remove --user <replaceable>USER_ID</replaceable> --role <replaceable>ROLE_ID</replaceable> --tenant <replaceable>TENANT_ID</replaceable></screen>
            </step>
            <step>
              <para>To verify the role removal, run the following command:</para>
              <screen><prompt>$</prompt> keystone user-role-list --user <replaceable>USER_ID</replaceable> --tenant <replaceable>TENANT_ID</replaceable></screen>
              <para>If the role was removed, the command output omits the removed
                                role.</para>
            </step>
          </procedure>
        </sect3>
      </sect2>
      <sect2 id="nova_cli_manage_projects_security">
        <?dbhtml stop-chunking?>
        <title>Manage project security</title>
        <para>Security groups are sets of IP filter rules that are applied to all project
                    instances, which define networking access to the instance. Group rules are
                    project specific; project members can edit the default rules for their group and
                    add new rule sets.</para>
        <para>All projects have a "default" security group which is applied to any instance
                    that has no other defined security group. Unless you change the default, this
                    security group denies all incoming traffic and allows only outgoing traffic to
                    your instance.</para>
        <note>
          <para>For information about updating rules using the dashboard, see <xref linkend="dashboard_manage_projects_security"/>.</para>
        </note>
        <para>You can use the <literal>allow_same_net_traffic</literal> option in the
                        <filename>/etc/nova/nova.conf</filename> file to globally control whether
                    the rules apply to hosts which share a network.</para>
        <para>If set to:</para>
        <itemizedlist>
          <listitem>
            <para><literal>True</literal> (default), hosts on the same subnet are not filtered
                            and are allowed to pass all types of traffic between them. On a flat
                            network, this allows all instances from all projects unfiltered
                            communication. With VLAN networking, this allows access between
                            instances within the same project. You can also simulate this setting by
                            configuring the default security group to allow all traffic from the
                            subnet.</para>
          </listitem>
          <listitem>
            <para><literal>False</literal>, security groups are enforced for all
                            connections.</para>
          </listitem>
        </itemizedlist>
        <para>Additionally, the number of maximum rules per security group is controlled by
                    the <literal>security_group_rules</literal> and the number of allowed security groups
                    per project is controlled by the <literal>security_groups</literal> quota (see <xref linkend="cli_set_quotas"/>).</para>
        <procedure>
          <title>List and view current security groups</title>
          <para>From the command line you can get a list of security groups for the
                        project, using the nova command:</para>
          <step>
            <para>Ensure your system variables are set for the user and tenant for which
                            you are checking security group rules for. For example:</para>
            <screen remap="programlisting" language="bash">export OS_USERNAME=demo00
export OS_TENANT_NAME=tenant01</screen>
          </step>
          <step>
            <para>Output security groups, as follows:</para>
            <screen><prompt>$</prompt> nova secgroup-list
+---------+-------------+
| Name    | Description |
+---------+-------------+
| default | default     |
| open    | all ports   |
+---------+-------------+</screen>
          </step>
          <step>
            <para>View the details of a group, as follows:</para>
            <screen><prompt>$</prompt> nova secgroup-list-rules <replaceable>groupName</replaceable></screen>
            <para>For example:</para>
            <screen><prompt>$</prompt> nova secgroup-list-rules open
+-------------+-----------+---------+-----------+--------------+
 | IP Protocol | From Port | To Port | IP Range  | Source Group |
 +-------------+-----------+---------+-----------+--------------+
 | icmp        | -1        | 255     | 0.0.0.0/0 |              |
 | tcp         | 1         | 65535   | 0.0.0.0/0 |              |
 | udp         | 1         | 65535   | 0.0.0.0/0 |              |
 +-------------+-----------+---------+-----------+--------------+ </screen>
            <para>These rules are allow type rules as the default is deny. The first
                            column is the IP protocol (one of icmp, tcp, or udp). The second and
                            third columns specify the affected port range. The third column
                            specifies the IP range in CIDR format. This example shows the full port
                            range for all protocols allowed from all IPs.</para>
          </step>
        </procedure>
        <procedure>
          <title>Create a security group</title>
          <para>When adding a new security group, you should pick a descriptive but brief
                        name. This name shows up in brief descriptions of the instances that use it
                        where the longer description field often does not. For example, seeing that
                        an instance is using security group "http" is much easier to understand than
                        "bobs_group" or "secgrp1".</para>
          <step>
            <para>Ensure your system variables are set for the user and tenant for which
                            you are checking security group rules for.</para>
          </step>
          <step>
            <para>Add the new security group, as follows:</para>
            <para>
              <screen><prompt>$</prompt> nova secgroup-create <replaceable>Group Name Description</replaceable></screen>
            </para>
            <para>For example:</para>
            <para>
              <screen><prompt>$</prompt> nova secgroup-create global_http "Allows Web traffic anywhere on the Internet."
+--------------------------------------+-------------+----------------------------------------------+
| Id                                   | Name        | Description                                  |
+--------------------------------------+-------------+----------------------------------------------+
| 1578a08c-5139-4f3e-9012-86bd9dd9f23b | global_http | Allows Web traffic anywhere on the Internet. |
+--------------------------------------+-------------+----------------------------------------------+</screen>
            </para>
          </step>
          <step>
            <para>Add a new group rule, as follows:</para>
            <para>
              <screen><prompt>$</prompt> nova secgroup-add-rule <replaceable>secGroupName ip-protocol from-port to-port CIDR</replaceable></screen>
            </para>
            <para>The arguments are positional, and the "from-port" and "to-port"
                            arguments specify the local port range connections are allowed to
                            access, not the source and destination ports of the connection. For
                            example:</para>
            <para>
              <screen><prompt>$</prompt> nova secgroup-add-rule global_http tcp 80 80 0.0.0.0/0
+-------------+-----------+---------+-----------+--------------+
| IP Protocol | From Port | To Port | IP Range  | Source Group |
+-------------+-----------+---------+-----------+--------------+
| tcp         | 80        | 80      | 0.0.0.0/0 |              |
+-------------+-----------+---------+-----------+--------------+</screen>
            </para>
            <para>You can create complex rule sets by creating additional rules. For
                            example, if you want to pass both HTTP and HTTPS traffic, run:</para>
            <screen><prompt>$</prompt> nova secgroup-add-rule global_http tcp 443 443 0.0.0.0/0
+-------------+-----------+---------+-----------+--------------+
| IP Protocol | From Port | To Port | IP Range  | Source Group |
+-------------+-----------+---------+-----------+--------------+
| tcp         | 443       | 443     | 0.0.0.0/0 |              |
+-------------+-----------+---------+-----------+--------------+</screen>
            <para>Despite only outputting the newly added rule, this operation is
                            additive (both rules are created and enforced).</para>
          </step>
          <step>
            <para>View all rules for the new security group, as follows:</para>
            <screen><prompt>$</prompt> nova secgroup-list-rules global_http
+-------------+-----------+---------+-----------+--------------+
| IP Protocol | From Port | To Port | IP Range  | Source Group |
+-------------+-----------+---------+-----------+--------------+
| tcp         | 80        | 80      | 0.0.0.0/0 |              |
| tcp         | 443       | 443     | 0.0.0.0/0 |              |
+-------------+-----------+---------+-----------+--------------+</screen>
          </step>
        </procedure>
        <procedure>
          <title>Delete a security group</title>
          <step>
            <para>Ensure your system variables are set for the user and tenant for which
                            you are deleting a security group for.</para>
          </step>
          <step>
            <para>Delete the new security group, as follows:</para>
            <screen><prompt>$</prompt> nova secgroup-delete <replaceable>GroupName</replaceable></screen>
            <para>For example:</para>
            <screen><prompt>$</prompt> nova secgroup-delete global_http</screen>
          </step>
        </procedure>
        <procedure>
          <title>Create security group rules for a cluster of instances</title>
          <para>Source Groups are a special, dynamic way of defining the CIDR of allowed
                        sources. The user specifies a Source Group (Security Group name), and all
                        the users' other Instances using the specified Source Group are selected
                        dynamically. This alleviates the need for individual rules to allow each new
                        member of the cluster.</para>
          <step>
            <para>Make sure to set the system variables for the user and tenant for
                            which you are deleting a security group for.</para>
          </step>
          <step>
            <para>Add a source group, as follows:</para>
            <screen><prompt>$</prompt> nova secgroup-add-group-rule <replaceable>secGroupName source-group ip-protocol from-port to-port</replaceable></screen>
            <para>For example:</para>
            <screen><prompt>$</prompt> nova secgroup-add-group-rule cluster global_http tcp 22 22</screen>
            <para>The <literal>cluster</literal> rule allows ssh access from any other
                            instance that uses the <literal>global_http</literal> group.</para>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="section_cli_manage_services">
      <?dbhtml stop-chunking?>
      <title>Manage services</title>
      <sect2 id="adding-users-tenants-and-roles-with-python-keystoneclient">
        <?dbhtml stop-chunking?>
        <title>Create and manage services and service users</title>
        <para>The Identity Service enables you to define services, as follows:</para>
        <itemizedlist>
          <listitem>
            <para>Service catalog template. The Identity Service acts as a service
                            catalog of endpoints for other OpenStack services. The
                                <literal>etc/default_catalog.templates</literal> template file
                            defines the endpoints for services. When the Identity Service uses a
                            template file back end, any changes that are made to the endpoints are
                            cached. These changes do not persist when you restart the service or
                            reboot the machine.</para>
          </listitem>
          <listitem>
            <para>A SQL back end for the catalog service. When the Identity Service is
                            online, you must add the services to the catalog. When you deploy a
                            system for production, use the SQL back end.</para>
          </listitem>
        </itemizedlist>
        <para>The <literal>auth_token</literal> middleware supports the use of either a
                    shared secret or users for each service.</para>
        <para>To authenticate users against the Identity Service, you must create a service
                    user for each OpenStack service. For example, create a service user for the
                    Compute, Block Storage, and Networking services.</para>
        <para>To configure the OpenStack services with service users, create a project for
                    all services and create users for each service. Assign the admin role to each
                    service user and project pair. This role enables users to validate tokens and
                    authenticate and authorize other user requests.</para>
        <sect3 id="cli_service-create">
          <title>Create a service</title>
          <procedure>
            <step>
              <para>List the available services:</para>
              <screen><prompt>$</prompt> keystone service-list</screen>
              <screen>+----------------------------------+----------+----------+---------------------------+
|                id                |   name   |   type   |        description        |
+----------------------------------+----------+----------+---------------------------+
| 9816f1faaa7c4842b90fb4821cd09223 |  cinder  |  volume  |   Cinder Volume Service   |
| da8cf9f8546b4a428c43d5e032fe4afc |   ec2    |   ec2    |  EC2 Compatibility Layer  |
| 5f105eeb55924b7290c8675ad7e294ae |  glance  |  image   |    Glance Image Service   |
| dcaa566e912e4c0e900dc86804e3dde0 | keystone | identity | Keystone Identity Service |
| 4a715cfbc3664e9ebf388534ff2be76a |   nova   | compute  |    Nova Compute Service   |
| 6feb2e0b98874d88bee221974770e372 |    s3    |    s3    |             S3            |
+----------------------------------+----------+----------+---------------------------+</screen>
            </step>
            <step>
              <para>To create a service, run this command:</para>
              <screen><prompt>$</prompt> keystone service-create --name <replaceable>service_name</replaceable> --type <replaceable>service_type</replaceable> --description <replaceable>service_description</replaceable></screen>
              <para>The arguments are:</para>
              <itemizedlist>
                <listitem>
                  <para><literal><replaceable>service_name</replaceable></literal>. The unique name of the new service.</para>
                </listitem>
                <listitem>
                  <para><literal><replaceable>service_type</replaceable></literal>. The service type, such as <literal>identity</literal>,
                                            <literal>compute</literal>, <literal>network</literal>,
                                            <literal>image</literal>, <literal>object-store</literal> or any
                                        other service identifier string.</para>
                </listitem>
                <listitem>
                  <para><literal><replaceable>service_description</replaceable></literal>. The description of the service.</para>
                </listitem>
              </itemizedlist>
              <para>For example, to create a <literal>swift</literal> service of type
                                    <literal>object-store</literal>, run this command:</para>
              <screen><prompt>$</prompt> keystone service-create --name swift --type object-store --description "object store service"</screen>
              <screen>+-------------+----------------------------------+
|   Property  |              Value               |
+-------------+----------------------------------+
| description |       object store service       |
|   enabled   |               True               |
|      id     | 84c23f4b942c44c38b9c42c5e517cd9a |
|     name    |              swift               |
|     type    |           object-store           |
+-------------+----------------------------------+</screen>
            </step>
            <step>
              <para>To get details for a service, run this command:</para>
              <screen><prompt>$</prompt> keystone service-get <replaceable>service_ID</replaceable></screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> keystone service-get 84c23f4b942c44c38b9c42c5e517cd9a</screen>
              <screen>+-------------+----------------------------------+
|   Property  |              Value               |
+-------------+----------------------------------+
| description |       object store service       |
|   enabled   |               True               |
|      id     | 84c23f4b942c44c38b9c42c5e517cd9a |
|     name    |              swift               |
|     type    |           object-store           |
+-------------+----------------------------------+</screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_create_service_users">
          <title>Create service users</title>
          <procedure>
            <step>
              <para>Create a project for the service users. Typically, this project is
                                named <literal>service</literal>, but choose any name you
                                like:</para>
              <screen><prompt>$</prompt> keystone tenant-create --name service</screen>
              <para>The output shows the ID for the project.</para>
              <para>Make a note of this ID. You need it to create service users and
                                assign roles.</para>
              <screen>+-------------+----------------------------------+
|   Property  |              Value               |
+-------------+----------------------------------+
| description |                                  |
|   enabled   |               True               |
|      id     | 3e9f3f5399624b2db548d7f871bd5322 |
|     name    |              service             |
+-------------+----------------------------------+</screen>
            </step>
            <step>
              <para>Create service users for the relevant services for your
                                deployment.</para>
            </step>
            <step>
              <para>To assign the admin role to the service user-project pairs, run
                                this command to get the ID of the admin role:</para>
              <screen><prompt>$</prompt> keystone role-list</screen>
              <screen>+----------------------------------+---------------+
|                id                |      name     |
+----------------------------------+---------------+
| 71ccc37d41c8491c975ae72676db687f |     Member    |
| 149f50a1fe684bfa88dae76a48d26ef7 | ResellerAdmin |
| 9fe2ff9ee4384b1894a90878d3e92bab |    _member_   |
| 6ecf391421604da985db2f141e46a7c8 |     admin     |
| deb4fffd123c4d02a907c2c74559dccf |  anotherrole  |
| bef1f95537914b1295da6aa038ef4de6 |    new-role   |
+----------------------------------+---------------+</screen>
            </step>
            <step>
              <para>Assign the admin role to the user-project pair:</para>
              <screen><prompt>$</prompt> keystone user-role-add --user <replaceable>SERVICE_USER_ID</replaceable> --role <replaceable>ADMIN_ROLE_ID</replaceable> --tenant <replaceable>SERVICE_PROJECT_ID</replaceable></screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_delete_service">
          <title>Delete a service</title>
          <para>To delete a specified service, specify its ID:</para>
          <screen><prompt>$</prompt> keystone service-delete <replaceable>SERVICE_ID</replaceable></screen>
        </sect3>
      </sect2>
      <?hard-pagebreak?>
      <sect2 id="nova-manage-services">
        <title>Manage Compute services</title>
        <para>You can enable and disable Compute services. The following examples disable
                    and enable the <systemitem class="service">nova-compute</systemitem>
                    service.</para>
        <procedure>
          <step>
            <para>List the Compute services:</para>
            <screen><prompt>$</prompt> nova service-list
+------------------+----------+----------+---------+-------+----------------------------+-----------------+
| Binary           | Host     | Zone     | Status  | State | Updated_at                 | Disabled Reason |
+------------------+----------+----------+---------+-------+----------------------------+-----------------+
| nova-conductor   | devstack | internal | enabled | up    | 2013-10-16T00:56:08.000000 | None            |
| nova-cert        | devstack | internal | enabled | up    | 2013-10-16T00:56:09.000000 | None            |
| nova-compute     | devstack | nova     | enabled | up    | 2013-10-16T00:56:07.000000 | None            |
| nova-network     | devstack | internal | enabled | up    | 2013-10-16T00:56:06.000000 | None            |
| nova-scheduler   | devstack | internal | enabled | up    | 2013-10-16T00:56:04.000000 | None            |
| nova-consoleauth | devstack | internal | enabled | up    | 2013-10-16T00:56:07.000000 | None            |
+------------------+----------+----------+---------+-------+----------------------------+-----------------+</screen>
          </step>
          <step>
            <para>Disable a nova service:</para>
            <screen><prompt>$</prompt> nova service-disable localhost.localdomain nova-compute --reason 'trial log'
+----------+--------------+----------+-------------------+
| Host     | Binary       | Status   | Disabled Reason   |
+----------+--------------+----------+-------------------+
| devstack | nova-compute | disabled | Trial log         |
+----------+--------------+----------+-------------------+</screen>
          </step>
          <step>
            <para>Check the service list:</para>
            <screen><prompt>$</prompt> nova service-list
+------------------+----------+----------+---------+-------+----------------------------+------------------+
| Binary           | Host     | Zone     | Status   | State | Updated_at                 | Disabled Reason |
+------------------+----------+----------+---------+-------+----------------------------+------------------+
| nova-conductor   | devstack | internal | enabled  | up    | 2013-10-16T00:56:48.000000 | None            |
| nova-cert        | devstack | internal | enabled  | up    | 2013-10-16T00:56:49.000000 | None            |
| nova-compute     | devstack | nova     | disabled | up    | 2013-10-16T00:56:47.000000 | Trial log       |
| nova-network     | devstack | internal | enabled  | up    | 2013-10-16T00:56:51.000000 | None            |
| nova-scheduler   | devstack | internal | enabled  | up    | 2013-10-16T00:56:44.000000 | None            |
| nova-consoleauth | devstack | internal | enabled  | up    | 2013-10-16T00:56:47.000000 | None            |
+------------------+----------+----------+---------+-------+----------------------------+-----------------+</screen>
          </step>
          <step>
            <para>Enable the service:</para>
            <screen><prompt>$</prompt> nova service-enable localhost.localdomain nova-compute
+----------+--------------+---------+
| Host     | Binary       | Status  |
+----------+--------------+---------+
| devstack | nova-compute | enabled |
+----------+--------------+---------+</screen>
          </step>
          <step>
            <para>Check the service list:</para>
            <screen><prompt>$</prompt> nova service-list
+------------------+----------+----------+---------+-------+----------------------------+-----------------+
| Binary           | Host     | Zone     | Status  | State | Updated_at                 | Disabled Reason |
+------------------+----------+----------+---------+-------+----------------------------+-----------------+
| nova-conductor   | devstack | internal | enabled | up    | 2013-10-16T00:57:08.000000 | None            |
| nova-cert        | devstack | internal | enabled | up    | 2013-10-16T00:57:09.000000 | None            |
| nova-compute     | devstack | nova     | enabled | up    | 2013-10-16T00:57:07.000000 | None            |
| nova-network     | devstack | internal | enabled | up    | 2013-10-16T00:57:11.000000 | None            |
| nova-scheduler   | devstack | internal | enabled | up    | 2013-10-16T00:57:14.000000 | None            |
| nova-consoleauth | devstack | internal | enabled | up    | 2013-10-16T00:57:07.000000 | None            |
+------------------+----------+----------+---------+-------+----------------------------+-----------------+</screen>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="cli_manage_images" xml:base="../common/section_cli_glance_manage_images.xml">
      <?dbhtml stop-chunking?>
      <title>Manage images</title>
      <para>The cloud operator assigns roles to users. Roles determine who can upload and
                manage images. The operator might restrict image upload and management to only cloud
                administrators or operators.</para>
      <para>You can upload images through the <command>glance</command> client or the Image
                Service API. You can also use the <command>nova</command> client to list images, set
                and delete image metadata, delete images, and take a snapshot of a running instance
                to create an image. After you upload an image, you cannot change it.</para>
      <para>For details about image creation, see the <ulink url="http://docs.openstack.org/image-guide/content/"><citetitle>Virtual Machine Image Guide</citetitle></ulink>.</para>
      <sect2 id="glance-image-list">
        <title>List or get details for images (glance)</title>
        <para>To get a list of images and to then get further details about a single image,
                    use <command>glance image-list</command> and
                    <command>glance
                        image-show</command>.</para>
        <screen><prompt>$</prompt> glance image-list
+--------------------------------------+---------------------------------+-------------+------------------+----------+--------+
| ID                                   | Name                            | Disk Format | Container Format | Size     | Status |
+--------------------------------------+---------------------------------+-------------+------------------+----------+--------+
| 397e713c-b95b-4186-ad46-6126863ea0a9 | cirros-0.3.2-x86_64-uec         | ami         | ami              | 25165824 | active |
| df430cc2-3406-4061-b635-a51c16e488ac | cirros-0.3.2-x86_64-uec-kernel  | aki         | aki              | 4955792  | active |
| 3cf852bd-2332-48f4-9ae4-7d926d50945e | cirros-0.3.2-x86_64-uec-ramdisk | ari         | ari              | 3714968  | active |
| 7e5142af-1253-4634-bcc6-89482c5f2e8a | myCirrosImage                   | ami         | ami              | 14221312 | active |
+--------------------------------------+---------------------------------+-------------+------------------+----------+--------+</screen>
        <screen><prompt>$</prompt> glance image-show myCirrosImage
<?db-font-size 45%?>
+---------------------------------------+--------------------------------------+
| Property                              | Value                                |
+---------------------------------------+--------------------------------------+
| Property 'base_image_ref'             | 397e713c-b95b-4186-ad46-6126863ea0a9 |
| Property 'image_location'             | snapshot                             |
| Property 'image_state'                | available                            |
| Property 'image_type'                 | snapshot                             |
| Property 'instance_type_ephemeral_gb' | 0                                    |
| Property 'instance_type_flavorid'     | 2                                    |
| Property 'instance_type_id'           | 5                                    |
| Property 'instance_type_memory_mb'    | 2048                                 |
| Property 'instance_type_name'         | m1.small                             |
| Property 'instance_type_root_gb'      | 20                                   |
| Property 'instance_type_rxtx_factor'  | 1                                    |
| Property 'instance_type_swap'         | 0                                    |
| Property 'instance_type_vcpu_weight'  | None                                 |
| Property 'instance_type_vcpus'        | 1                                    |
| Property 'instance_uuid'              | 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 |
| Property 'kernel_id'                  | df430cc2-3406-4061-b635-a51c16e488ac |
| Property 'owner_id'                   | 66265572db174a7aa66eba661f58eb9e     |
| Property 'ramdisk_id'                 | 3cf852bd-2332-48f4-9ae4-7d926d50945e |
| Property 'user_id'                    | 376744b5910b4b4da7d8e6cb483b06a8     |
| checksum                              | 8e4838effa1969ad591655d6485c7ba8     |
| container_format                      | ami                                  |
| created_at                            | 2013-07-22T19:45:58                  |
| deleted                               | False                                |
| disk_format                           | ami                                  |
| id                                    | 7e5142af-1253-4634-bcc6-89482c5f2e8a |
| is_public                             | False                                |
| min_disk                              | 0                                    |
| min_ram                               | 0                                    |
| name                                  | myCirrosImage                        |
| owner                                 | 66265572db174a7aa66eba661f58eb9e     |
| protected                             | False                                |
| size                                  | 14221312                             |
| status                                | active                               |
| updated_at                            | 2013-07-22T19:46:42                  |
+---------------------------------------+--------------------------------------+</screen>
        <para>When viewing a list of images, you can also use <command>grep</command> to
                    filter the list, as follows:</para>
        <screen><prompt>$</prompt> glance image-list | grep 'cirros'
| 397e713c-b95b-4186-ad46-6126863ea0a9 | cirros-0.3.2-x86_64-uec         | ami         | ami              | 25165824 | active |
| df430cc2-3406-4061-b635-a51c16e488ac | cirros-0.3.2-x86_64-uec-kernel  | aki         | aki              | 4955792  | active |
| 3cf852bd-2332-48f4-9ae4-7d926d50945e | cirros-0.3.2-x86_64-uec-ramdisk | ari         | ari              | 3714968  | active |</screen>
        <note>
          <para>To store location metadata for images, which enables direct file access
                        for a client, update the <filename>/etc/glance/glance.conf</filename> file
                        with the following statements:</para>
          <para>
            <itemizedlist>
              <listitem>
                <para>
                  <literal>show_multiple_locations = True</literal>
                </para>
              </listitem>
              <listitem>
                <para><literal>filesystem_store_metadata_file =
                                            <replaceable>filePath</replaceable></literal>, where
                                        <replaceable>filePath</replaceable> points to a JSON file
                                    that defines the mount point for OpenStack images on your system
                                    and a unique ID. For example:
                                    <screen remap="programlisting" language="json">[{
    "id": "2d9bb53f-70ea-4066-a68b-67960eaae673",
    "mountpoint": "/var/lib/glance/images/"
}]</screen></para>
              </listitem>
            </itemizedlist>
          </para>
          <para>After you restart the Image Service, you can use the following syntax to
                        view the image's location information:</para>
          <screen><prompt>$</prompt> glance --os-image-api-version 2 image-show <replaceable>imageID</replaceable></screen>
          <para>For example, using the image ID shown above, you would issue the command
                        as follows:</para>
          <screen><prompt>$</prompt> glance --os-image-api-version 2 image-show 2d9bb53f-70ea-4066-a68b-67960eaae673</screen>
        </note>
      </sect2>
      <sect2 id="glance_add_image">
        <title>Create or update an image (glance)</title>
        <para>To create an image, use <command>glance image-create</command>:</para>
        <screen><prompt>$</prompt> glance image-create <replaceable>imageName</replaceable></screen>
        <para>To update an image by name or ID, use
                    <command>glance image-update</command>:</para>
        <para>
          <screen><prompt>$</prompt> glance image-update <replaceable>imageName</replaceable></screen>
        </para>
        <para>The following table lists the optional arguments that you can use with the
                    <command>create</command> and <command>update</command> commands to modify image
                    properties. For more information, refer to Image Service chapter in the <ulink url="http://docs.openstack.org/cli-reference/content/index.html">OpenStack Command-Line Interface Reference</ulink>.</para>
        <informaltable>
          <tgroup cols="2">
            <colspec colwidth="40%"/>
            <colspec colwidth="60%"/>
            <tbody>
              <row>
                <entry>
                  <para>
                    <parameter>--name NAME</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The name of the image.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--disk-format DISK_FORMAT</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The disk format of the image. Acceptable formats are ami, ari,
                                aki, vhd, vmdk, raw, qcow2, vdi, and iso.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--container-format CONTAINER_FORMAT</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The container format of the image. Acceptable formats are ami,
                                ari, aki, bare, and ovf.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--owner TENANT_ID</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The tenant who should own the image.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--size SIZE</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The size of image data, in bytes.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--min-disk DISK_GB</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The minimum size of the disk needed to boot the image, in
                                gigabytes.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--min-ram DISK_RAM</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The minimum amount of RAM needed to boot the image, in
                                megabytes.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--location IMAGE_URL</parameter>
                  </para>
                </entry>
                <entry>
                  <para>The URL where the data for this image resides. For example, if the
                                image data is stored in swift, you could specify
                                    <literal>swift://account:key@example.com/container/obj</literal>.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--file FILE</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Local file that contains the disk image to be uploaded during the
                                update. Alternatively, you can pass images to the client through
                                stdin.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--checksum CHECKSUM</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Hash of image data to use for verification.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--copy-from IMAGE_URL</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Similar to <parameter>--location</parameter> in usage, but
                                indicates that the image server should immediately copy the data and
                                store it in its configured image store.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--is-public [True|False]</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Makes an image accessible for all the tenants (admin-only by
                                default).</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--is-protected [True|False]</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Prevents an image from being deleted.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--property KEY=VALUE</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Arbitrary property to associate with image. This option can be
                                used multiple times.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--purge-props</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Deletes all image properties that are not explicitly set in the
                                update request. Otherwise, those properties not referenced are
                                preserved.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <parameter>--human-readable</parameter>
                  </para>
                </entry>
                <entry>
                  <para>Prints the image size in a human-friendly format.</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
        <para>The following example shows the command that you would use to upload a CentOS
                    6.3 image in qcow2 format and configure it for public access:</para>
        <screen><prompt>$</prompt> glance image-create --name centos63-image --disk-format qcow2 \
  --container-format bare --is-public True --file ./centos63.qcow2</screen>
        <para>The following example shows how to update an existing image with a properties
                    that describe the disk bus, the CD-ROM bus, and the VIF model:</para>
        <screen><prompt>$</prompt> glance image-update \
    --property hw_disk_bus=scsi \
    --property hw_cdrom_bus=ide \
    --property hw_vif_model=e1000 \
    f16-x86_64-openstack-sda</screen>
        <para>Currently the libvirt virtualization tool determines the disk, CD-ROM, and VIF
                    device models based on the configured hypervisor type
                        (<literal>libvirt_type</literal> in
                    <filename>/etc/nova/nova.conf</filename>). For the sake of optimal performance,
                    libvirt defaults to using virtio for both disk and VIF (NIC) models. The
                    disadvantage of this approach is that it is not possible to run operating
                    systems that lack virtio drivers, for example, BSD, Solaris, and older versions
                    of Linux and Windows.</para>
        <para>If you specify a disk or CD-ROM bus model that is not supported, see <xref linkend="bus_models"/>. If you specify a VIF model that is not supported,
                    the instance fails to launch. See <xref linkend="vif_models"/>.</para>
        <?hard-pagebreak?>
        <para>The valid model values depend on the <literal>libvirt_type</literal> setting,
                    as shown in the following tables.</para>
        <table id="bus_models" rules="all" width="50%">
          <title>Disk and CD-ROM bus model values</title>
          <tgroup cols="2">
            <colspec colwidth="40%"/>
            <colspec colwidth="60%"/>
            <thead>
              <row>
                <entry>libvirt_type setting</entry>
                <entry>Supported model values</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>qemu or kvm</entry>
                <entry>
                  <para>
                    <itemizedlist>
                      <listitem>
                        <para>ide</para>
                      </listitem>
                      <listitem>
                        <para>scsi</para>
                      </listitem>
                      <listitem>
                        <para>virtio</para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </entry>
              </row>
              <row>
                <entry>xen</entry>
                <entry>
                  <itemizedlist>
                    <listitem>
                      <para>ide</para>
                    </listitem>
                    <listitem>
                      <para>xen</para>
                    </listitem>
                  </itemizedlist>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <table id="vif_models" rules="all" width="50%">
          <title>VIF model values</title>
          <tgroup cols="2">
            <colspec colwidth="40%"/>
            <colspec colwidth="60%"/>
            <thead>
              <row>
                <entry>libvirt_type setting</entry>
                <entry>Supported model values</entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>qemu or kvm</entry>
                <entry>
                  <para>
                    <itemizedlist>
                      <listitem>
                        <para>e1000</para>
                      </listitem>
                      <listitem>
                        <para>ne2k_pci</para>
                      </listitem>
                      <listitem>
                        <para>pcnet</para>
                      </listitem>
                      <listitem>
                        <para>rtl8139</para>
                      </listitem>
                      <listitem>
                        <para>virtio</para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </entry>
              </row>
              <row>
                <entry>xen</entry>
                <entry>
                  <itemizedlist>
                    <listitem>
                      <para>e1000</para>
                    </listitem>
                    <listitem>
                      <para>netfront</para>
                    </listitem>
                    <listitem>
                      <para>ne2k_pci</para>
                    </listitem>
                    <listitem>
                      <para>pcnet</para>
                    </listitem>
                    <listitem>
                      <para>rtl8139</para>
                    </listitem>
                  </itemizedlist>
                </entry>
              </row>
              <row>
                <entry>vmware</entry>
                <entry>
                  <para>
                    <itemizedlist>
                      <listitem>
                        <para>VirtualE1000</para>
                      </listitem>
                      <listitem>
                        <para>VirtualPCNet32</para>
                      </listitem>
                      <listitem>
                        <para>VirtualVmxnet</para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </sect2>
      <sect2 id="nova_manage_images">
        <title>Create an image (nova)</title>
        <para>You can use the <command>nova</command> client to take a snapshot of a running
                    instance to create an image.</para>
        <para>To minimize the potential for data loss and ensure that you create an accurate
                    image, you should shut down the instance before you take a snapshot.</para>
        <procedure>
          <step>
            <para>Write any buffered data to disk.</para>
            <para>For more information, see <ulink url="http://docs.openstack.org/openstack-ops/content/snapshots.html">Taking Snapshots</ulink> in the <citetitle>OpenStack Operations
                                Guide</citetitle>.</para>
          </step>
          <step>
            <para>List instances to get the server name:</para>
            <screen><prompt>$</prompt> nova list
<?db-font-size 50%?>+--------------------------------------+----------------------+--------+------------+-------------+------------------+
| ID                                   | Name                 | Status | Task State | Power State | Networks         |
+--------------------------------------+----------------------+--------+------------+-------------+------------------+
| 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 | myCirrosServer       | ACTIVE | None       | Running     | private=10.0.0.3 |
+--------------------------------------+----------------------+--------+------------+-------------+------------------+</screen>
            <para>In this example, the instance is named
                                <literal>myCirrosServer</literal>.</para>
          </step>
          <step>
            <para>Use this instance to create a snapshot:</para>
            <screen><prompt>$</prompt> nova image-create myCirrosServer myCirrosImage</screen>
            <para>The command creates a snapshot and automatically uploads the image to
                            your repository.</para>
            <note>
              <para>For snapshots that you create from an instance that was booted
                                from a volume:</para>
              <itemizedlist>
                <listitem>
                  <para>The snapshot is based on the volume that is attached to
                                        the instance through the Block Storage service.</para>
                </listitem>
                <listitem>
                  <para>No data is uploaded to the Image Service.</para>
                </listitem>
                <listitem>
                  <para>You can find information about the snapshot in the
                                        properties of the image.</para>
                </listitem>
              </itemizedlist>
            </note>
          </step>
          <step>
            <para>Get details for your image to check its status:</para>
            <screen><prompt>$</prompt> nova image-show myCirrosImage
<?db-font-size 50%?>+-------------------------------------+--------------------------------------+
| Property                            | Value                                |
+-------------------------------------+--------------------------------------+
| metadata owner_id                   | 66265572db174a7aa66eba661f58eb9e     |
| minDisk                             | 0                                    |
| metadata instance_type_name         | m1.small                             |
| metadata instance_type_id           | 5                                    |
| metadata instance_type_memory_mb    | 2048                                 |
| id                                  | 7e5142af-1253-4634-bcc6-89482c5f2e8a |
| metadata instance_type_root_gb      | 20                                   |
| metadata instance_type_rxtx_factor  | 1                                    |
| metadata ramdisk_id                 | 3cf852bd-2332-48f4-9ae4-7d926d50945e |
| metadata image_state                | available                            |
| metadata image_location             | snapshot                             |
| minRam                              | 0                                    |
| metadata instance_type_vcpus        | 1                                    |
| status                              | ACTIVE                               |
| updated                             | 2013-07-22T19:46:42Z                 |
| metadata instance_type_swap         | 0                                    |
| metadata instance_type_vcpu_weight  | None                                 |
| metadata base_image_ref             | 397e713c-b95b-4186-ad46-6126863ea0a9 |
| progress                            | 100                                  |
| metadata instance_type_flavorid     | 2                                    |
| OS-EXT-IMG-SIZE:size                | 14221312                             |
| metadata image_type                 | snapshot                             |
| metadata user_id                    | 376744b5910b4b4da7d8e6cb483b06a8     |
| name                                | myCirrosImage                        |
| created                             | 2013-07-22T19:45:58Z                 |
| metadata instance_uuid              | 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 |
| server                              | 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 |
| metadata kernel_id                  | df430cc2-3406-4061-b635-a51c16e488ac |
| metadata instance_type_ephemeral_gb | 0                                    |
+-------------------------------------+--------------------------------------+</screen>
            <para>The image status changes from <literal>SAVING</literal> to
                                <literal>ACTIVE</literal>. Only the tenant who creates the image has
                            access to it.</para>
          </step>
        </procedure>
        <para>To launch an instance from your image, include the image ID and flavor ID, as
                    in the following example:</para>
        <screen><prompt>$</prompt> nova boot newServer --image 7e5142af-1253-4634-bcc6-89482c5f2e8a \
   --flavor 3
<?db-font-size 50%?>+-------------------------------------+--------------------------------------+
| Property                            | Value                                |
+-------------------------------------+--------------------------------------+
| OS-EXT-STS:task_state               | scheduling                           |
| image                               | myCirrosImage                        |
| OS-EXT-STS:vm_state                 | building                             |
| OS-EXT-SRV-ATTR:instance_name       | instance-00000007                    |
| flavor                              | m1.medium                            |
| id                                  | d7efd3e4-d375-46d1-9d57-372b6e4bdb7f |
| security_groups                     | [{u'name': u'default'}]              |
| user_id                             | 376744b5910b4b4da7d8e6cb483b06a8     |
| OS-DCF:diskConfig                   | MANUAL                               |
| accessIPv4                          |                                      |
| accessIPv6                          |                                      |
| progress                            | 0                                    |
| OS-EXT-STS:power_state              | 0                                    |
| OS-EXT-AZ:availability_zone         | nova                                 |
| config_drive                        |                                      |
| status                              | BUILD                                |
| updated                             | 2013-07-22T19:58:33Z                 |
| hostId                              |                                      |
| OS-EXT-SRV-ATTR:host                | None                                 |
| key_name                            | None                                 |
| OS-EXT-SRV-ATTR:hypervisor_hostname | None                                 |
| name                                | newServer                            |
| adminPass                           | jis88nN46RGP                         |
| tenant_id                           | 66265572db174a7aa66eba661f58eb9e     |
| created                             | 2013-07-22T19:58:33Z                 |
| metadata                            | {}                                   |
+-------------------------------------+--------------------------------------+</screen>
      </sect2>
      <sect2 id="troubleshoot">
        <title>Troubleshoot image creation</title>
        <para>If you encounter problems in creating an image in Image Service or Compute,
                    the following information may help you troubleshoot the creation process.</para>
        <itemizedlist>
          <listitem>
            <para>Ensure that the version of qemu you are using is version 0.14 or
                            later. Earlier versions of qemu result in an <literal>unknown option
                                -s</literal> error message in the
                                <filename>nova-compute.log</filename> file.</para>
          </listitem>
          <listitem>
            <para>Examine the <filename>/var/log/nova-api.log</filename> and
                                <filename>/var/log/nova-compute.log</filename> log files for error
                            messages.</para>
          </listitem>
        </itemizedlist>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="cli_manage_volumes" xml:base="../common/section_cli_cinder_manage_volumes.xml">
      <?dbhtml stop-chunking?>
      <title>Manage volumes</title>
      <para>A volume is a detachable block storage device, similar to a USB hard drive. You
                can attach a volume to only one instance. To create and manage volumes, you use a
                combination of <command>nova</command> and <command>cinder</command> client
                commands.</para>
      <sect2 id="cli_migrate_volumes" condition="adminuser">
        <title>Migrate a volume</title>
        <para>As an administrator, you can migrate a volume with its data from one location
                    to another in a manner that is transparent to users and workloads. You can
                    migrate only detached volumes with no snapshots.</para>
        <para>Possible use cases for data migration include:</para>
        <itemizedlist>
          <listitem>
            <para>Bring down a physical storage device for maintenance without
                            disrupting workloads.</para>
          </listitem>
          <listitem>
            <para>Modify the properties of a volume.</para>
          </listitem>
          <listitem>
            <para>Free up space in a thinly-provisioned back end.</para>
          </listitem>
        </itemizedlist>
        <para>Migrate a volume with the <command>cinder migrate</command> command, as shown
                    in the following example:</para>
        <screen><prompt>$</prompt> cinder migrate <replaceable>volumeID</replaceable><replaceable>destinationHost</replaceable> --force-host-copy <replaceable>True|False</replaceable></screen>
        <para>In this example, <literal>--force-host-copy True</literal> forces the generic
                    host-based migration mechanism and bypasses any driver optimizations.</para>
        <note>
          <para>If the volume is in use or has snapshots, the specified host destination
                        cannot accept the volume. If the user is not an administrator, the migration
                        fails.</para>
        </note>
      </sect2>
      <sect2 id="cli_list_volumes" condition="enduser">
        <title>Create a volume</title>
        <para>This example creates a my-new-volume volume based on an image.</para>
        <procedure>
          <step>
            <para>List images, and note the ID of the image that you want to use for
                            your volume:</para>
            <screen><prompt>$</prompt> nova image-list</screen>
            <screen><?db-font-size 65%?>+--------------------------------------+---------------------------------+--------+--------------------------------------+
| ID                                   | Name                            | Status | Server                               |
+--------------------------------------+---------------------------------+--------+--------------------------------------+
| 397e713c-b95b-4186-ad46-6126863ea0a9 | cirros-0.3.2-x86_64-uec         | ACTIVE |                                      |
| df430cc2-3406-4061-b635-a51c16e488ac | cirros-0.3.2-x86_64-uec-kernel  | ACTIVE |                                      |
| 3cf852bd-2332-48f4-9ae4-7d926d50945e | cirros-0.3.2-x86_64-uec-ramdisk | ACTIVE |                                      |
| 7e5142af-1253-4634-bcc6-89482c5f2e8a | myCirrosImage                   | ACTIVE | 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 |
| 89bcd424-9d15-4723-95ec-61540e8a1979 | mysnapshot                      | ACTIVE | f51ebd07-c33d-4951-8722-1df6aa8afaa4 |
+--------------------------------------+---------------------------------+--------+--------------------------------------+</screen>
          </step>
          <step>
            <para>List the availability zones, and note the ID of the availability zone
                            in which you want to create your volume:</para>
            <screen><prompt>$</prompt> cinder availability-zone-list</screen>
            <screen><?db-font-size 65%?>+------+-----------+
| Name |   Status  |
+------+-----------+
| nova | available |
+------+-----------+</screen>
          </step>
          <step>
            <para>Create a volume with 8 GB of space, and specify the availability zone
                            and image:</para>
            <screen><prompt>$</prompt> cinder create 8 --display-name my-new-volume --image-id 397e713c-b95b-4186-ad46-6126863ea0a9 --availability-zone nova</screen>
            <screen><?db-font-size 65%?>+---------------------+--------------------------------------+
|       Property      |                Value                 |
+---------------------+--------------------------------------+
|     attachments     |                  []                  |
|  availability_zone  |                 nova                 |
|       bootable      |                false                 |
|      created_at     |      2013-07-25T17:02:12.472269      |
| display_description |                 None                 |
|     display_name    |            my-new-volume             |
|          id         | 573e024d-5235-49ce-8332-be1576d323f8 |
|       image_id      | 397e713c-b95b-4186-ad46-6126863ea0a9 |
|       metadata      |                  {}                  |
|         size        |                  8                   |
|     snapshot_id     |                 None                 |
|     source_volid    |                 None                 |
|        status       |               creating               |
|     volume_type     |                 None                 |
+---------------------+--------------------------------------+</screen>
          </step>
          <step>
            <para>To verify that your volume was created successfully, list the
                            available volumes:</para>
            <screen><prompt>$</prompt> cinder list</screen>
            <screen><?db-font-size 65%?>+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
|                  ID                  |   Status  |   Display Name  | Size | Volume Type | Bootable | Attached to |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
| 573e024d-5235-49ce-8332-be1576d323f8 | available |  my-new-volume  |  8   |     None    |   true   |             |
| bd7cf584-45de-44e3-bf7f-f7b50bf235e3 | available | my-bootable-vol |  8   |     None    |   true   |             |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+</screen>
            <para>If your volume was created successfully, its status is
                                <literal>available</literal>. If its status is
                                <literal>error</literal>, you might have exceeded your quota.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="cli_attach_volume" condition="enduser">
        <title>Attach a volume to an instance</title>
        <procedure>
          <step>
            <para>Attach your volume to a server, specifying the server ID and the
                            volume ID:</para>
            <screen><prompt>$</prompt> nova volume-attach 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 573e024d-5235-49ce-8332-be1576d323f8 /dev/vdb</screen>
            <screen><?db-font-size 65%?>+----------+--------------------------------------+
| Property | Value                                |
+----------+--------------------------------------+
| device   | /dev/vdb                             |
| serverId | 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 |
| id       | 573e024d-5235-49ce-8332-be1576d323f8 |
| volumeId | 573e024d-5235-49ce-8332-be1576d323f8 |
+----------+--------------------------------------+</screen>
            <para>Note the ID of your volume.</para>
          </step>
          <step>
            <para>Show information for your volume:</para>
            <screen><prompt>$</prompt> cinder show 573e024d-5235-49ce-8332-be1576d323f8</screen>
            <para>The output shows that the volume is attached to the server with ID
                                <literal>84c6e57d-a6b1-44b6-81eb-fcb36afd31b5</literal>, is in the
                            nova availability zone, and is bootable.</para>
            <screen><?db-font-size 65%?>+------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|           Property           |                                                                                                      Value                                                                                                       |
+------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|         attachments          |             [{u'device': u'/dev/vdb', u'server_id': u'84c6e57d-a6b1-44b6-81eb-fcb36afd31b5', u'id': u'573e024d-5235-49ce-8332-be1576d323f8', u'volume_id': u'573e024d-5235-49ce-8332-be1576d323f8'}]             |
|      availability_zone       |                                                                                                       nova                                                                                                       |
|           bootable           |                                                                                                       true                                                                                                       |
|          created_at          |                                                                                            2013-07-25T17:02:12.000000                                                                                            |
|     display_description      |                                                                                                       None                                                                                                       |
|         display_name         |                                                                                                  my-new-volume                                                                                                   |
|              id              |                                                                                       573e024d-5235-49ce-8332-be1576d323f8                                                                                       |
|           metadata           |                                                                                                        {}                                                                                                        |
|    os-vol-host-attr:host     |                                                                                                 devstack                                                                                                         |
| os-vol-tenant-attr:tenant_id |                                                                                         66265572db174a7aa66eba661f58eb9e                                                                                         |
|             size             |                                                                                                        8                                                                                                         |
|         snapshot_id          |                                                                                                       None                                                                                                       |
|         source_volid         |                                                                                                       None                                                                                                       |
|            status            |                                                                                                      in-use                                                                                                      |
|    volume_image_metadata     | {u'kernel_id': u'df430cc2-3406-4061-b635-a51c16e488ac', u'image_id': u'397e713c-b95b-4186-ad46-6126863ea0a9', u'ramdisk_id': u'3cf852bd-2332-48f4-9ae4-7d926d50945e', u'image_name': u'cirros-0.3.2-x86_64-uec'} |
|         volume_type          |                                                                                                       None                                                                                                       |
+------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</screen>
          </step>
        </procedure>
      </sect2>
      <sect2 id="cli_extend_volumes" condition="enduser">
        <title>Resize a volume</title>
        <procedure>
          <step>
            <para>To resize your volume, you must first detach it from the
                            server.</para>
            <para>To detach the volume from your server, pass the server ID and volume
                            ID to the following command:</para>
            <screen><prompt>$</prompt> nova volume-detach 84c6e57d-a6b1-44b6-81eb-fcb36afd31b5 573e024d-5235-49ce-8332-be1576d323f8</screen>
            <para>The <command>volume-detach</command> command does not return any
                            output.</para>
          </step>
          <step>
            <para>List volumes:</para>
            <screen><prompt>$</prompt> cinder list</screen>
            <screen><?db-font-size 65%?>+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
|                  ID                  |   Status  |   Display Name  | Size | Volume Type | Bootable | Attached to |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
| 573e024d-5235-49ce-8332-be1576d323f8 | available |  my-new-volume  |  8   |     None    |   true   |             |
| bd7cf584-45de-44e3-bf7f-f7b50bf235e3 | available | my-bootable-vol |  8   |     None    |   true   |             |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+</screen>
            <para>Note that the volume is now available.</para>
          </step>
          <step>
            <para>Resize the volume by passing the volume ID and the new size (a value
                            greater than the old one) as parameters:</para>
            <screen><prompt>$</prompt> cinder extend 573e024d-5235-49ce-8332-be1576d323f8 10</screen>
            <para>The <command>extend</command> command does not return any
                            output.</para>
          </step>
        </procedure>
      </sect2>
      <sect2 id="cli_delete_volumes" condition="enduser">
        <title>Delete a volume</title>
        <procedure>
          <step>
            <para>To delete your volume, you must first detach it from the
                            server.</para>
            <para>To detach the volume from your server and check for the list of
                            existing volumes, see steps 1 and 2 in <xref linkend="cli_extend_volumes"/>.</para>
          </step>
          <step>
            <para>Delete the volume using either the volume name or ID:</para>
            <screen><prompt>$</prompt> cinder delete my-new-volume</screen>
            <para>The delete command does not return any output.</para>
          </step>
          <step>
            <para>List the volumes again, and note that the status of your volume is
                                <literal>deleting</literal>:</para>
            <screen><prompt>$</prompt> cinder list</screen>
            <screen><?db-font-size 65%?>+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
|                  ID                  |   Status  |   Display Name  | Size | Volume Type | Bootable | Attached to |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
| 573e024d-5235-49ce-8332-be1576d323f8 |  deleting |  my-new-volume  |  8   |     None    |   true   |             |
| bd7cf584-45de-44e3-bf7f-f7b50bf235e3 | available | my-bootable-vol |  8   |     None    |   true   |             |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+</screen>
            <para>When the volume is fully deleted, it disappears from the list of
                            volumes:</para>
            <screen><prompt>$</prompt> cinder list</screen>
            <screen><?db-font-size 65%?>+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
|                  ID                  |   Status  |   Display Name  | Size | Volume Type | Bootable | Attached to |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+
| bd7cf584-45de-44e3-bf7f-f7b50bf235e3 | available | my-bootable-vol |  8   |     None    |   true   |             |
+--------------------------------------+-----------+-----------------+------+-------------+----------+-------------+</screen>
          </step>
        </procedure>
      </sect2>
      <sect2 id="cli_transfer_volumes" condition="enduser">
        <title>Transfer a volume</title>
        <para>You can transfer a volume from one owner to another by using the
                    <command>cinder transfer*</command> commands. The volume donor, or original
                    owner, creates a transfer request and sends the created transfer ID and
                    authorization key to the volume recipient. The volume recipient, or new owner,
                    accepts the transfer by using the ID and key.</para>
        <note>
          <para>The procedure for volume transfer is intended for tenants (both the volume
                        donor and recipient) within the same cloud.</para>
        </note>
        <para>Use cases include:</para>
        <itemizedlist>
          <listitem>
            <para>Create a custom bootable volume or a volume with a large data set and
                            transfer it to a customer.</para>
          </listitem>
          <listitem>
            <para>For bulk import of data to the cloud, the data ingress system creates
                            a new Block Storage volume, copies data from the physical device, and
                            transfers device ownership to the end user.</para>
          </listitem>
        </itemizedlist>
        <sect3 id="create_volume_transfer">
          <title>Create a volume transfer request</title>
          <procedure>
            <step>
              <para>While logged in as the volume donor, list the available
                                volumes:</para>
              <screen><prompt>$</prompt> cinder list</screen>
              <screen>+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+
|                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |
+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+
| 72bfce9f-cacf-477a-a092-bf57a7712165 |   error   |     None     |  1   |     None    |  false   |             |
| a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f | available |     None     |  1   |     None    |  false   |             |
+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+</screen>
            </step>
            <step>
              <para>As the volume donor, request a volume transfer authorization code
                                for a specific volume:</para>
              <screen><prompt>$</prompt> cinder transfer-create <replaceable>volumeID</replaceable></screen>
              <para>The volume must be in an <literal>available</literal> state or the
                                request will be denied. If the transfer request is valid in the
                                database (that is, it has not expired or been deleted), the volume
                                is placed in an <literal>awaiting transfer</literal> state. For
                                example:</para>
              <screen><prompt>$</prompt> cinder transfer-create a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f</screen>
              <para>The output shows the volume transfer ID in the
                                    <literal>id</literal> row and the authorization key.</para>
              <screen>+------------+--------------------------------------+
|  Property  |                Value                 |
+------------+--------------------------------------+
|  auth_key  |           b2c8e585cbc68a80           |
| created_at |      2013-10-14T15:20:10.121458      |
|     id     | 6e4e9aa4-bed5-4f94-8f76-df43232f44dc |
|    name    |                 None                 |
| volume_id  | a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f |
+------------+--------------------------------------+</screen>
              <note>
                <para>Optionally, you can specify a name for the transfer by using
                                    the <literal>--display-name
                                        <replaceable>displayName</replaceable></literal>
                                    parameter.</para>
              </note>
              <note>
                <para>While the <parameter>auth_key</parameter> property is visible
                                    in the output of
                                    <command>cinder transfer-create <replaceable>VOLUME_ID</replaceable></command>,
                                    it will not be available in subsequent
                                    <command>cinder transfer-show <replaceable>TRANSFER_ID</replaceable></command>
                                    commands.</para>
              </note>
            </step>
            <step>
              <para>Send the volume transfer ID and authorization key to the new owner
                                (for example, by email).</para>
            </step>
            <step>
              <para>View pending transfers:</para>
              <screen><prompt>$</prompt> cinder transfer-list</screen>
              <screen>+--------------------------------------+--------------------------------------+------+
|               ID                     |             VolumeID                 | Name |
+--------------------------------------+--------------------------------------+------+
| 6e4e9aa4-bed5-4f94-8f76-df43232f44dc | a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f | None |
+--------------------------------------+--------------------------------------+------+</screen>
            </step>
            <step>
              <para>After the volume recipient, or new owner, accepts the transfer,
                                you can see that the transfer is no longer available:</para>
              <screen><prompt>$</prompt> cinder transfer-list</screen>
              <screen>+----+-----------+------+
| ID | Volume ID | Name |
+----+-----------+------+
+----+-----------+------+</screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="accept_volume_transfer">
          <title>Accept a volume transfer request</title>
          <procedure>
            <step>
              <para>As the volume recipient, you must first obtain the transfer ID and
                                authorization key from the original owner.</para>
            </step>
            <step>
              <para>Display the transfer request details by using the ID:</para>
              <screen><prompt>$</prompt> cinder transfer-show <replaceable>transferID</replaceable></screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> cinder transfer-show 6e4e9aa4-bed5-4f94-8f76-df43232f44dc</screen>
              <screen>+------------+--------------------------------------+
|  Property  |                Value                 |
+------------+--------------------------------------+
| created_at |      2013-10-14T15:20:10.000000      |
|     id     | 6e4e9aa4-bed5-4f94-8f76-df43232f44dc |
|    name    |                 None                 |
| volume_id  | a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f |
+------------+--------------------------------------+</screen>
            </step>
            <step>
              <para>Accept the request:</para>
              <screen><prompt>$</prompt> cinder transfer-accept <replaceable>transferID</replaceable><replaceable>authKey</replaceable></screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> cinder transfer-accept 6e4e9aa4-bed5-4f94-8f76-df43232f44dc b2c8e585cbc68a80</screen>
              <screen>+-----------+--------------------------------------+
|  Property |                Value                 |
+-----------+--------------------------------------+
|     id    | 6e4e9aa4-bed5-4f94-8f76-df43232f44dc |
|    name   |                 None                 |
| volume_id | a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f |
+-----------+--------------------------------------+</screen>
              <note>
                <para>If you do not have a sufficient quota for the transfer, the
                                    transfer is refused.</para>
              </note>
            </step>
          </procedure>
        </sect3>
        <sect3 id="delete_transfer">
          <title>Delete a volume transfer</title>
          <procedure>
            <step>
              <para>List available volumes and their statuses:</para>
              <screen><prompt>$</prompt> cinder list</screen>
              <screen>+--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+
|                  ID                  |       Status      | Display Name | Size | Volume Type | Bootable | Attached to |
+--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+
| 72bfce9f-cacf-477a-a092-bf57a7712165 |       error       |     None     |  1   |     None    |  false   |             |
| a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f | awaiting-transfer |     None     |  1   |     None    |  false   |             |
+--------------------------------------+-------------------+--------------+------+-------------+----------+-------------+</screen>
            </step>
            <step>
              <para>Find the matching transfer ID:</para>
              <screen><prompt>$</prompt> cinder transfer-list</screen>
              <screen>+--------------------------------------+--------------------------------------+------+
|               ID                     |             VolumeID                 | Name |
+--------------------------------------+--------------------------------------+------+
| a6da6888-7cdf-4291-9c08-8c1f22426b8a | a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f | None |
+--------------------------------------+--------------------------------------+------+</screen>
            </step>
            <step>
              <para>Delete the volume:</para>
              <screen><prompt>$</prompt> cinder transfer-delete <replaceable>transferID</replaceable></screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> cinder transfer-delete a6da6888-7cdf-4291-9c08-8c1f22426b8a</screen>
            </step>
            <step>
              <para>Verify that transfer list is now empty and that the volume is
                                again available for transfer:</para>
              <screen><prompt>$</prompt> cinder transfer-list</screen>
              <screen>+----+-----------+------+
| ID | Volume ID | Name |
+----+-----------+------+
+----+-----------+------+</screen>
              <screen><prompt>$</prompt> cinder list</screen>
              <screen>+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+
|                  ID                  |   Status  | Display Name | Size | Volume Type | Bootable | Attached to |
+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+
| 72bfce9f-cacf-477a-a092-bf57a7712165 |   error   |     None     |  1   |     None    |  false   |             |
| a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f | available |     None     |  1   |     None    |  false   |             |
+--------------------------------------+-----------+--------------+------+-------------+----------+-------------+</screen>
            </step>
          </procedure>
        </sect3>
      </sect2>
      <sect2 id="cli_read-only-volumes">
        <title>Set a volume to read-only access</title>
        <para>To give multiple users shared, secure access to the same data, you can set a
                    volume to read-only access.</para>
        <para>Run the following command to set a volume to read-only access:</para>
        <screen><prompt>$</prompt> cinder readonly-mode-update <replaceable>VOLUME</replaceable><replaceable>BOOLEAN</replaceable></screen>
        <para><replaceable>VOLUME</replaceable> is the ID of the target volume and
                        <replaceable>BOOLEAN</replaceable> is a flag that enables read-only or
                    read/write access to the volume.</para>
        <para>The following values for <replaceable>BOOLEAN</replaceable> are valid:</para>
        <itemizedlist>
          <listitem>
            <para><literal>true</literal>. Sets the read-only flag in the volume. When
                            you attach the volume to an instance, the instance checks for this flag
                            to determine whether to restrict volume access to read-only.</para>
          </listitem>
          <listitem>
            <para><literal>false</literal>. Sets the volume to read/write access.</para>
          </listitem>
        </itemizedlist>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="cli_manage_flavors">
      <?dbhtml stop-chunking?>
      <title>Manage flavors</title>
      <para>In OpenStack, flavors define the compute, memory, and storage capacity of nova
                computing instances. To put it simply, a flavor is an available hardware
                configuration for a server. It defines the <quote>size</quote> of a virtual server
                that can be launched.</para>
      <note>
        <para>Flavors can also determine on which compute host a flavor can be used to
                    launch an instance. For information about customizing flavors, refer to the
                        <ulink url="http://docs.openstack.org/admin-guide-cloud/content/"><citetitle>OpenStack Cloud Administrator Guide</citetitle></ulink>.</para>
      </note>
      <para>A flavor consists of the following parameters:</para>
      <variablelist>
        <varlistentry>
          <term>Flavor ID</term>
          <listitem>
            <para>Automatically generated by OpenStack. For private flavors, a value
                            from 1 to 255.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Name</term>
          <listitem>
            <para>Name for the new flavor.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>VCPUs</term>
          <listitem>
            <para>Number of virtual CPUs to use.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Memory MB</term>
          <listitem>
            <para>Amount of RAM to use (in megabytes).</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Root Disk GB</term>
          <listitem>
            <para>Amount of disk space (in gigabytes) to use for the root (/)
                            partition.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Ephemeral Disk GB</term>
          <listitem>
            <para>Amount of disk space (in gigabytes) to use for the ephemeral
                            partition. If unspecified, the value is 0 by default.</para>
            <para>Ephemeral disks offer machine local disk storage linked to the life
                            cycle of a VM instance. When a VM is terminated, all data on the
                            ephemeral disk is lost. Ephemeral disks are not included in any
                            snapshots.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Swap</term>
          <listitem>
            <para>Amount of swap space (in megabytes) to use. If unspecified, the value
                            is 0 by default.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>The default flavors are:</para>
      <informaltable rules="all" width="50%">
        <tgroup cols="4">
          <colspec colwidth="30%"/>
          <colspec colwidth="20%"/>
          <colspec colwidth="25%"/>
          <colspec colwidth="25%"/>
          <thead>
            <row>
              <entry>Flavor</entry>
              <entry>VCPUs</entry>
              <entry>Disk (in GB)</entry>
              <entry>RAM (in MB)</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
                <para>m1.tiny</para>
              </entry>
              <entry>
                <para>1</para>
              </entry>
              <entry>
                <para>1</para>
              </entry>
              <entry>
                <para>512</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.small</para>
              </entry>
              <entry>
                <para>1</para>
              </entry>
              <entry>
                <para>20</para>
              </entry>
              <entry>
                <para>2048</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.medium</para>
              </entry>
              <entry>
                <para>2</para>
              </entry>
              <entry>
                <para>40</para>
              </entry>
              <entry>
                <para>4096</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.large</para>
              </entry>
              <entry>
                <para>4</para>
              </entry>
              <entry>
                <para>80</para>
              </entry>
              <entry>
                <para>8192</para>
              </entry>
            </row>
            <row>
              <entry>
                <para>m1.xlarge</para>
              </entry>
              <entry>
                <para>8</para>
              </entry>
              <entry>
                <para>160</para>
              </entry>
              <entry>
                <para>16384</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>You can create and manage flavors with the nova <command>flavor-*</command>
                commands provided by the <filename>python-novaclient</filename> package.</para>
      <sect2 id="cli_create_flavor">
        <title>Create a flavor</title>
        <procedure>
          <step>
            <para>List flavors to show the ID and name, the amount of memory, the amount
                            of disk space for the root partition and for the ephemeral partition,
                            the swap, and the number of virtual CPUs for each flavor.</para>
            <screen><prompt>$</prompt> nova flavor-list</screen>
          </step>
          <step>
            <para>To create a flavor, specify a name, ID, RAM size, disk size, and the
                            number of VCPUs for the flavor, as follows:</para>
            <screen><prompt>$</prompt> nova flavor-create <replaceable>FLAVOR_NAME</replaceable><replaceable>FLAVOR_ID</replaceable><replaceable>RAM_IN_MB ROOT_DISK_IN_GB</replaceable><replaceable>NUMBER_OF_VCPUS</replaceable></screen>
            <note>
              <para>The flavor ID is a number from 1 to 255 and cannot contain special
                                characters or spaces.</para>
            </note>
            <para>Here is an example with additional optional parameters filled in that
                            creates a public "extra tiny" flavor that automatically gets an ID
                            assigned, with 256 MB memory, no disk space, and one VCPU. The
                            rxtx-factor indicates the slice of bandwidth that the instances with
                            this flavor can use (through the Virtual Interface (vif) creation in the
                            hypervisor).</para>
            <screen><prompt>$</prompt> nova flavor-create --is-public true m1.extra_tiny auto 256 0 1 --rxtx-factor .1</screen>
            <para>If an individual user or group of users needs a custom flavor that you
                            do not want other tenants to have access to, you can change the flavor's
                            access to make it a private flavor. See <ulink url="http://docs.openstack.org/openstack-ops/content/private-flavors.html"> Private Flavors in the OpenStack Operations Guide </ulink>.</para>
            <para>For a list of optional parameters, run this command:</para>
            <screen><prompt>$</prompt> nova help flavor-create</screen>
          </step>
          <step>
            <para>After you create a flavor, assign it to a project by specifying the
                            flavor name or ID and the tenant ID:</para>
            <screen><prompt>$</prompt> nova flavor-access-add <replaceable>FLAVOR</replaceable><replaceable>TENANT_ID</replaceable></screen>
          </step>
        </procedure>
      </sect2>
      <sect2 id="cli_delete_flavor">
        <title>Delete a flavor</title>
        <procedure>
          <step>
            <para>Delete a specified flavor, as follows:</para>
            <screen><prompt>$</prompt> nova flavor-delete <replaceable>FLAVOR_ID</replaceable></screen>
          </step>
        </procedure>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="section_cli_admin_manage_environment">
      <title>Manage the OpenStack environment</title>
      <para>This section includes tasks specific to the OpenStack environment.</para>
      <sect2 id="specify-host-to-boot-instances-on">
        <title>Select hosts where instances are launched</title>
        <para>With the appropriate permissions, you can select which host instances are
                    launched on and which roles can boot instances on this host.</para>
        <procedure>
          <step>
            <para>To select the host where instances are launched, use the
                                <literal>--availability_zone
                                    <replaceable>zone</replaceable>:<replaceable>host</replaceable></literal>
                            parameter on the <command>nova boot</command> command, </para>
            <para>For example:</para>
            <screen><prompt>$</prompt> nova boot --image &lt;uuid&gt; --flavor m1.tiny --key_name test --availability-zone nova:server2</screen>
          </step>
          <step>
            <para>To specify which roles can launch an instance on a specified host,
                            enable the <literal>create:forced_host</literal> option in the
                                <filename>policy.json</filename> file. By default, this option is
                            enabled for only the admin role.</para>
          </step>
          <step>
            <para>To view the list of valid compute hosts, use the
                            <command>nova hypervisor-list</command> command, as follows:</para>
            <screen><prompt>$</prompt> nova hypervisor-list
+----+---------------------+
| ID | Hypervisor hostname |
+----+---------------------+
| 1  | server2             |
| 2  | server3             |
| 3  | server4             |
+----+---------------------+</screen>
          </step>
        </procedure>
      </sect2>
      <?hard-pagebreak?>
      <sect2 id="nova_cli_evacuate" xml:base="../common/section_cli_nova_evacuate.xml">
        <title>Evacuate instances</title>
        <para>If a cloud compute node fails due to a hardware malfunction or another reason,
                    you can evacuate instances to make them available again. You can optionally
                    include the target host on the <command>evacuate</command> command. If you omit
                    the host, the scheduler determines the target host.</para>
        <para>To preserve user data on server disk, you must configure shared storage on the
                    target host. Also, you must validate that the current VM host is down;
                    otherwise, the evacuation fails with an error.</para>
        <procedure id="evacuate_shared">
          <step>
            <para>To list hosts and find a different host for the evacuated instance,
                            run:</para>
            <screen><prompt>$</prompt> nova host-list</screen>
          </step>
          <step>
            <para>Evacuate the instance. You can pass the instance password to the
                            command by using the <literal>--password &lt;pwd&gt;</literal>
                            option. If you do not specify a password, one is generated and printed
                            after the command finishes successfully. The following command evacuates
                            a server without shared storage from a host that is down to the
                            specified <replaceable>host_b</replaceable>:</para>
            <screen><prompt>$</prompt> nova evacuate <replaceable>evacuated_server_name</replaceable><replaceable>host_b</replaceable> </screen>
            <para>The instance is booted from a new disk, but preserves its
                            configuration including its ID, name, uid, IP address, and so on. The
                            command returns a password:</para>
            <screen><?db-font-size 70%?>+-----------+--------------+
| Property  |    Value     |
+-----------+--------------+
| adminPass | kRAJpErnT4xZ |
+-----------+--------------+</screen>
          </step>
          <step>
            <para>To preserve the user disk data on the evacuated server, deploy
                            OpenStack Compute with a shared file system. To configure your system,
                            see <ulink url="http://docs.openstack.org/admin-guide-cloud/content/section_configuring-compute-migrations.html">Configure migrations</ulink> in <citetitle>OpenStack Cloud
                                Administrator Guide</citetitle>. In the following example, the
                            password remains unchanged:</para>
            <screen><prompt>$</prompt> nova evacuate <replaceable>evacuated_server_name</replaceable><replaceable>host_b</replaceable> --on-shared-storage    </screen>
          </step>
        </procedure>
      </sect2>
      <sect2 id="nova_cli_migrate_single">
        <title>Migrate single instance to another compute host</title>
        <para>When you want to move an instance from one compute host to another, you can
                    use the <command>nova migrate</command> command. The scheduler chooses the
                    destination compute host based on its settings. This process does not assume
                    that the instance has shared storage available on the target host.</para>
        <procedure id="migrate_single">
          <step>
            <para>To list the VMs you want to migrate, run:</para>
            <screen><prompt>$</prompt> nova list</screen>
          </step>
          <step>
            <para>After selecting a VM from the list, run this command where
                                <replaceable>VM_ID</replaceable> is set to the ID in the list
                            returned in the previous step:</para>
            <screen><prompt>$</prompt> nova show <replaceable>VM_ID</replaceable></screen>
          </step>
          <step>
            <para>Now, use the <command>nova migrate</command> command:</para>
            <screen><prompt>$</prompt> nova migrate <replaceable>VM_ID</replaceable></screen>
          </step>
          <step performance="optional">
            <para>To migrate of an instance and watch the status, use this example
                            script:</para>
            <screen remap="programlisting" language="bash">#!/bin/bash

# Provide usage
usage() {
        echo "Usage: $0 VM_ID"
        exit 1
}

[[ $# -eq 0 ]] &amp;&amp; usage

# Migrate the VM to an alternate hypervisor
echo -n "Migrating instance to alternate host"
$VM_ID=$1
nova migrate $VM_ID
VM_OUTPUT=`nova show $VM_ID`
VM_STATUS=`echo "$VM_OUTPUT" | grep status | awk '{print $4}'`
while [[ "$VM_STATUS" != "VERIFY_RESIZE" ]]; do
    echo -n "."
    sleep 2
    VM_OUTPUT=`nova show $VM_ID`
    VM_STATUS=`echo "$VM_OUTPUT" | grep status | awk '{print $4}'`
done
nova resize-confirm $VM_ID
echo " instance migrated and resized."
echo;

# Show the details for the VM
echo "Updated instance details:"
nova show $VM_ID

# Pause to allow users to examine VM details
read -p "Pausing, press &lt;enter&gt; to exit."</screen>
            <note>
              <para>If you see this error, it means you are either trying the command
                                with the wrong credentials, such as a non-admin user, or the
                                    <filename>policy.json</filename> file prevents migration for
                                your user.
                                <screen>ERROR (Forbidden): Policy doesn't allow compute_extension:admin_actions:migrate to be performed. (HTTP 403)</screen></para>
            </note>
            <para>The instance is booted from a new host, but preserves its
                            configuration including its ID, name, any metadata, IP address, and
                            other properties.</para>
          </step>
        </procedure>
      </sect2>
      <?hard-pagebreak?>
      <sect2 id="manage_ip_addresses">
        <title>Manage IP addresses</title>
        <para>Each instance has a private, fixed IP address (assigned when launched) and can
                    also have a public, or floating, address. Private IP addresses are used for
                    communication between instances, and public addresses are used for communication
                    with networks outside the cloud, including the Internet.</para>
        <para>
          <itemizedlist>
            <listitem>
              <para>By default, both administrative and end users can associate
                                floating IP addresses with projects and instances. You can change
                                user permissions for managing IP addresses by updating the
                                    <filename>/etc/nova/policy.json</filename> file. For basic
                                floating-IP procedures, refer to the <citetitle>Manage IP
                                    Addresses</citetitle> section in the <ulink url="http://docs.openstack.org/user-guide/content/"><citetitle>OpenStack End User Guide</citetitle></ulink>.</para>
            </listitem>
            <listitem>
              <para>For details on creating public networks using OpenStack Networking
                                    (<systemitem>neutron</systemitem>), refer to the <ulink url="http://docs.openstack.org/admin-guide-cloud/content/"><citetitle>OpenStack Cloud Administrator Guide</citetitle></ulink>. No floating IP addresses are created by default in
                                OpenStack Networking.</para>
            </listitem>
          </itemizedlist>
        </para>
        <para>As an administrator using legacy networking
                        (<systemitem>nova-network</systemitem>), you can use the following bulk
                    commands to list, create, and delete ranges of floating IP addresses. These
                    addresses can then be associated with instances by end users:</para>
        <variablelist>
          <varlistentry>
            <term>List addresses for all projects</term>
            <listitem>
              <para>To list all floating IP addresses for all projects, run:</para>
              <screen><prompt>$</prompt> nova floating-ip-bulk-list
+------------+---------------+---------------+--------+-----------+
| project_id | address       | instance_uuid | pool   | interface |
+------------+---------------+---------------+--------+-----------+
| None       | 172.24.4.225  | None          | public | eth0      |
| None       | 172.24.4.226  | None          | public | eth0      |
| None       | 172.24.4.227  | None          | public | eth0      |
| None       | 172.24.4.228  | None          | public | eth0      |
| None       | 172.24.4.229  | None          | public | eth0      |
| None       | 172.24.4.230  | None          | public | eth0      |
| None       | 172.24.4.231  | None          | public | eth0      |
| None       | 172.24.4.232  | None          | public | eth0      |
| None       | 172.24.4.233  | None          | public | eth0      |
| None       | 172.24.4.234  | None          | public | eth0      |
| None       | 172.24.4.235  | None          | public | eth0      |
| None       | 172.24.4.236  | None          | public | eth0      |
| None       | 172.24.4.237  | None          | public | eth0      |
| None       | 172.24.4.238  | None          | public | eth0      |
| None       | 192.168.253.1 | None          | test   | eth0      |
| None       | 192.168.253.2 | None          | test   | eth0      |
| None       | 192.168.253.3 | None          | test   | eth0      |
| None       | 192.168.253.4 | None          | test   | eth0      |
| None       | 192.168.253.5 | None          | test   | eth0      |
| None       | 192.168.253.6 | None          | test   | eth0      |
+------------+---------------+---------------+--------+-----------+</screen>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Bulk create floating IP addresses</term>
            <listitem>
              <para>To create a range of floating IP addresses, run:</para>
              <para>
                <screen><prompt>$</prompt> nova floating-ip-bulk-create [--pool <replaceable>POOL_NAME</replaceable>] [--interface <replaceable>INTERFACE</replaceable>] <replaceable>RANGE_TO_CREATE</replaceable></screen>
              </para>
              <para>For example:</para>
              <screen><prompt>$</prompt> nova floating-ip-bulk-create --pool test 192.168.1.56/29</screen>
              <para>By default, <command>floating-ip-bulk-create</command> uses the
                                    <systemitem>public</systemitem> pool and
                                    <systemitem>eth0</systemitem> interface values.</para>
              <para>
                <note>
                  <para>You should use a range of free IP addresses that is
                                        correct for your network. If you are not sure, at least try
                                        to avoid the DHCP address range:</para>
                  <para>
                    <itemizedlist>
                      <listitem>
                        <para>Pick a small range (/29 gives an 8 address
                                                  range, 6 of which will be usable)</para>
                      </listitem>
                      <listitem>
                        <para>Use <command>nmap</command> to check a range's
                                                  availability. For example, 192.168.1.56/29
                                                  represents a small range of addresses
                                                  (192.168.1.56-63, with 57-62 usable), and you
                                                  could run the command
                                                  <command>nmap -sn
                                            192.168.1.56/29</command>
                                                  to check whether the entire range is currently
                                                  unused.</para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </note>
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Bulk delete floating IP addresses</term>
            <listitem>
              <para>To delete a range of floating IP addresses, run:</para>
              <para>
                <screen><prompt>$</prompt> nova floating-ip-bulk-delete <replaceable>RANGE_TO_DELETE</replaceable></screen>
              </para>
              <para>For example:</para>
              <screen><prompt>$</prompt> nova floating-ip-bulk-delete 192.168.1.56/29</screen>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect2>
      <?hard-pagebreak?>
      <sect2 id="section_cli_admin_manage_stacks">
        <title>Launch and manage stacks</title>
        <para>The Orchestration service provides a template-based orchestration engine for
                    the OpenStack cloud, which can be used to create and manage cloud infrastructure
                    resources such as storage, networking, instances, and applications as a
                    repeatable running environment. </para>
        <para>Templates are used to create stacks, which are collections of resources. For
                    example, a stack might include instances, floating IPs, volumes, security
                    groups, or users. The Orchestration service offers access to all OpenStack core
                    services via a single modular template, with additional orchestration
                    capabilities such as auto-scaling and basic high availability.</para>
        <para>For information about the:</para>
        <para>
          <itemizedlist>
            <listitem>
              <para>Basic creation and deletion of Orchestration stacks, refer to the
                                    <ulink url="http://docs.openstack.org/user-guide/content/dashboard_stacks.html">End User Guide</ulink>.</para>
            </listitem>
            <listitem>
              <para><systemitem>heat</systemitem> CLI commands, see the <ulink url="http://docs.openstack.org/cli-reference/content/"><citetitle> OpenStack Command Line Interface
                                        Reference</citetitle></ulink></para>
            </listitem>
          </itemizedlist>
        </para>
        <para>As an administrator, you can also carry out stack functions on behalf of your
                    users. For example, to resume, suspend, or delete a stack, run:</para>
        <screen><prompt>$</prompt> action-resume <replaceable>stackID</replaceable>
<prompt>$</prompt> action-suspend <replaceable>stackID</replaceable>
<prompt>$</prompt> stack-delete <replaceable>stackID</replaceable></screen>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="cli_set_quotas">
      <?dbhtml stop-chunking?>
      <title>Manage quotas</title>
      <para>To prevent system capacities from being exhausted without notification, you can
                set up quotas. Quotas are operational limits. For example, the number of gigabytes
                allowed for each tenant can be controlled so that cloud resources are optimized.
                Quotas can be enforced at both the tenant (or project) and the tenant-user
                level.</para>
      <para>Using the command-line interface, you can manage quotas for the OpenStack Compute
                service, the OpenStack Block Storage service, and the OpenStack Networking
                service.</para>
      <para>The cloud operator typically changes default values because a tenant requires more
                than ten volumes or 1 TB on a compute node. </para>
      <note>
        <para>To view all tenants (projects), run:
                    <screen><prompt>$</prompt> keystone tenant-list
+----------------------------------+----------+---------+
|                id                |   name   | enabled |
+----------------------------------+----------+---------+
| e66d97ac1b704897853412fc8450f7b9 |  admin   |   True  |
| bf4a37b885fe46bd86e999e50adad1d3 | services |   True  |
| 21bd1c7c95234fd28f589b60903606fa | tenant01 |   True  |
| f599c5cd1cba4125ae3d7caed08e288c | tenant02 |   True  |
+----------------------------------+----------+---------+</screen></para>
        <para>To display all current users for a tenant, run:</para>
        <para>
          <screen><prompt>$</prompt> keystone user-list --tenant-id <replaceable>tenantID</replaceable>
+----------------------------------+--------+---------+-------+
|                id                |  name  | enabled | email |
+----------------------------------+--------+---------+-------+
| ea30aa434ab24a139b0e85125ec8a217 | demo00 |   True  |       |
| 4f8113c1d838467cad0c2f337b3dfded | demo01 |   True  |       |
+----------------------------------+--------+---------+-------+
</screen>
        </para>
      </note>
      <sect2 id="cli_set_compute_quotas" xml:base="../common/section_cli_nova_quotas.xml">
        <title>Manage Compute service quotas</title>
        <para>As an administrative user, you can use the <command>nova quota-*</command>
                    commands, which are provided by the <literal>python-novaclient</literal>
                    package, to update the Compute service quotas for a specific tenant or tenant
                    user, as well as update the quota defaults for a new tenant.</para>
        <table rules="all">
          <title>Compute quota descriptions</title>
          <tgroup cols="2">
            <colspec colwidth="40%"/>
            <colspec colwidth="60%"/>
            <thead>
              <row>
                <entry> Quota name </entry>
                <entry> Description </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry>
                  <para>
                    <systemitem>cores</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of instance cores (VCPUs) allowed per tenant. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>fixed-ips</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of fixed IP addresses allowed per tenant. This number
                                    must be equal to or greater than the number of allowed
                                    instances. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>floating-ips</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of floating IP addresses allowed per tenant. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>injected-file-content-bytes</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of content bytes allowed per injected file. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>injected-file-path-bytes</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Length of injected file path. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>injected-files</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of injected files allowed per tenant. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>instances</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of instances allowed per tenant. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>key-pairs</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of key pairs allowed per user. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>metadata-items</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of metadata items allowed per instance. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>ram</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Megabytes of instance ram allowed per tenant. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>security-groups</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of security groups per tenant. </para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <systemitem>security-group-rules</systemitem>
                  </para>
                </entry>
                <entry>
                  <para> Number of rules per security group. </para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
        <sect3 id="cli_set_compute_tenant_quotas_procedure">
          <title>View and update Compute quotas for a tenant (project)</title>
          <procedure>
            <title>To view and update default quota values</title>
            <step>
              <para>List all default quotas for all tenants, as follows:</para>
              <screen><prompt>$</prompt> nova quota-defaults</screen>
              <para>For example: </para>
              <screen><prompt>$</prompt> nova quota-defaults
+-----------------------------+-------+
| Quota                       | Limit |
+-----------------------------+-------+
| instances                   | 10    |
| cores                       | 20    |
| ram                         | 51200 |
| floating_ips                | 10    |
| fixed_ips                   | -1    |
| metadata_items              | 128   |
| injected_files              | 5     |
| injected_file_content_bytes | 10240 |
| injected_file_path_bytes    | 255   |
| key_pairs                   | 100   |
| security_groups             | 10    |
| security_group_rules        | 20    |
+-----------------------------+-------+</screen>
            </step>
            <step>
              <para>Update a default value for a new tenant, as follows: </para>
              <screen><prompt>$</prompt> nova quota-class-update --<replaceable>key</replaceable><replaceable>value</replaceable> default</screen>
              <para>For example: </para>
              <screen><prompt>$</prompt> nova quota-class-update --instances 15 default</screen>
            </step>
          </procedure>
          <procedure>
            <title>To view quota values for an existing tenant (project)</title>
            <step>
              <para>Place the tenant ID in a usable variable, as follows:</para>
              <screen><prompt>$</prompt> tenant=$(keystone tenant-list | awk '/<replaceable>tenantName</replaceable>/ {print $2}')</screen>
            </step>
            <step>
              <para>List the currently set quota values for a tenant, as
                                follows:</para>
              <screen><prompt>$</prompt> nova quota-show --tenant $tenant</screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> nova quota-show --tenant $tenant
+-----------------------------+-------+
| Quota                       | Limit |
+-----------------------------+-------+
| instances                   | 10    |
| cores                       | 20    |
| ram                         | 51200 |
| floating_ips                | 10    |
| fixed_ips                   | -1    |
| metadata_items              | 128   |
| injected_files              | 5     |
| injected_file_content_bytes | 10240 |
| injected_file_path_bytes    | 255   |
| key_pairs                   | 100   |
| security_groups             | 10    |
| security_group_rules        | 20    |
+-----------------------------+-------+</screen>
            </step>
          </procedure>
          <procedure>
            <title>To update quota values for an existing tenant (project)</title>
            <step>
              <para>Obtain the tenant ID, as follows:</para>
              <screen><prompt>$</prompt> tenant=$(keystone tenant-list | awk '/<replaceable>tenantName</replaceable>/ {print $2}')</screen>
            </step>
            <step>
              <para>Update a particular quota value, as follows:</para>
              <screen><prompt>$</prompt> nova quota-update --<replaceable>quotaName</replaceable><replaceable>quotaValue</replaceable><replaceable>tenantID</replaceable></screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> nova quota-update --floating-ips 20 $tenant
<prompt>$</prompt> nova quota-show --tenant $tenant
+-----------------------------+-------+
| Quota                       | Limit |
+-----------------------------+-------+
| instances                   | 10    |
| cores                       | 20    |
| ram                         | 51200 |
| floating_ips                | 20    |
| fixed_ips                   | -1    |
| metadata_items              | 128   |
| injected_files              | 5     |
| injected_file_content_bytes | 10240 |
| injected_file_path_bytes    | 255   |
| key_pairs                   | 100   |
| security_groups             | 10    |
| security_group_rules        | 20    |
+-----------------------------+-------+
</screen>
              <note>
                <para>To view a list of options for the
                                    <command>quota-update</command> command, run: </para>
                <screen><prompt>$</prompt> nova help quota-update</screen>
              </note>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_set_compute_user_quotas_procedure">
          <title>View and update Compute quotas for a tenant user</title>
          <procedure>
            <title>To view quota values for a tenant user</title>
            <step>
              <para>Place the user ID in a usable variable, as follows:</para>
              <screen><prompt>$</prompt> tenantUser=$(keystone user-list | awk '/<replaceable>userName</replaceable>/ {print $2}')</screen>
            </step>
            <step>
              <para>Place the user's tenant ID in a usable variable, as
                                follows:</para>
              <screen><prompt>$</prompt> tenant=$(keystone tenant-list | awk '/<replaceable>tenantName</replaceable>/ {print $2}')</screen>
            </step>
            <step>
              <para>List the currently set quota values for a tenant user, as
                                follows:</para>
              <screen><prompt>$</prompt> nova quota-show --user $tenantUser --tenant $tenant </screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> nova quota-show --user $tenantUser --tenant $tenant
+-----------------------------+-------+
| Quota                       | Limit |
+-----------------------------+-------+
| instances                   | 10    |
| cores                       | 20    |
| ram                         | 51200 |
| floating_ips                | 20    |
| fixed_ips                   | -1    |
| metadata_items              | 128   |
| injected_files              | 5     |
| injected_file_content_bytes | 10240 |
| injected_file_path_bytes    | 255   |
| key_pairs                   | 100   |
| security_groups             | 10    |
| security_group_rules        | 20    |
+-----------------------------+-------+
</screen>
            </step>
          </procedure>
          <procedure>
            <title>To update quota values for a tenant user</title>
            <step>
              <para>Place the user ID in a usable variable, as follows:</para>
              <screen><prompt>$</prompt> tenantUser=$(keystone user-list | awk '/<replaceable>userName</replaceable>/ {print $2}')</screen>
            </step>
            <step>
              <para>Place the user's tenant ID in a usable variable, as
                                follows:</para>
              <screen><prompt>$</prompt> tenant=$(keystone tenant-list | awk '/<replaceable>userName</replaceable>/ {print $2}')</screen>
            </step>
            <step>
              <para>Update a particular quota value, as follows:</para>
              <screen><prompt>$</prompt> nova quota-update  --user $tenantUser --<replaceable>quotaName</replaceable><replaceable>quotaValue</replaceable> $tenant</screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> nova quota-update --user $tenantUser --floating-ips 12 $tenant
<prompt>$</prompt> nova quota-show --user $tenantUser --tenant $tenant
+-----------------------------+-------+
| Quota                       | Limit |
+-----------------------------+-------+
| instances                   | 10    |
| cores                       | 20    |
| ram                         | 51200 |
| floating_ips                | 12    |
| fixed_ips                   | -1    |
| metadata_items              | 128   |
| injected_files              | 5     |
| injected_file_content_bytes | 10240 |
| injected_file_path_bytes    | 255   |
| key_pairs                   | 100   |
| security_groups             | 10    |
| security_group_rules        | 20    |
+-----------------------------+-------+
</screen>
              <note>
                <para>To view a list of options for the
                                    <command>quota-update</command> command, run: </para>
                <screen><prompt>$</prompt> nova help quota-update</screen>
              </note>
            </step>
          </procedure>
          <procedure>
            <title>To display the current quota usage for a tenant user</title>
            <step>
              <para>Use <command>nova absolute-limits</command> to get a list of the
                                current quota values and the current quota usage.</para>
              <screen><prompt>$</prompt> nova absolute-limits --tenant <replaceable>tenantName</replaceable>
+-------------------------+-------+
| Name                    | Value |
+-------------------------+-------+
| maxServerMeta           | 128   |
| maxPersonality          | 5     |
| maxImageMeta            | 128   |
| maxPersonalitySize      | 10240 |
| maxTotalRAMSize         | 51200 |
| maxSecurityGroupRules   | 20    |
| maxTotalKeypairs        | 100   |
| totalRAMUsed            | 0     |
| maxSecurityGroups       | 10    |
| totalFloatingIpsUsed    | 0     |
| totalInstancesUsed      | 0     |
| totalSecurityGroupsUsed | 0     |
| maxTotalFloatingIps     | 10    |
| maxTotalInstances       | 10    |
| totalCoresUsed          | 0     |
| maxTotalCores           | 20    |
+-------------------------+-------+</screen>
            </step>
          </procedure>
        </sect3>
      </sect2>
      <sect2 id="cli_set_block_storage_quotas">
        <title>Manage Block Storage service quotas</title>
        <para>As an administrative user, you can update the OpenStack Block Storage service
                    quotas for a project. You can also update the quota defaults for a new
                    project.</para>
        <para>
          <table rules="all">
            <title>Block Storage quotas</title>
            <tgroup cols="2">
              <colspec colwidth="20%"/>
              <colspec colwidth="80%"/>
              <thead>
                <row>
                  <entry>Property name</entry>
                  <entry>Defines the number of</entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>
                    <para>gigabytes</para>
                  </entry>
                  <entry>
                    <para>Volume gigabytes allowed for each tenant.</para>
                  </entry>
                </row>
                <row>
                  <entry>
                    <para>snapshots</para>
                  </entry>
                  <entry>
                    <para>Volume snapshots allowed for each tenant.</para>
                  </entry>
                </row>
                <row>
                  <entry>
                    <para>volumes</para>
                  </entry>
                  <entry>
                    <para>Volumes allowed for each tenant.</para>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <sect3 id="cli_view_block_storage_quotas">
          <title>View Block Storage quotas</title>
          <para>Administrative users can view Block Storage service quotas.</para>
          <procedure>
            <step>
              <para>List the default quotas for all projects:</para>
              <screen><prompt>$</prompt> cinder quota-defaults <replaceable>TENANT_ID</replaceable>
+-----------+-------+
|  Property | Value |
+-----------+-------+
| gigabytes |  1000 |
| snapshots |   10  |
|  volumes  |   10  |
+-----------+-------+</screen>
            </step>
            <step>
              <para>View Block Storage service quotas for a project:</para>
              <screen><prompt>$</prompt> cinder quota-show <replaceable>TENANT_NAME</replaceable></screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> cinder quota-show tenant01
+-----------+-------+
|  Property | Value |
+-----------+-------+
| gigabytes |  1000 |
| snapshots |   10  |
|  volumes  |   10  |
+-----------+-------+</screen>
            </step>
            <step>
              <para>Show the current usage of a per-tenant quota:</para>
              <screen><prompt>$</prompt> cinder quota-usage <replaceable>tenantID</replaceable>
            +-----------+--------+----------+-------+
|    Type   | In_use | Reserved | Limit |
+-----------+--------+----------+-------+
| gigabytes |   0    |    0     |  1000 |
| snapshots |   0    |    0     |   10  |
|  volumes  |   0    |    0     |   15  |
+-----------+--------+----------+-------+</screen>
            </step>
          </procedure>
        </sect3>
        <sect3 id="cli_edit_update_block_storage_quotas">
          <title>Edit and Update Block Storage service quotas</title>
          <para>Administrative users can edit and update Block Storage service
                        quotas.</para>
          <procedure>
            <step>
              <para>Clear per-tenant quota limits:</para>
              <screen><prompt>$</prompt> cinder quota-delete <replaceable>tenantID</replaceable></screen>
            </step>
            <step>
              <para>To update a default value for a new project, update the property
                                in the <literal>cinder.quota</literal> section of the
                                    <filename>/etc/cinder/cinder.conf</filename> file. For more
                                information, see the <ulink url="http://docs.openstack.org/trunk/config-reference/content/ch_configuring-openstack-block-storage.html">Block Storage Configuration Reference</ulink>.</para>
            </step>
            <step>
              <para>To update Block Storage service quotas, place the tenant ID in a
                                variable:</para>
              <screen><prompt>$</prompt> tenant=$(keystone tenant-list | awk '/<replaceable>tenantName</replaceable>/ {print $2}')</screen>
            </step>
            <step>
              <para>Update a particular quota value:</para>
              <screen><prompt>$</prompt> cinder quota-update --<replaceable>quotaName</replaceable><replaceable>NewValue</replaceable><replaceable>tenantID</replaceable></screen>
              <para>For example:</para>
              <screen><prompt>$</prompt> cinder quota-update --volumes 15 $tenant
<prompt>$</prompt> cinder quota-show tenant01
+-----------+-------+
|  Property | Value |
+-----------+-------+
| gigabytes |  1000 |
| snapshots |   10  |
|  volumes  |   15  |
+-----------+-------+</screen>
            </step>
            <step>
              <para>Clear per-tenant quota limits:</para>
              <screen><prompt>$</prompt> cinder quota-delete <replaceable>tenantID</replaceable></screen>
            </step>
          </procedure>
        </sect3>
      </sect2>
      <sect2 id="section_networking-advanced-quotas" xml:base="../common/section_cli_neutron-quotas.xml">
        <title>Manage Networking service quotas</title>
        <para>A quota limits the number of available resources. A default quota might be
                    enforced for all tenants. When you try to create more resources than the quota
                    allows, an error occurs:</para>
        <screen><prompt>$</prompt> neutron net-create test_net</screen>
        <screen>Quota exceeded for resources: ['network']</screen>
        <para>Per-tenant quota configuration is also supported by the quota extension API.
                    See <link linkend="cfg_quotas_per_tenant"> Per-tenant quota configuration</link>
                    for details.</para>
        <sect3 id="cfg_quotas_common">
          <title>Basic quota configuration</title>
          <para>In the Networking default quota mechanism, all tenants have the same quota
                        values, such as the number of resources that a tenant can create.</para>
          <para>The quota value is defined in the OpenStack Networking
                            <filename>neutron.conf</filename> configuration file. To disable quotas
                        for a specific resource, such as network, subnet, or port, remove a
                        corresponding item from <option>quota_items</option>. This example shows the
                        default quota values:</para>
          <screen remap="programlisting" language="ini">[quotas]
# resource name(s) that are supported in quota features
quota_items = network,subnet,port

# number of networks allowed per tenant, and minus means unlimited
quota_network = 10

# number of subnets allowed per tenant, and minus means unlimited
quota_subnet = 10

# number of ports allowed per tenant, and minus means unlimited
quota_port = 50

# default driver to use for quota checks
quota_driver = neutron.quota.ConfDriver</screen>
          <para>OpenStack Networking also supports quotas for L3 resources: router and
                        floating IP. Add these lines to the <literal>quotas</literal> section in the
                            <filename>neutron.conf</filename> file.</para>
          <screen remap="programlisting" language="ini">[quotas]
# number of routers allowed per tenant, and minus means unlimited
quota_router = 10

# number of floating IPs allowed per tenant, and minus means unlimited
quota_floatingip = 50</screen>
          <note>
            <para>The <option>quota_items</option> option does not affect these
                            quotas.</para>
          </note>
          <para>OpenStack Networking also supports quotas for security group resources:
                        number of security groups and the number of rules for each security group.
                        Add these lines to the <literal>quotas</literal> section in the
                            <filename>neutron.conf</filename> file:</para>
          <screen remap="programlisting" language="ini">[quotas]
# number of security groups per tenant, and minus means unlimited
quota_security_group = 10

# number of security rules allowed per tenant, and minus means unlimited
quota_security_group_rule = 100</screen>
          <note>
            <para>The <option>quota_items</option> option does not affect these
                            quotas.</para>
          </note>
        </sect3>
        <sect3 id="cfg_quotas_per_tenant">
          <title>Configure per-tenant quotas</title>
          <para>OpenStack Networking also supports per-tenant quota limit by quota
                        extension API.</para>
          <para>Use these commands to manage per-tenant quotas:<itemizedlist><listitem><para><command>neutron quota-delete</command>. Deletes defined
                                    quotas for a specified tenant.</para></listitem><listitem><para><command>neutron quota-list</command>. Lists defined quotas
                                    for all tenants.</para></listitem><listitem><para><command>neutron quota-show</command>. Shows quotas for a
                                    specified tenant.</para></listitem><listitem><para><command>neutron quota-update</command>. Updates quotas for a
                                    specified tenant.</para></listitem></itemizedlist>Only users with the <literal>admin</literal> role can change
                        a quota value. By default, the default set of quotas are enforced for all
                        tenants, so no <command>quota-create</command> command exists.</para>
          <procedure>
            <step>
              <title>Configure Networking to show per-tenant quotas</title>
              <para>Set the <literal>quota_driver</literal> option in the
                                    <literal>neutron.conf</literal> file:</para>
              <screen remap="programlisting" language="ini">quota_driver = neutron.db.quota_db.DbQuotaDriver</screen>
              <para>When you set this option, the output for Networking commands shows
                                    <literal>quotas</literal>.</para>
            </step>
            <step>
              <title>List Networking extensions</title>
              <para>To list the Networking extensions, run this command:</para>
              <screen><prompt>$</prompt> neutron ext-list -c alias -c name</screen>
              <para>The command shows the <literal>quotas</literal> extension, which
                                provides per-tenant quota management support:</para>
              <screen>+-----------------+--------------------------+
| alias           | name                     |
+-----------------+--------------------------+
| agent_scheduler | Agent Schedulers         |
| security-group  | security-group           |
| binding         | Port Binding             |
| quotas          | Quota management support |
| agent           | agent                    |
| provider        | Provider Network         |
| router          | Neutron L3 Router        |
| lbaas           | LoadBalancing service    |
| extraroute      | Neutron Extra Route      |
+-----------------+--------------------------+</screen>
            </step>
            <step>
              <title>Show information for the quotas extension</title>
              <para>To show information for the <literal>quotas</literal> extension,
                                run this command:</para>
              <screen><prompt>$</prompt> neutron ext-show quotas</screen>
              <screen>+-------------+------------------------------------------------------------+
| Field       | Value                                                      |
+-------------+------------------------------------------------------------+
| alias       | quotas                                                     |
| description | Expose functions for quotas management per tenant          |
| links       |                                                            |
| name        | Quota management support                                   |
| namespace   | http://docs.openstack.org/network/ext/quotas-sets/api/v2.0 |
| updated     | 2012-07-29T10:00:00-00:00                                  |
+-------------+------------------------------------------------------------+</screen>
              <note>
                <para>Only some plug-ins support per-tenant quotas. Specifically,
                                    Open vSwitch, Linux Bridge, and VMware NSX support them, but new
                                    versions of other plug-ins might bring additional functionality.
                                    See the documentation for each plug-in.</para>
              </note>
            </step>
            <step>
              <title>List tenants who have per-tenant quota support</title>
              <para>The <command>quota-list</command> command lists tenants for which
                                the per-tenant quota is enabled. The command does not list tenants
                                with default quota support. You must be an administrative user to
                                run this command:</para>
              <screen><prompt>$</prompt> neutron quota-list</screen>
              <screen>+------------+---------+------+--------+--------+----------------------------------+
| floatingip | network | port | router | subnet | tenant_id                        |
+------------+---------+------+--------+--------+----------------------------------+
|         20 |       5 |   20 |     10 |      5 | 6f88036c45344d9999a1f971e4882723 |
|         25 |      10 |   30 |     10 |     10 | bff5c9455ee24231b5bc713c1b96d422 |
+------------+---------+------+--------+--------+----------------------------------+</screen>
            </step>
            <step>
              <title>Show per-tenant quota values</title>
              <para>The <command>quota-show</command> reports the current set of quota
                                limits for the specified tenant. Non-administrative users can run
                                this command without the <parameter>--tenant_id</parameter>
                                parameter. If per-tenant quota limits are not enabled for the
                                tenant, the command shows the default set of quotas:</para>
              <screen><prompt>$</prompt> neutron quota-show --tenant_id 6f88036c45344d9999a1f971e4882723</screen>
              <screen>+------------+-------+
| Field      | Value |
+------------+-------+
| floatingip | 20    |
| network    | 5     |
| port       | 20    |
| router     | 10    |
| subnet     | 5     |
+------------+-------+</screen>
              <para>The following command shows the command output for a
                                non-administrative user:</para>
              <screen><prompt>$</prompt> neutron quota-show</screen>
              <screen>+------------+-------+
| Field      | Value |
+------------+-------+
| floatingip | 20    |
| network    | 5     |
| port       | 20    |
| router     | 10    |
| subnet     | 5     |
+------------+-------+</screen>
            </step>
            <step>
              <title>Update quota values for a specified tenant</title>
              <para>Use the <command>quota-update</command> command to update a quota
                                for a specified tenant:</para>
              <screen><prompt>$</prompt> neutron quota-update --tenant_id 6f88036c45344d9999a1f971e4882723 --network 5
+------------+-------+
| Field      | Value |
+------------+-------+
| floatingip | 50    |
| network    | 5     |
| port       | 50    |
| router     | 10    |
| subnet     | 10    |
+------------+-------+</screen>
              <para>You can update quotas for multiple resources through one
                                command:</para>
              <screen><prompt>$</prompt> neutron quota-update --tenant_id 6f88036c45344d9999a1f971e4882723 --subnet 5 --port 20
+------------+-------+
| Field      | Value |
+------------+-------+
| floatingip | 50    |
| network    | 5     |
| port       | 20    |
| router     | 10    |
| subnet     | 5     |
+------------+-------+</screen>
              <para>To update the limits for an L3 resource such as, router or
                                floating IP, you must define new values for the quotas after the
                                    <parameter>--</parameter> directive.</para>
              <para>This example updates the limit of the number of floating IPs for
                                the specified tenant:</para>
              <screen><prompt>$</prompt> neutron quota-update --tenant_id 6f88036c45344d9999a1f971e4882723 -- --floatingip 20</screen>
              <screen>+------------+-------+
| Field      | Value |
+------------+-------+
| floatingip | 20    |
| network    | 5     |
| port       | 20    |
| router     | 10    |
| subnet     | 5     |
+------------+-------+</screen>
              <para>You can update the limits of multiple resources by including L2
                                resources and L3 resource through one command.</para>
              <screen><prompt>$</prompt> neutron quota-update --tenant_id 6f88036c45344d9999a1f971e4882723 --network 3 --subnet 3 --port 3 -- --floatingip 3 --router 3
+------------+-------+
| Field      | Value |
+------------+-------+
| floatingip | 3     |
| network    | 3     |
| port       | 3     |
| router     | 3     |
| subnet     | 3     |
+------------+-------+</screen>
            </step>
            <step>
              <title>Delete per-tenant quota values</title>
              <para>To clear per-tenant quota limits, use the
                                <command>quota-delete</command> command:</para>
              <screen><prompt>$</prompt> neutron quota-delete --tenant_id 6f88036c45344d9999a1f971e4882723</screen>
              <screen>Deleted quota: 6f88036c45344d9999a1f971e4882723</screen>
              <para>After you run this command, you can see that quota values for the
                                tenant are reset to the default values:</para>
              <screen><prompt>$</prompt> neutron quota-show --tenant_id 6f88036c45344d9999a1f971e4882723</screen>
              <screen>+------------+-------+
| Field      | Value |
+------------+-------+
| floatingip | 50    |
| network    | 10    |
| port       | 50    |
| router     | 10    |
| subnet     | 10    |
+------------+-------+</screen>
            </step>
          </procedure>
        </sect3>
      </sect2>
    </sect1>
    <?hard-pagebreak?>
    <sect1 id="analyzing-log-files-with-swift-cli">
      <title>Analyze log files</title>
      <para>Use the swift command-line client to analyze log files.</para>
      <para>The swift client is simple to use, scalable, and flexible.</para>
      <para>Use the swift client <option>-o</option> or <option>-output</option> option to get
                short answers to questions about logs,</para>
      <para>You can use the <parameter>-o</parameter> or <parameter>--output</parameter>
                option with a single object download to redirect the command output to a specific
                file or to STDOUT (<literal>-</literal>). The ability to redirect the output to
                STDOUT enables you to pipe (<literal>|</literal>) data without saving it to disk
                first.</para>
      <sect2 id="swift_file_analysis">
        <title>Upload and analyze log files</title>
        <procedure>
          <step>
            <para>This example assumes that <filename>logtest</filename> directory
                            contains the following log files:</para>
            <example>
              <title>Example files</title>
              <screen>2010-11-16-21_access.log
2010-11-16-22_access.log
2010-11-15-21_access.log
2010-11-15-22_access.log</screen>
            </example>
            <para>Each file uses the following line format:</para>
            <example>
              <title>Log line format</title>
              <screen>Nov 15 21:53:52 lucid64 proxy-server - 127.0.0.1 15/Nov/2010/22/53/52 DELETE /v1/AUTH_cd4f57824deb4248a533f2c28bf156d3/2eefc05599d44df38a7f18b0b42ffedd HTTP/1.0 204 - \
- test%3Atester%2CAUTH_tkcdab3c6296e249d7b7e2454ee57266ff - - - txaba5984c-aac7-460e-b04b-afc43f0c6571 - 0.0432</screen>
            </example>
          </step>
          <step>
            <para>Change into the <filename class="directory">logtest</filename>
                            directory:</para>
            <screen><prompt>$</prompt> cd logtest</screen>
          </step>
          <step>
            <para>Upload the log files into the <filename>logtest</filename>
                            container:</para>
            <screen><prompt>$</prompt> swift -A http://swift-auth.com:11000/v1.0 -U test:tester -K testing upload logtest *.log</screen>
            <screen>2010-11-16-21_access.log
2010-11-16-22_access.log
2010-11-15-21_access.log
2010-11-15-22_access.log</screen>
          </step>
          <step>
            <para>Get statistics for the account:</para>
            <screen><prompt>$</prompt> swift -A http://swift-auth.com:11000/v1.0 -U test:tester -K testing -q stat</screen>
            <screen>Account: AUTH_cd4f57824deb4248a533f2c28bf156d3
Containers: 1
Objects: 4
Bytes: 5888268</screen>
          </step>
          <step>
            <para>Get statistics for the logtest container:</para>
            <screen><prompt>$</prompt> swift -A http://swift-auth.com:11000/v1.0 -U test:tester -K testing stat logtest         </screen>
            <screen>Account: AUTH_cd4f57824deb4248a533f2c28bf156d3
Container: logtest
Objects: 4
Bytes: 5864468
Read ACL:
Write ACL:</screen>
          </step>
          <step>
            <para>List all objects in the logtest container:</para>
            <screen><prompt>$</prompt> swift -A http:///swift-auth.com:11000/v1.0 -U test:tester -K testing list logtest</screen>
            <screen>2010-11-15-21_access.log
2010-11-15-22_access.log
2010-11-16-21_access.log
2010-11-16-22_access.log</screen>
          </step>
        </procedure>
      </sect2>
      <sect2 id="swift_upload_files">
        <title>Download and analyze an object</title>
        <procedure>
          <para>This example uses the <option>-o</option> option and a hyphen
                            (<literal>-</literal>) to get information about an object.</para>
          <para>Use the swift <command>download</command> command to download the object.
                        On this command, stream the output to <command>awk</command> to break down
                        requests by return code and the date <literal>2200 on November 16th,
                            2010</literal>.</para>
          <para>Using the log line format, find the request type in column 9 and the
                        return code in column 12.</para>
          <para>After <command>awk</command> processes the output, it pipes it to
                        <command>sort</command> and <command>uniq -c</command> to sum up the number
                        of occurrences for each request type and return code combination.</para>
          <step>
            <para>Download an object:</para>
            <screen><prompt>$</prompt> swift -A http://swift-auth.com:11000/v1.0 -U test:tester -K testing \
     download -o - logtest 2010-11-16-22_access.log | awk '{ print $9"-"$12}' | sort | uniq -c           </screen>
            <screen>805 DELETE-204
12 DELETE-404
2 DELETE-409
723 GET-200
142 GET-204
74 GET-206
80 GET-304
34 GET-401
5 GET-403
18 GET-404
166 GET-412
2 GET-416
50 HEAD-200
17 HEAD-204
20 HEAD-401
8 HEAD-404
30 POST-202
25 POST-204
22 POST-400
6 POST-404
842 PUT-201
2 PUT-202
32 PUT-400
4 PUT-403
4 PUT-404
2 PUT-411
6 PUT-412
6 PUT-413
2 PUT-422
8 PUT-499</screen>
          </step>
          <step>
            <para>Discover how many PUT requests are in each log file.</para>
            <para>Use a bash for loop with awk and swift with the
                                <parameter>-o</parameter> or <parameter>--output</parameter> option
                            and a hyphen (<literal>-</literal>) to discover how many PUT requests
                            are in each log file.</para>
            <para>Run the swift <command>list</command> command to list objects in the
                            logtest container. Then, for each item in the list, run the swift
                            <command>download -o -</command> command. Pipe the output into grep to
                            filter the PUT requests. Finally, pipe into <command>wc -l</command> to
                            count the lines.</para>
            <screen><prompt>$</prompt> for f in `swift -A http://swift-auth.com:11000/v1.0 -U test:tester -K testing list logtest` ; \
        do  echo -ne "PUTS - " ; swift -A http://swift-auth.com:11000/v1.0 -U test:tester -K testing download -o -  logtest $f | grep PUT | wc -l ; \
    done</screen>
            <screen>2010-11-15-21_access.log - PUTS - 402
2010-11-15-22_access.log - PUTS - 1091
2010-11-16-21_access.log - PUTS - 892
2010-11-16-22_access.log - PUTS - 910</screen>
          </step>
          <step>
            <para>List the object names that begin with a specified string.</para>
            <para>Run the swift <command>list -p 2010-11-15</command> command to list
                            objects in the logtest container that begin with the
                                <literal>2010-11-15</literal> string.</para>
            <para>For each item in the list, run the swift
                            <command>download -o -</command> command.</para>
            <para>Pipe the output to <command>grep</command> and <command>wc</command>.
                            Use the <command>echo</command> command to display the object
                            name.</para>
            <screen><prompt>$</prompt> for f in `swift -A http://swift-auth.com:11000/v1.0 -U test:tester -K testing list -p 2010-11-15 logtest` ; \
        do  echo -ne "$f - PUTS - " ; swift -A http://127.0.0.1:11000/v1.0 -U test:tester \
        -K testing download -o - logtest $f | grep PUT | wc -l ; \
      done</screen>
            <screen>2010-11-15-21_access.log - PUTS - 402
2010-11-15-22_access.log - PUTS - 910</screen>
          </step>
        </procedure>
      </sect2>
    </sect1>
  </chapter>
  <appendix id="app_community_support" xml:base="../common/app_support.xml">
    <?dbhtml stop-chunking?>
    <title>Community support</title>
    <para>The following resources are available to help you run and use OpenStack. The OpenStack
            community constantly improves and adds to the main features of OpenStack, but if you
            have any questions, do not hesitate to ask. Use the following resources to get OpenStack
            support, and troubleshoot your installations.</para>
    <sect1 id="support-documentation">
      <title>Documentation</title>
      <para>For the available OpenStack documentation, see <ulink url="http://docs.openstack.org">docs.openstack.org</ulink>.</para>
      <para>To provide feedback on documentation, join and use the
                    <email>openstack-docs@lists.openstack.org</email> mailing list at <ulink url="http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-docs">OpenStack Documentation Mailing List</ulink>, or <ulink url="https://bugs.launchpad.net/openstack-manuals/+filebug">report a
                    bug</ulink>.</para>
      <para>The following books explain how to install an OpenStack cloud and its associated
                components:</para>
      <itemizedlist>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/juno/install-guide/install/apt-debian/content/">
              <citetitle>Installation Guide for Debian 7</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/juno/install-guide/install/zypper/content/">
              <citetitle>Installation Guide for openSUSE 13.1 and SUSE Linux
                                Enterprise Server 11 SP3</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/juno/install-guide/install/yum/content/">
              <citetitle>Installation Guide for Red Hat Enterprise Linux 7, CentOS 7,
                                and Fedora 20</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/juno/install-guide/install/apt/content/">
              <citetitle>Installation Guide for Ubuntu 14.04</citetitle>
            </ulink>
          </para>
        </listitem>
      </itemizedlist>
      <para>The following books explain how to configure and run an OpenStack cloud:</para>
      <itemizedlist>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/arch-design/content/">
              <citetitle>Architecture Design Guide</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/admin-guide-cloud/content/">
              <citetitle>Cloud Administrator Guide</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/juno/config-reference/content/">
              <citetitle>Configuration Reference</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/ops/">
              <citetitle>Operations Guide</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/high-availability-guide/content/">
              <citetitle>High Availability Guide</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/sec/">
              <citetitle>Security Guide</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/image-guide/content/">
              <citetitle>Virtual Machine Image Guide</citetitle>
            </ulink>
          </para>
        </listitem>
      </itemizedlist>
      <para>The following books explain how to use the OpenStack dashboard and command-line
                clients:</para>
      <itemizedlist>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/api/quick-start/content/">
              <citetitle>API Quick Start</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/user-guide/content/">
              <citetitle>End User Guide</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/user-guide-admin/content/">
              <citetitle>Admin User Guide</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/cli-reference/content/">
              <citetitle>Command-Line Interface Reference</citetitle>
            </ulink>
          </para>
        </listitem>
      </itemizedlist>
      <para>The following documentation provides reference and guidance information for the
                OpenStack APIs:</para>
      <itemizedlist>
        <listitem>
          <para>
            <ulink url="http://developer.openstack.org/api-ref.html">OpenStack API
                            Complete Reference (HTML)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://developer.openstack.org/api-ref-guides/bk-api-ref.pdf">API Complete Reference (PDF)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/api/openstack-block-storage/2.0/content/">
              <citetitle>OpenStack Block Storage Service API v2 Reference</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/api/openstack-compute/2/content/">
              <citetitle>OpenStack Compute API v2 and Extensions Reference</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/api/openstack-identity-service/2.0/content/">
              <citetitle>OpenStack Identity Service API v2.0 Reference</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/api/openstack-image-service/2.0/content/">
              <citetitle>OpenStack Image Service API v2 Reference</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/api/openstack-network/2.0/content/">
              <citetitle>OpenStack Networking API v2.0 Reference</citetitle>
            </ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="http://docs.openstack.org/api/openstack-object-storage/1.0/content/">
              <citetitle>OpenStack Object Storage API v1 Reference</citetitle>
            </ulink>
          </para>
        </listitem>
      </itemizedlist>
      <para>The <ulink url="http://docs.openstack.org/training-guides/content/"><citetitle>Training Guides</citetitle></ulink> offer software training for cloud administration and management.</para>
    </sect1>
    <sect1 id="support-ask_openstack">
      <title>ask.openstack.org</title>
      <para>During the set up or testing of OpenStack, you might have questions about how a
                specific task is completed or be in a situation where a feature does not work
                correctly. Use the <ulink url="http://ask.openstack.org">ask.openstack.org</ulink> site to ask questions and get answers. When you visit
                the <ulink url="http://ask.openstack.org">http://ask.openstack.org</ulink>
                site, scan the recently asked questions to see whether your question has already
                been answered. If not, ask a new question. Be sure to give a clear, concise summary
                in the title and provide as much detail as possible in the description. Paste in
                your command output or stack traces, links to screen shots, and any other
                information which might be useful.</para>
    </sect1>
    <sect1 id="support-mailing-lists">
      <title>OpenStack mailing lists</title>
      <para>A great way to get answers and insights is to post your question or problematic
                scenario to the OpenStack mailing list. You can learn from and help others who might
                have similar issues. To subscribe or view the archives, go to <ulink url="http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack">http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack</ulink>. You might
                be interested in the other mailing lists for specific projects or development, which
                you can find <ulink url="http://wiki.openstack.org/MailingLists">on the
                    wiki</ulink>. A description of all mailing lists is available at <ulink url="http://wiki.openstack.org/MailingLists">http://wiki.openstack.org/MailingLists</ulink>.</para>
    </sect1>
    <sect1 id="support-wiki">
      <title>The OpenStack wiki</title>
      <para>The <ulink url="http://wiki.openstack.org/">OpenStack wiki</ulink> contains a
                broad range of topics but some of the information can be difficult to find or is a
                few pages deep. Fortunately, the wiki search feature enables you to search by title
                or content. If you search for specific information, such as about networking or
                nova, you can find a large amount of relevant material. More is being added all the
                time, so be sure to check back often. You can find the search box in the upper-right
                corner of any OpenStack wiki page.</para>
    </sect1>
    <sect1 id="support-bugs-area">
      <title>The Launchpad Bugs area</title>
      <para>The OpenStack community values your set up and testing efforts and wants your
                feedback. To log a bug, you must sign up for a Launchpad account at <ulink url="https://launchpad.net/+login">https://launchpad.net/+login</ulink>.
                You can view existing bugs and report bugs in the Launchpad Bugs area. Use the
                search feature to determine whether the bug has already been reported or already
                been fixed. If it still seems like your bug is unreported, fill out a bug
                report.</para>
      <para>Some tips:</para>
      <itemizedlist>
        <listitem>
          <para>Give a clear, concise summary.</para>
        </listitem>
        <listitem>
          <para>Provide as much detail as possible in the description. Paste in your
                        command output or stack traces, links to screen shots, and any other
                        information which might be useful.</para>
        </listitem>
        <listitem>
          <para>Be sure to include the software and package versions that you are using,
                        especially if you are using a development branch, such as, <literal>"Juno
                            release" vs git commit
                            bc79c3ecc55929bac585d04a03475b72e06a3208</literal>.</para>
        </listitem>
        <listitem>
          <para>Any deployment-specific information is helpful, such as whether you are
                        using Ubuntu 14.04 or are performing a multi-node installation.</para>
        </listitem>
      </itemizedlist>
      <para>The following Launchpad Bugs areas are available:</para>
      <itemizedlist>
        <!-- Core projects, sorted alphabetically -->
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/cinder">Bugs: OpenStack Block
                            Storage (cinder)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/nova">Bugs: OpenStack Compute
                            (nova)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/horizon">Bugs: OpenStack
                            Dashboard (horizon)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/keystone">Bugs: OpenStack
                            Identity (keystone)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/glance">Bugs: OpenStack Image
                            Service (glance)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/neutron">Bugs: OpenStack
                            Networking (neutron)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/swift">Bugs: OpenStack Object
                            Storage (swift)</ulink>
          </para>
        </listitem>
        <!-- Modules, sorted alphabetically -->
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/ironic">Bugs: Bare Metal
                            (ironic)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/sahara">Bugs: Data Processing
                            Service (sahara)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/trove">Bugs: Database Service
                            (trove)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/heat">Bugs: Orchestration
                            (heat)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/ceilometer">Bugs: Telemetry
                            (ceilometer)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/marconi">Bugs: Queue Service
                            (marconi)</ulink>
          </para>
        </listitem>
        <!-- Programs, sorted alphabetically -->
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/openstack-api-site">Bugs:
                            OpenStack API Documentation (developer.openstack.org)</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <ulink url="https://bugs.launchpad.net/openstack-manuals">Bugs:
                            OpenStack Documentation (docs.openstack.org)</ulink>
          </para>
        </listitem>
      </itemizedlist>
    </sect1>
    <sect1 id="support-irc-channel">
      <title>The OpenStack IRC channel</title>
      <para>The OpenStack community lives in the #openstack IRC channel on the Freenode
                network. You can hang out, ask questions, or get immediate feedback for urgent and
                pressing issues. To install an IRC client or use a browser-based client, go to <ulink url="http://webchat.freenode.net">http://webchat.freenode.net/</ulink>.
                You can also use Colloquy (Mac OS X, <ulink url="http://colloquy.info/">http://colloquy.info/</ulink>), mIRC (Windows, <ulink url="http://www.mirc.com/">http://www.mirc.com/</ulink>), or XChat
                (Linux). When you are in the IRC channel and want to share code or command output,
                the generally accepted method is to use a Paste Bin. The OpenStack project has one
                at <ulink url="http://paste.openstack.org">http://paste.openstack.org</ulink>.
                Just paste your longer amounts of text or logs in the web form and you get a URL
                that you can paste into the channel. The OpenStack IRC channel is
                    <literal>#openstack</literal> on <literal>irc.freenode.net</literal>. You can
                find a list of all OpenStack IRC channels at <ulink url="https://wiki.openstack.org/wiki/IRC">https://wiki.openstack.org/wiki/IRC</ulink>.</para>
    </sect1>
    <sect1 id="support-documentation-feedback">
      <title>Documentation feedback</title>
      <para>To provide feedback on documentation, join and use the
                    <email>openstack-docs@lists.openstack.org</email> mailing list at <ulink url="http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-docs">OpenStack Documentation Mailing List</ulink>, or <ulink url="https://bugs.launchpad.net/openstack-manuals/+filebug">report a
                    bug</ulink>.</para>
    </sect1>
    <sect1 id="distro-support">
      <title>OpenStack distribution packages</title>
      <para>The following Linux distributions provide community-supported packages for
                OpenStack:</para>
      <itemizedlist>
        <listitem>
          <para>
            <emphasis role="bold">Debian:</emphasis>
            <ulink url="http://wiki.debian.org/OpenStack">http://wiki.debian.org/OpenStack</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis role="bold">CentOS, Fedora, and Red Hat Enterprise
                            Linux:</emphasis>
            <ulink url="http://openstack.redhat.com/">http://openstack.redhat.com/</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis role="bold">openSUSE and SUSE Linux Enterprise Server:</emphasis>
            <ulink url="http://en.opensuse.org/Portal:OpenStack">http://en.opensuse.org/Portal:OpenStack</ulink>
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis role="bold">Ubuntu:</emphasis>
            <ulink url="https://wiki.ubuntu.com/ServerTeam/CloudArchive">https://wiki.ubuntu.com/ServerTeam/CloudArchive</ulink>
          </para>
        </listitem>
      </itemizedlist>
    </sect1>
  </appendix>
</book>
