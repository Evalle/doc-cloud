<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE appendix 
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<!-- Converted by suse-upgrade version 1.1 -->
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="cha.deploy.poc">
 <title>&cloud; Deployment Guide Questionnaire</title>
 <info>
<dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
    <dm:maintainer>fs</dm:maintainer>
    <dm:status>editing</dm:status>
    <dm:deadline/>
    <dm:priority/>
    <dm:translation>no</dm:translation>
    <dm:languages/>
</dm:docmanager>
</info>

<sect1 xml:id="sec.depl.poc.scope">
  <title>Document Scope</title>
  <para>
    This document will help to optimally prepare SUSE and their prospective customers for Proof of Concept on &cloud;. Please note  that this document does not aim to replace any of the official documentations. This document is an addition to the general SUSE OpenStack Deployment Guide (presently at
    <link xlink:href="https://www.suse.com/documentation/suse-openstack-cloud-7"/>) which provides specific details for the Proof of Concept (PoC) implementation.
  </para>
</sect1>
<sect1 xml:id="sec.depl.poc.features">
  <title>&cloud; Key Features</title>
  <para>
    The latest version of &cloud; is 7 supports all OpenStack Newton release components for best-in-class capabilities to deploy an open source, private cloud.
  </para>
  <itemizedlist mark="bullet" spacing="normal">
    <listitem>
      <para>
	<emphasis>Installation Framework:</emphasis> Integration with the Crowbar project speeds up and simplifies installation and administration of your physical cloud infrastructure.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Mixed Hypervisor Support:</emphasis> Enhanced virtualization management through support for multi-hypervisor environments that use KVM, Xen, Microsoft Hyper-V, VMware vSphere and IBM z/VM.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>High Availability:</emphasis> Automated deployment and configuration of control plane clusters. Ensures continuous access to business services and delivery of enterprise-grade SLAs.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>High availability for KVM / Xen Compute Nodes and Workloads:</emphasis> Enhanced support for critical workloads not designed for cloud architectures.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Ceph:</emphasis> Integration with SUSE Enterprise Storage provides a streamlined deployment of a single solution for distributed block, object and virtual machine image storage.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Docker Support:</emphasis> Build and run innovative containerized application through Magum integration.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Scalability:</emphasis> Cloud control system designed to grow with your demands.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Open APIs:</emphasis> Using the standard APIs, customers can enhance and integrate OpenStack with third-party software.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Block Storage Plug-Ins:</emphasis> Broad choice of from storage vendors such as EMC, NetApp and others.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Networking Plug-Ins:</emphasis> Whilst natively supporting Open Source SDN’s via Open vSwitch harnessing the power of DPDK in &sls;  12 SP2 or third-party tools from Cisco, Midokura, Infoblox, Nuage Networks, PLUMgrid and even VLAN bridging solutions for flexibility.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Award-winning Support:</emphasis> Backed by 24X7 worldwide-technical support.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Full Integration into SUSE Update Processes:</emphasis> Easily maintain and patch cloud deployments.
      </para>
    </listitem>
    <listitem>
      <para>
	<emphasis>Non-disruptive Upgrade Capabilities:</emphasis> Ease migration to future SUSE OpenStack Cloud releases
      </para>
    </listitem>
  </itemizedlist>
</sect1>

<sect1 xml:id="sec.depl.poc.components">
    <title>Main Components<remark>dpopov 2016-11-11: Proof-of-Concept Deployment Guidelines</remark>
    POC Guide</title>
    <para>
      Components for setting up and managing SUSE OpenStack cloud include:
    </para>

    <para>
      <emphasis>Administration Server:</emphasis> The Administration Server provides all services needed to manage and deploy all other nodes in
the cloud. Most of these services are provided by the Crowbar tool that automates in conjunction with Chef all the required installation and configuration tasks. Among the services provided by the server are DHCP, DNS, NTP, PXE, TFTP.
    </para>

    <para>
      The Administration Server also hosts the software repositories for SUSE Linux Enterprise Server and SUSE OpenStack Cloud, since they are needed for node deployment. Optionally (if no other sources for the software repositories are available) it can also host the Subscription Management Tool (SMT), providing up-to-date repositories with updates and patches for all nodes.
    </para>

    <para>
      Control Nodes: The Control Node(s) hosts all OpenStack services needed to orchestrate virtual machines deployed on the Compute Nodes in the SUSE OpenStack Cloud. OpenStack on SUSE OpenStack Cloud uses a PostgreSQL database, which is also hosted on the Control Node(s). The following OpenStack components—if deployed—run on the Control Node(s):
    </para>

    <itemizedlist>
      <listitem>
	<para>PostgreSQL</para>
      </listitem>
      <listitem>
	<para>Image (Glance)</para>
      </listitem>
      <listitem>
	<para>Identity (Keystone)</para>
      </listitem>
      <listitem>
	<para>Networking (Neutron)</para>
      </listitem>
      <listitem>
	<para>Block Storage (Cinder)</para>
      </listitem>
      <listitem>
	<para>Shared Storage (Manila)</para>
      </listitem>
      <listitem>
	<para>OpenStack Dashboard</para>
      </listitem>
      <listitem>
	<para>Keyston</para>
      </listitem>
     <listitem>
	<para>Pacemaker</para>
      </listitem>
     <listitem>
	<para>Nova controller</para>
      </listitem>
     <listitem>
	<para>Message broker</para>
      </listitem>
     <listitem>
	<para>Swift proxy server</para>
      </listitem>
     <listitem>
	<para>Hawk monitor</para>
      </listitem>
     <listitem>
	<para>Heat an orchestration engine</para>
      </listitem>
     <listitem>
	<para>Ceilometer server and agents</para>
      </listitem>
     <listitem>
	<para>Trove a Database-as-a-Service</para>
      </listitem>
    </itemizedlist>

    <para>
      Being a central point in the SUSE OpenStack Cloud architecture that runs a lot of services, a single Control Node can quickly become a performance bottleneck, especially in large SUSE OpenStack Cloud deployments. It is possible to distribute the services listed above on more than one Control Node, up to a setup where each service runs on its own node.
    </para>

    <para>
      <emphasis>Compute Nodes:</emphasis> The Compute Nodes are the pool of machines on which the instances are running. These machines need to be equipped with a sufficient number of CPUs and enough RAM to start several instances. They also need to provide sufficient hard disk space.  The Control Node effectively distributes instances within the pool of Compute Nodes and provides the necessary network resources. The OpenStack service Compute (Nova) runs on the Compute Nodes and provides means for setting up, starting, and stopping virtual machines. SUSE OpenStack Cloud supports several hypervisors such as Hyper-V, KVM, VMware vSphere, Xen and Docker. Each image that can be started with an instance is bound to one hypervisor. Each Compute Node can only run one hypervisor at a time. For this PoC SUSE recommends to leverage KVM  as hypervisor of choice.
    </para> 

      <para>
	Optionally Storage Nodes: The Storage Nodes are the pool of machines providing object or block storage. Object storage supports several different backends.
      </para>
</sect1>
<sect1 xml:id="sec.depl.poc.worksheet">
  <title>POC Worksheet</title>
  <orderedlist>
    <listitem>
      <para>
	Which network mode will you will be using? (Single, Dual, Teaming). See <xref linkend="sec.depl.req.network.modes"/>.
      </para>
    </listitem>
    <listitem>
      <para>
	Are you going to utilize an existing SMT server or install one on the Admin Server. See <xref linkend="sec.depl.req.storage" />
      </para>
    </listitem>
    <listitem>
      <para>
	Admin Server FQDN? (cannot be changed after deployment). See <xref linkend="sec.depl.req.network.dns" />.

      </para>
    </listitem>
    <listitem>
      <para>
	Are there additional DNS servers you want &cloud; to forward to for non-local DNS 
	records? See <xref linkend="sec.depl.req.network.dns" />.
      </para>
    </listitem>
    <listitem>
      <para>
	Which hypervisors will you be supporting in your Cloud? (ESXi, Xen, KVM, Hyper-V). See <xref linkend="sec.depl.arch.components.compute" /> <remark>dpopov 2016-11-14: Section 5.10 doesn't exist</remark>
      </para>
    </listitem>
    <listitem>
      <para>
	Is a bastion network required on the Admin server? <remark>dpopov 2016-11-14: Section 3.2.4 doesn't exist. </remark>
      </para>
    </listitem>
    <listitem>
      <para>
	What backend will you be use for your Glance image repository? (local, Swift, RBD)<remark>dpopov 2016-11-14:Section 5.5 doesn't exist</remark>
      </para>
    </listitem>
    <listitem>
      <para>
	Which backend will you choose for Cinder? (local, raw, eqlx, Netapp, EMC, RBD)<remark>dpopov 2016-11-14: Section 5.8 doesn't exist</remark>
      </para>
    </listitem>
    <listitem>
      <para>
	Which plugin will you use for Neutron? (linuxbridge, openvswitch, cisco)<remark>dpopov 2016-11-14: Section 5.9</remark>
      </para>
    </listitem>
    <listitem>
      <para>
	Which encapsulation mode will you use for Neutron? (flat, VLAN, gre)<remark>dpopov 2016-11-14: Section 5.9</remark>
      </para>
    </listitem>
    <listitem>
      <para>
	MAC addresses associated with each corresponding host function. See <xref linkend="sec.depl.req.network.allocation" />
      </para>
    </listitem>
  </orderedlist>
  <table>
  <title>MAC Addresses</title>
  <tgroup cols="3">
    <colspec colnum="1" colname="1" colwidth="33*"/>
    <colspec colnum="2" colname="2" colwidth="33*"/>
    <colspec colnum="3" colname="3" colwidth="33*"/>
    <thead>
      <row>
	<entry><para>Type</para></entry>
	<entry><para>Function</para></entry>
	<entry><para>MAC Addresses</para></entry>
      </row>
    </thead>
    <tbody>
      <row>
	<entry><para>Admin Server</para></entry>
	<entry><para>Admin Network</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Bastion</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para>Controller Node(s)</para></entry>
	<entry><para>PostgreSQL Database</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Glance (Images)</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Keystone (Identity)</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Neuron (Networking)</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Cinder (Block Storage)</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Nova Dashboard (Horizon)</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Compute Management (Nova and Nova multi-controller)</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Message Broker (Rabbit MQ)</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Swift-proxy, Swift-dispersion</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Swift Ring</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Ceph master monitor</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para>Compute Nodes</para></entry>
	<entry><para>Nova-multi-compute-esxi</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Nova-multi-compute-kvm</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>Nova-multi-compute-xen</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para>Storage Nodes</para></entry>
	<entry><para>Swift-storage</para></entry>
	<entry><para></para></entry>
      </row>
      <row>
	<entry><para></para></entry>
	<entry><para>cinder-volume</para></entry>
	<entry><para></para></entry>
      </row>
  </tbody>
 </tgroup>
  </table>
  <orderedlist continuation="continues">
    <listitem>
      <para>Admin/BMC Network Address Allocation (default address allocation included). The size of 
this subnet will set the maximum number of compute/storage/controller/admin nodes in your cloud. See <xref linkend="sec.depl.req.network.allocation"/></para>
    </listitem>
  </orderedlist>
  <table>
    <title>Network Address Allocation</title>
    <tgroup cols="4">
      <colspec colnum="1" colname="1" colwidth="25*"/>
      <colspec colnum="2" colname="2" colwidth="25*"/>
      <colspec colnum="3" colname="3" colwidth="25*"/>
      <colspec colnum="4" colname="4" colwidth="25*"/>
      <thead>
	<row>
	  <entry><para>Function</para></entry>
	  <entry><para>Addresses</para></entry>
	  <entry><para>VLAN</para></entry>
	  <entry><para></para></entry>
	 </row>
	</thead>
	<tbody>
	  <row>
	    <entry><para>router</para></entry>
	    <entry><para>192.168.124.1</para></entry>
	    <entry><para>false</para></entry>
	    <entry><para></para></entry>
	  </row>
	  <row>
	    <entry><para>admin</para></entry>
	    <entry><para>192.168.124.10 - 192.168.124.11</para></entry>
	    <entry><para>false</para></entry>
	    <entry><para></para></entry>
	  </row>
	  <row>
	    <entry><para>dhcp</para></entry>
	    <entry><para>192.168.124.21 - 192.168.124.80</para></entry>
	    <entry><para>false</para></entry>
	    <entry><para></para></entry>
	  </row>
	  <row>
	    <entry><para>host</para></entry>
	    <entry><para>192.168.124.81 - 192.168.124.160</para></entry>
	    <entry><para>false</para></entry>
	    <entry><para></para></entry>
	  </row>
	  <row>
	    <entry><para>bmc vlan host</para></entry>
	    <entry><para>192.168.124.161</para></entry>
	    <entry><para>100</para></entry>
	    <entry><para></para></entry>
	  </row>
	  <row>
	    <entry><para>bmc host</para></entry>
	    <entry><para>192.168.124.162 - 192.168.124.240</para></entry>
	    <entry><para>false</para></entry>
	    <entry><para></para></entry>
	  </row>
	  <row>
	    <entry><para>switch</para></entry>
	    <entry><para>192.168.124.241 - 192.168.124.250</para></entry>
	    <entry><para>false</para></entry>
	    <entry><para></para></entry>
	  </row>
	  <row>
	    <entry><para>bastion</para></entry>
	    <entry><para>subnet</para>
	    <para>netmask</para>
	    <para>broadcast</para>
	    <para>gateway</para>
	    <para>ip address</para></entry>
	    <entry><para>10.10.1.0</para><para>255.255.255.0</para><para>10.10.1.255</para><para>10.10.1.1</para><para> 10.10.1.125</para></entry>
	    <entry><para>false</para></entry>
	  </row>
	  </tbody>
	 </tgroup>
	</table>
	<orderedlist continuation="continues">
	  <listitem>
	    <para>Storage Network Address Allocation (default address allocation included). The size of this 
	    subnet defines the maximum number of storage nodes in your Swift/Ceph implementation. See <xref linkend="sec.depl.req.network.allocation"/>
	    </para>
	  </listitem>
	</orderedlist>
	<table>
	  <title>Storage Network Address Allocation</title>
	  <tgroup cols="2">
	    <colspec colnum="1" colname="1" colwidth="50*"/>
	    <colspec colnum="2" colname="2" colwidth="50*"/>
	    <thead>
	      <row>
		<entry><para>Function</para></entry>
		<entry><para>Addresses</para></entry>
		<entry><para>VLAN</para></entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry><para>host</para></entry>
		<entry><para>192.168.125.10 - 192.168.125.239</para></entry>
		<entry><para>200</para></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
	<orderedlist continuation="continues">
	  <listitem>
	    <para>
	      Private Network/nova-fixed Network Address Allocation (default
	      address allocation included). The size of this subnet defines
	      the maximum number of concurrent cloud workloads you can
	      run. See <xref linkend="sec.depl.req.network.allocation"/>
	    </para>
	  </listitem>
	</orderedlist>
	<table>
	  <title>Private Network/nova-fixed Network Address Allocation</title>
	  <tgroup cols="3">
	    <colspec colnum="1" colname="1" colwidth="33*"/>
	    <colspec colnum="2" colname="2" colwidth="33*"/>
	    <colspec colnum="3" colname="3" colwidth="33*"/>
	    <thead>
	      <row>
		<entry><para>Function</para></entry>
		<entry><para>Addresses</para></entry>
		<entry><para>VLAN</para></entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry><para>router</para></entry>
		<entry><para>192.168.123.1 - 192.168.123.49</para></entry>
		<entry><para>500</para></entry>
	      </row>
	      <row>
		<entry><para>dhcp</para></entry>
		<entry><para>192.168.123.50 - 192.168.123.254</para></entry>
		<entry><para>500</para></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
	<orderedlist continuation="continues">
	  <listitem>
	    <para>
	      Public Network nova-floating Network Address Allocation (default
	      address allocation included). The size of this subnet defines
	      the maximum number of control nodes in your cloud. See <xref
	      linkend="sec.depl.req.network.allocation"/>
	    </para>
	  </listitem>
	</orderedlist>
	<table>
	  <title>Public Network nova-floating Network Address Allocation</title>
	  <tgroup cols="3">
	    <colspec colnum="1" colname="1" colwidth="33*"/>
	    <colspec colnum="2" colname="2" colwidth="33*"/>
	    <colspec colnum="3" colname="3" colwidth="33*"/>
	    <thead>
	      <row>
		<entry><para>Function</para></entry>
		<entry><para>Addresses</para></entry>
		<entry><para>VLAN</para></entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry><para>Public Host</para></entry>
		<entry><para>192.168.126.2 - 192.168.126.49</para></entry>
		<entry><para>300</para></entry>
	      </row>
	      <row>
		<entry><para>Public DHCP</para></entry>
		<entry><para>192.168.126.50 - 192.168.126.127</para></entry>
		<entry><para>300</para></entry>
	      </row>
	      <row>
		<entry><para>Floating Host</para></entry>
		<entry><para>192.168.126.129 - 192.168.126.191</para></entry>
		<entry><para>300</para></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</table>
	<orderedlist continuation="continues">
	  <listitem>
	    <para>
	      Software Defined Network Address Allocation (default address
	      allocation included). The size of this subnet defines the
	      maximum number of cloud workloads that can be exposed to an
	      external network. See <xref
	      linkend="sec.depl.req.network.allocation"/>
	    </para>
	  </listitem>
	</orderedlist>
	<table>
	  <title>Software Defined Network Address Allocation</title>
	  <tgroup cols="3">
	    <colspec colnum="1" colname="1" colwidth="33*"/>
	    <colspec colnum="2" colname="2" colwidth="33*"/>
	    <colspec colnum="3" colname="3" colwidth="33*"/>
	    <thead>
	      <row>
		<entry><para>Function</para></entry>
		<entry><para>Addresses</para></entry>
		<entry><para>VLAN</para></entry>
	</row>
</thead>
<tbody>
  <row>
    <entry><para>Host</para></entry>
    <entry><para>192.168.130.10 - 192.168.130.254</para></entry>
    <entry><para>700</para></entry>
   </row>
  </tbody>
 </tgroup>
</table>

</sect1>
</appendix>
