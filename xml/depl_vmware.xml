<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE appendix PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "IGNORE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<appendix id="app.deploy.vmware">
 <title>VMware ESX Installation Instructions</title>
 <para>
  VMware ESX is not supported “natively” by &cloud;&mdash;it rather delegates
  requests to an existing vCenter. It requires preparations at the vCenter and
  post install adjustments of the Compute Node.
 </para>
 <sect1 id="app.deploy.vmware.requirements">
  <title>Requirements</title>
  <para>
   The following requirements must be met in order to successfully deploy esxi:
  </para> 
  <orderedlist>
   <listitem>
    <para>
     VMware vSphere vCenter 5.1
    </para>
   </listitem>
   <listitem>
    <para>
     VMware vSphere ESXi nodes 5.1
    </para>
   </listitem>
   <listitem>
    <para>
     The <guimenu>linuxbridge</guimenu> option needs to be enabled in the
     &o_netw; &barcl;.
    </para>
   </listitem>
  </orderedlist>
 </sect1>
 <sect1 id="app.deploy.vmware.vcenter">
  <title>Preparing the VMware vCenter Server</title>
  <para>
   &cloud; requires the VMware vCenter server to run version 5.1 or
   better. You need to create a datacenter for &cloud;:
  </para>
  <procedure>
   <step>
    <para>
     Log into the vCenter Server using the vSphere Web Client
    </para>
   </step>
   <step>
    <para>
     Choose <guimenu>Hosts and Clusters</guimenu> and create a
     <guimenu>Datacenter</guimenu>
    </para>
   </step>
   <step>
    <para>
     Set up a <guimenu>New Cluster</guimenu> which has <guimenu>DRS</guimenu>
     enabled.
    </para>
   </step>
   <step>
    <para>
     Set <guimenu>Automation Level</guimenu> to <literal>Fully
     Automated</literal> and <guimenu>Migration Threshold</guimenu> to
     <literal>Aggressive</literal>.
    </para>
   </step>
   <step>
    <para>
     Add ESXi hosts to the cluster.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 id="app.deploy.vmware.compnode">
  <title>Finishing the esxi &compnode; Installation</title>
  <para>
   Deploy &o_comp; as described in <xref linkend="sec.depl.ostack.nova"/> on
   a single &compnode;. Set <guimenu>VMware Support</guimenu> to
   <guimenu>true</guimenu> and fill in the following attributes:
  </para>
  <variablelist>
   <varlistentry>
    <term><guimenu>vCenter Host Address</guimenu></term>
    <listitem>
     <para>
      IP address of the vCenter server.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <guimenu>vCenter Username</guimenu> / <guimenu>vCenter
     Password</guimenu>
    </term>
    <listitem>
     <para>
      vCenter login credentials.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Cluster Name</term>
    <listitem>
     <para>
      Name of the cluster you have added ob the vCenter server.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Datastore Name</term>
    <listitem>
     <para>
      Regular Expression matching the name of the datastore.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
</appendix>
