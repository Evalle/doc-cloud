<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter 
[
<!ENTITY % entities SYSTEM "entity-decl.ent">
%entities;
]>
<!-- Converted by suse-upgrade version 1.1 -->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="sec.depl.adm_inst.network">
 <info>
  <title>Service Configuration:  &admserv; Network Configuration</title>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:maintainer>fs</dm:maintainer>
   <dm:status>editing</dm:status>
   <dm:deadline/>
   <dm:priority/>
   <dm:translation>no</dm:translation>
   <dm:languages/>
  </dm:docmanager>
  <abstract>
   <para>
    <!-- FIXME: Wording -->
    Only the first interface (<systemitem class="resource">eth0</systemitem>)
    on the &admserv; needs to be configured during the installation. Other
    interfaces will be automatically configured by the cloud installation
    script.
   </para>
  </abstract>
 </info>
 <para>
  <systemitem class="resource">eth0</systemitem> needs to be given a fixed
  IP address from the admin network&mdash;when sticking with the default
  network addresses this would be
  <systemitem class="etheraddress">192.168.124.10</systemitem>. The address
  you need to enter for the <guimenu>Default Gateway</guimenu> depends on
  whether you have provided an external gateway for the admin network (use
  the address of that gateway) or not (use
  <replaceable>xxx.xxx.xxx</replaceable>.1, for example,
  <systemitem class="etheraddress">192.168.124.1</systemitem>). Using a
  custom IP address or more than one network interfaces requires to adjust
  the &crow; configuration in a later step as described in
  <xref linkend="sec.depl.adm_inst.crowbar"/>.
 </para>

 <para>
  If the &admserv; has access to the outside, you can add additional
  name servers that will automatically be used to forward requests. The
  &admserv;'s name server will automatically be configured by the cloud
  installation script to forward requests for non-local records to those
  server(s).
 </para>

 <para>
  You also need to assign a host name and a fully qualified domain name
  (FQDN) such as <replaceable>admin.cloud.&exampledomain;</replaceable>
  to <systemitem class="resource">eth0</systemitem> (tab
  <guimenu>Hostname/DNS</guimenu> in the <guimenu>Network settings
  Dialog</guimenu>).
 </para>

 <para>
  Last, the firewall needs to be disabled for all interfaces. The easiest
  way to achieve this, is to stop and disable the firewall with the
  following commands:
 </para>

<screen>rcSuSEfirewall2 stop
insserv -r rcSuSEfirewall2</screen>

<important>
 <title>&admserv; Domain Name and Host name</title>
 <para>
  Setting up the &cloud; will also install a DNS server for all nodes
  in the cloud. The domain name you specify for the &admserv; will be
  used for the DNS zone. It is required to use a sub-domain such as
  <replaceable>cloud.&exampledomain;</replaceable>. See
  <xref linkend="sec.depl.req.network.dns"/> for more information.
 </para>
 <para>
  The host name and the FQDN need to be resolvable with
  <command>hostname</command> <option>-f</option>. Double-check whether
  <filename>/etc/hosts</filename> contains an appropriate entry for the
  &admserv;. It should look like the following:
 </para>
 <screen>192.168.124.10 admin.cloud.&exampledomain; admin</screen>
 <para>
  It is <emphasis>not</emphasis> possible to change the &admserv; host
  name or the FQDN after the cloud installation script has been run.
 </para>
</important>
</chapter>
