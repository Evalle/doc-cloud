<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "IGNORE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="cha.depl.arch">
 <title>The &cloud; Architecture</title>
 <para>
  &productname; is a private cloud infrastructure solution that can easily be
  deployed and managed. It offers a cloud management solution that help
  organizations to centralize virtual machine deployment. &productname;
  &productnumber; provides the following features:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    Open source software that is based on the &ostack; Essex release.
   </para>
  </listitem>
  <listitem>
   <para>
    Centralized resource tracking providing insight into activities and
    capacity of the cloud infrastructure for optimized automated deployment
    of services.
   </para>
  </listitem>
  <listitem>
   <para>
    A Rule-based scheduler streamlining the automated discovery and
    provisioning of resources based predefined business logic (&chef;).
   </para>
  </listitem>
  <listitem>
   <para>
    A self-service portal allowing end-users to configure and deploy
    services as necessary, also offering the ability to track resource
    consumption (Nova &dash;).
   </para>
  </listitem>
  <listitem>
   <para>
    An image repository allowing to publish standardized, pre-configured
    virtual machines (Glance).
   </para>
  </listitem>
  <listitem>
   <para>
    Automated install processes via &crow; utilizing predefined scripts for
    configuring and deploying compute and storage nodes.
   </para>
  </listitem>
  <listitem>
   <para>
    Multi-tenant, role-based provisioning and access control enabling
    provisioning for multiple departments and users within your
    organization.
   </para>
  </listitem>
  <listitem>
   <para>
    <remark condition="clarity">
     2012-08-10 - fs: Isn't that statement a bit too bold?
    </remark>
    Architected for unlimited growth of cloud environments.
   </para>
  </listitem>
  <listitem>
   <para>
    APIs allowing to integrate third-party software, such as identity
    management and billing solutions.
   </para>
  </listitem>
<!-- fs 2012-08-10:
  Will be delivered via online update at a later stage
  <listitem>
   <para>
    Heterogeneous hypervisor support (&xen; and &kvm;)
   </para>
  </listitem>
-->
 </itemizedlist> 
 <para>
  &productname; is based on &sls;, &ostack; &crow; and &chef;. &sls; is used
  as the underlying operating system for all cloud infrastructure machines
  (also called nodes), whereas &ostack;, the cloud management layer, works as
  the <quote>Cloud Operating System</quote>. &crow; and &chef; are used to
  automatically deploy and manage the &ostack; nodes from a central &admserv;.
 </para>
 
 <figure>
  <title>&productname; Infrastructure</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="cloud_infrastructure.png" width="75%" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="cloud_infrastructure.png" width="75%" format="PNG"/>
   </imageobject>
  </mediaobject>
 </figure>

  <para>
   &productname; consists of four major components deployed on separate
   physical machines:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     one &admserv; for node deployment and management
    </para>
   </listitem>
   <listitem>
    <para>
     one &contrnode; hosting the cloud management services
    </para>
   </listitem>
   <listitem>
    <para>
     several &compnode;s on which the &vmguest;s are started
    </para>
   </listitem>
   <listitem>
    <para>
     several &stornode;s for block and object storage
    </para>
   </listitem>
  </itemizedlist>
  
  <sect1 id="sec.depl.arch.components.admin">
   <title>The &admserv;</title>
   <para>
    The &admserv; provides all services needed to manage and deploy all
    other nodes in the cloud. Most of these services are provided by the
    &crow; tool that automates in conjunction with &chef; all the required
    installation and configuration tasks. Among the services provided by
    the server are DHCP, DNS, NTP, PXE, TFTP.
   </para>
   <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="cloud_admin_node.png" width="75%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="cloud_admin_node.png" width="75%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </informalfigure>
   <para>
    The &admserv; also hosts software the repositories for &sls; and
    &productname; since they are needed for node deployment. Optionally (if no
    existing source is available) it can also host the &smtool; (&smt;)
    providing up-to-date repositories with updates and patches for all nodes.  
    </para>
    <para>
     See <xref linkend="cha.depl.admin_server"/> for installation
     instructions. Make sure to carefully read <xref
     linkend="sec.depl.inst.requires"/> beforehand.
    </para>
  </sect1>
  
  <sect1 id="sec.depl.arch.components.control">
   <title>The &contrnode;</title>
   <para>
    The &contrnode; hosts all &ostack; services needed to operate virtual
    machines deployed on the &compnode;s in the &cloud;. &ostack; on
    &cloud; uses a &postgres; database. It is managed and deployed through
    the &admserv;. The following &ostack; components run on the &contrnode;:
   </para>
   <simplelist>
    <member>&postgres; database</member>
    <member><emphasis role="bold">&img; (Glance)</emphasis> for managing virtual images.</member>
    <member><emphasis role="bold">&ident; (Keystone)</emphasis> providing authentication and authorization for all &ostack; services.</member>
    <member><emphasis role="bold">&dash; (Horizon)</emphasis> providing the
    &dash;, a user web interface for the &ostack; services.</member>
   </simplelist>
   <para>
    In addition to that, the management parts of the compute and storage
    services also run on the &contrnode;. See <xref
    linkend="sec.depl.nodes.controller"/> for installation instructions. Make
    sure to carefully read <xref linkend="sec.depl.inst.requires"/>
    beforehand.
   </para>
  </sect1>

  <sect1 id="sec.depl.arch.components.compute">
   <title>The &compnode;s</title>
   <para>
    The &compnode;s are the pool of machines on which the &vmguest;s are
    running. These machines need to be equipped with a sufficient number of
    CPUs and enough RAM to start several &vmguest;s. Effectively distributing
    &vmguest;s within the pool of &compnode;s and providing the necessary
    network resources is handled by the &contrnode;. The &ostack; service
    &comp; (Nova), running on the &compnode;s provides means for setting up,
    starting and stopping virtual machines.
   </para>
   <para>
    See <xref linkend="sec.depl.nodes.compute"/> for installation
    instructions. Make sure to carefully read <xref
    linkend="sec.depl.inst.requires"/> beforehand.
   </para>
  </sect1>

  
  <sect1 id="sec.depl.arch.components.storage">
   <title>The &stornode;s</title>

<!--
http://www.sebastien-han.fr/blog/2012/06/10/introducing-ceph-to-openstack/
-->
   
   <para>
    The &compnode;s are the pool of machines providing storage. &cloud; offers
    two different types of storage: object and block storage. Object storage
    is provided by the &ostack;; Swift module, while block storage is
    provided by the Ceph module. You can either deploy both services on the
    same &stornode;s or deploy each service separately onto dedicated nodes.
   </para>
    <para>
    See <xref linkend="sec.depl.nodes.storage"/> for installation
    instructions. Make sure to carefully read <xref
    linkend="sec.depl.inst.requires"/> beforehand.
   </para>  
  </sect1>
</chapter>
